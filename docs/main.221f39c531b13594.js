"use strict";(self.webpackChunkX_Cite_Admin=self.webpackChunkX_Cite_Admin||[]).push([[179],{2011:(Et,Oe,B)=>{B.d(Oe,{Dh:()=>ve,GT:()=>Te,cc:()=>He,hO:()=>nt,on:()=>Q,pX:()=>me,xv:()=>xe});var s=B(4650),z=B(127),F=B(5813);Et=B.hmd(Et);const ge=["ngOnDestroy"],me=(Ae,rt,et,Be={})=>new Proxy(Ae,{get:(Ve,Pe)=>et.runOutsideAngular(()=>{var st;if(Ae[Pe])return!(null===(st=Be?.spy)||void 0===st)&&st.get&&Be.spy.get(Pe,Ae[Pe]),Ae[Pe];if(ge.indexOf(Pe)>-1)return()=>{};const ce=rt.toPromise().then(we=>{const Re=we&&we[Pe];return"function"==typeof Re?Re.bind(we):Re&&Re.then?Re.then(ee=>et.run(()=>ee)):et.run(()=>Re)});return new Proxy(()=>{},{get:(we,Re)=>ce[Re],apply:(we,Re,ee)=>ce.then(ue=>{var fe;const Se=ue&&ue(...ee);return!(null===(fe=Be?.spy)||void 0===fe)&&fe.apply&&Be.spy.apply(Pe,ee,Se),Se})})})}),Te=(Ae,rt)=>{rt.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Be=>{Object.defineProperty(Ae.prototype,Be,Object.getOwnPropertyDescriptor(et.prototype||et,Be))})})};class le{constructor(rt){return rt}}const ve=new s.OlP("angularfire2.app.options"),xe=new s.OlP("angularfire2.app.name");function Q(Ae,rt,et){const Ve="object"==typeof et&&et||{};Ve.name=Ve.name||"string"==typeof et&&et||"[DEFAULT]";const st=z.Z.apps.filter(ce=>ce&&ce.name===Ve.name)[0]||rt.runOutsideAngular(()=>z.Z.initializeApp(Ae,Ve));try{JSON.stringify(Ae)!==JSON.stringify(st.options)&&Y("error",`${st.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(st)}const Y=(Ae,...rt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ae](...rt)},oe={provide:le,useFactory:Q,deps:[ve,s.R0b,[new s.FiY,xe]]};let nt=(()=>{class Ae{constructor(et){z.Z.registerVersion("angularfire",F.q4.full,"core"),z.Z.registerVersion("angularfire",F.q4.full,"app-compat"),z.Z.registerVersion("angular",s.q4F.full,et.toString())}static initializeApp(et,Be){return{ngModule:Ae,providers:[{provide:ve,useValue:et},{provide:xe,useValue:Be}]}}}return Ae.\u0275fac=function(et){return new(et||Ae)(s.LFG(s.Lbi))},Ae.\u0275mod=s.oAB({type:Ae}),Ae.\u0275inj=s.cJS({providers:[oe]}),Ae})();function He(Ae,rt,et,Be,Ve){const[,Pe,st]=globalThis.\u0275AngularfireInstanceCache.find(ce=>ce[0]===Ae)||[];if(Pe)return function Le(Ae,rt){try{return Ae.toString()===rt.toString()}catch{return Ae===rt}}(Ve,st)||(Ee("error",`${rt} was already initialized on the ${et} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Ve,was:st})),Pe;{const ce=Be();return globalThis.\u0275AngularfireInstanceCache.push([Ae,ce,Ve]),ce}}const Je=!!Et.hot,Ee=(Ae,...rt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ae](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Et,Oe,B)=>{B.d(Oe,{q4:()=>Pd,iC:()=>ou,fc:()=>lg,HU:()=>lf,vb:()=>af,JM:()=>sf,u3:()=>ul});var s=B(4650),z=B(5867),F=B(5861),ge=B(9681),me=B(2090),Te=B(4859),le=B(1877),ve=B(8766);const xe="@firebase/installations",Q="0.5.11",oe=`w:${Q}`,nt="FIS_v2",rt=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(S){return S instanceof me.ZR&&S.code.includes("request-failed")}function Be({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ve(S){return{token:S.token,requestStatus:2,expiresIn:ue(S.expiresIn),creationTime:Date.now()}}function Pe(S,D){return st.apply(this,arguments)}function st(){return(st=(0,F.Z)(function*(S,D){const Z=(yield D.json()).error;return rt.create("request-failed",{requestName:S,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function ce({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function we(S,{refreshToken:D}){const N=ce(S);return N.append("Authorization",function fe(S){return`${nt} ${S}`}(D)),N}function Re(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,F.Z)(function*(S){const D=yield S();return D.status>=500&&D.status<600?S():D})).apply(this,arguments)}function ue(S){return Number(S.replace("s","000"))}function Se(S,D){return _e.apply(this,arguments)}function _e(){return(_e=(0,F.Z)(function*({appConfig:S,heartbeatServiceProvider:D},{fid:N}){const Z=Be(S),te=ce(S),be=D.getImmediate({optional:!0});if(be){const Ht=yield be.getHeartbeatsHeader();Ht&&te.append("x-firebase-client",Ht)}const it={method:"POST",headers:te,body:JSON.stringify({fid:N,authVersion:nt,appId:S.appId,sdkVersion:oe})},Dt=yield Re(()=>fetch(Z,it));if(Dt.ok){const Ht=yield Dt.json();return{fid:Ht.fid||N,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Ve(Ht.authToken)}}throw yield Pe("Create Installation",Dt)})).apply(this,arguments)}function We(S){return new Promise(D=>{setTimeout(D,S)})}const ln=/^[cdef][\w-]{21}$/;function tt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const N=function Pn(S){return function xt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return ln.test(N)?N:""}catch{return""}}function hi(S){return`${S.appName}!${S.appId}`}const Rn=new Map;function hn(S,D){const N=hi(S);Yn(N,D),function gs(S,D){const N=function Xn(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=S=>{Yn(S.data.key,S.data.fid)}),gr}();N&&N.postMessage({key:S,fid:D}),function ks(){0===Rn.size&&gr&&(gr.close(),gr=null)}()}(N,D)}function Yn(S,D){const N=Rn.get(S);if(N)for(const Z of N)Z(D)}let gr=null;const fi="firebase-installations-store";let Os=null;function Tt(){return Os||(Os=(0,ve.X3)("firebase-installations-database",1,{upgrade:(S,D)=>{0===D&&S.createObjectStore(fi)}})),Os}function Sr(S,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,F.Z)(function*(S,D){const N=hi(S),te=(yield Tt()).transaction(fi,"readwrite"),be=te.objectStore(fi),qe=yield be.get(N);return yield be.put(D,N),yield te.done,(!qe||qe.fid!==D.fid)&&hn(S,D.fid),D})).apply(this,arguments)}function cn(S){return or.apply(this,arguments)}function or(){return(or=(0,F.Z)(function*(S){const D=hi(S),Z=(yield Tt()).transaction(fi,"readwrite");yield Z.objectStore(fi).delete(D),yield Z.done})).apply(this,arguments)}function qi(S,D){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,F.Z)(function*(S,D){const N=hi(S),te=(yield Tt()).transaction(fi,"readwrite"),be=te.objectStore(fi),qe=yield be.get(N),it=D(qe);return void 0===it?yield be.delete(N):yield be.put(it,N),yield te.done,it&&(!qe||qe.fid!==it.fid)&&hn(S,it.fid),it})).apply(this,arguments)}function zn(S){return ji.apply(this,arguments)}function ji(){return(ji=(0,F.Z)(function*(S){let D;const N=yield qi(S.appConfig,Z=>{const te=oo(Z),be=rn(S,te);return D=be.registrationPromise,be.installationEntry});return""===N.fid?{installationEntry:yield D}:{installationEntry:N,registrationPromise:D}})).apply(this,arguments)}function oo(S){return mr(S||{fid:tt(),registrationStatus:0})}function rn(S,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(rt.create("app-offline"))};const N={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},Z=function at(S,D){return wt.apply(this,arguments)}(S,N);return{installationEntry:N,registrationPromise:Z}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:_s(S)}:{installationEntry:D}}function wt(){return(wt=(0,F.Z)(function*(S,D){try{const N=yield Se(S,D);return Sr(S.appConfig,N)}catch(N){throw et(N)&&409===N.customData.serverCode?yield cn(S.appConfig):yield Sr(S.appConfig,{fid:D.fid,registrationStatus:0}),N}})).apply(this,arguments)}function _s(S){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(S){let D=yield Ut(S.appConfig);for(;1===D.registrationStatus;)yield We(100),D=yield Ut(S.appConfig);if(0===D.registrationStatus){const{installationEntry:N,registrationPromise:Z}=yield zn(S);return Z||N}return D})).apply(this,arguments)}function Ut(S){return qi(S,D=>{if(!D)throw rt.create("installation-not-found");return mr(D)})}function mr(S){return function ei(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Gn(S,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,F.Z)(function*({appConfig:S,heartbeatServiceProvider:D},N){const Z=J(S,N),te=we(S,N),be=D.getImmediate({optional:!0});if(be){const Ht=yield be.getHeartbeatsHeader();Ht&&te.append("x-firebase-client",Ht)}const it={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:oe,appId:S.appId}})},Dt=yield Re(()=>fetch(Z,it));if(Dt.ok)return Ve(yield Dt.json());throw yield Pe("Generate Auth Token",Dt)})).apply(this,arguments)}function J(S,{fid:D}){return`${Be(S)}/${D}/authTokens:generate`}function G(S){return ie.apply(this,arguments)}function ie(){return(ie=(0,F.Z)(function*(S,D=!1){let N;const Z=yield qi(S.appConfig,be=>{if(!Gt(be))throw rt.create("not-registered");const qe=be.authToken;if(!D&&pn(qe))return be;if(1===qe.requestStatus)return N=re(S,D),be;{if(!navigator.onLine)throw rt.create("app-offline");const it=nn(be);return N=Ke(S,it),it}});return N?yield N:Z.authToken})).apply(this,arguments)}function re(S,D){return j.apply(this,arguments)}function j(){return(j=(0,F.Z)(function*(S,D){let N=yield De(S.appConfig);for(;1===N.authToken.requestStatus;)yield We(100),N=yield De(S.appConfig);const Z=N.authToken;return 0===Z.requestStatus?G(S,D):Z})).apply(this,arguments)}function De(S){return qi(S,D=>{if(!Gt(D))throw rt.create("not-registered");return function pe(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ke(S,D){return _t.apply(this,arguments)}function _t(){return(_t=(0,F.Z)(function*(S,D){try{const N=yield Gn(S,D),Z=Object.assign(Object.assign({},D),{authToken:N});return yield Sr(S.appConfig,Z),N}catch(N){if(!et(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const Z=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Sr(S.appConfig,Z)}else yield cn(S.appConfig);throw N}})).apply(this,arguments)}function Gt(S){return void 0!==S&&2===S.registrationStatus}function pn(S){return 2===S.requestStatus&&!function Nn(S){const D=Date.now();return D<S.creationTime||S.creationTime+S.expiresIn<D+36e5}(S)}function nn(S){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:D})}function W(){return(W=(0,F.Z)(function*(S){const D=S,{installationEntry:N,registrationPromise:Z}=yield zn(D);return Z?Z.catch(console.error):G(D).catch(console.error),N.fid})).apply(this,arguments)}function Qe(){return(Qe=(0,F.Z)(function*(S,D=!1){const N=S;return yield It(N),(yield G(N,D)).token})).apply(this,arguments)}function It(S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,F.Z)(function*(S){const{registrationPromise:D}=yield zn(S);D&&(yield D)})).apply(this,arguments)}function Fs(S){return rt.create("missing-app-config-values",{valueName:S})}const $t="installations",sa=S=>{const D=S.getProvider("app").getImmediate(),N=function Ha(S){if(!S||!S.options)throw Fs("App Configuration");if(!S.name)throw Fs("App Name");const D=["projectId","apiKey","appId"];for(const N of D)if(!S.options[N])throw Fs(N);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(D);return{app:D,appConfig:N,heartbeatServiceProvider:(0,ge._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},jl=S=>{const D=S.getProvider("app").getImmediate(),N=(0,ge._getProvider)(D,$t).getImmediate();return{getId:()=>function $(S){return W.apply(this,arguments)}(N),getToken:te=>function Me(S){return Qe.apply(this,arguments)}(N,te)}};(function No(){(0,ge._registerComponent)(new Te.wA($t,sa,"PUBLIC")),(0,ge._registerComponent)(new Te.wA("installations-internal",jl,"PRIVATE"))})(),(0,ge.registerVersion)(xe,Q),(0,ge.registerVersion)(xe,Q,"esm2017");const $i="@firebase/remote-config",er=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dd{constructor(D,N,Z,te){this.client=D,this.storage=N,this.storageCache=Z,this.logger=te}isCachedDataFresh(D,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-N,te=Z<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${te}.`),te}fetch(D){var N=this;return(0,F.Z)(function*(){const[Z,te]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(te&&N.isCachedDataFresh(D.cacheMaxAgeMillis,Z))return te;D.eTag=te&&te.eTag;const be=yield N.client.fetch(D),qe=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&qe.push(N.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(qe),be})()}}function Gl(S=navigator){return S.languages&&S.languages[0]||S.language}class Us{constructor(D,N,Z,te,be,qe){this.firebaseInstallations=D,this.sdkVersion=N,this.namespace=Z,this.projectId=te,this.apiKey=be,this.appId=qe}fetch(D){var N=this;return(0,F.Z)(function*(){var Z,te,be;const[qe,it]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ft={sdk_version:N.sdkVersion,app_instance_id:qe,app_instance_id_token:it,app_id:N.appId,language_code:Gl()},Ei={method:"POST",headers:Kt,body:JSON.stringify(ft)},Fi=fetch(Ht,Ei),Nr=new Promise(($r,qo)=>{D.signal.addEventListener(()=>{const Ta=new Error("The operation was aborted.");Ta.name="AbortError",qo(Ta)})});let qt;try{yield Promise.race([Fi,Nr]),qt=yield Fi}catch($r){let qo="fetch-client-network";throw"AbortError"===(null===(Z=$r)||void 0===Z?void 0:Z.name)&&(qo="fetch-timeout"),er.create(qo,{originalErrorMessage:null===(te=$r)||void 0===te?void 0:te.message})}let ss=qt.status;const cg=qt.headers.get("ETag")||void 0;let $s,Zo;if(200===qt.status){let $r;try{$r=yield qt.json()}catch(qo){throw er.create("fetch-client-parse",{originalErrorMessage:null===(be=qo)||void 0===be?void 0:be.message})}$s=$r.entries,Zo=$r.state}if("INSTANCE_STATE_UNSPECIFIED"===Zo?ss=500:"NO_CHANGE"===Zo?ss=304:("NO_TEMPLATE"===Zo||"EMPTY_CONFIG"===Zo)&&($s={}),304!==ss&&200!==ss)throw er.create("fetch-status",{httpStatus:ss});return{status:ss,eTag:cg,config:$s}})()}}class ao{constructor(D,N){this.client=D,this.storage=N}fetch(D){var N=this;return(0,F.Z)(function*(){const Z=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(D,Z)})()}attemptFetch(D,{throttleEndTimeMillis:N,backoffCount:Z}){var te=this;return(0,F.Z)(function*(){yield function Kp(S,D){return new Promise((N,Z)=>{const te=Math.max(D-Date.now(),0),be=setTimeout(N,te);S.addEventListener(()=>{clearTimeout(be),Z(er.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,N);try{const be=yield te.client.fetch(D);return yield te.storage.deleteThrottleMetadata(),be}catch(be){if(!function Bs(S){if(!(S instanceof me.ZR&&S.customData))return!1;const D=Number(S.customData.httpStatus);return 429===D||500===D||503===D||504===D}(be))throw be;const qe={throttleEndTimeMillis:Date.now()+(0,me.$s)(Z),backoffCount:Z+1};return yield te.storage.setThrottleMetadata(qe),te.attemptFetch(D,qe)}})()}}class S_{constructor(D,N,Z,te,be){this.app=D,this._client=N,this._storageCache=Z,this._storage=te,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $l(S,D){var N;const Z=S.target.error||void 0;return er.create(D,{originalErrorMessage:Z&&(null===(N=Z)||void 0===N?void 0:N.message)})}const qa="app_namespace_store";class jh{constructor(D,N,Z,te=function M_(){return new Promise((S,D)=>{var N;try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=te=>{D($l(te,"storage-open"))},Z.onsuccess=te=>{S(te.target.result)},Z.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(qa,{keyPath:"compositeKey"})}}catch(Z){D(er.create("storage-open",{originalErrorMessage:null===(N=Z)||void 0===N?void 0:N.message}))}})}()){this.appId=D,this.appName=N,this.namespace=Z,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var N=this;return(0,F.Z)(function*(){const Z=yield N.openDbPromise;return new Promise((te,be)=>{var qe;const Dt=Z.transaction([qa],"readonly").objectStore(qa),Ht=N.createCompositeKey(D);try{const Kt=Dt.get(Ht);Kt.onerror=ft=>{be($l(ft,"storage-get"))},Kt.onsuccess=ft=>{const Ei=ft.target.result;te(Ei?Ei.value:void 0)}}catch(Kt){be(er.create("storage-get",{originalErrorMessage:null===(qe=Kt)||void 0===qe?void 0:qe.message}))}})})()}set(D,N){var Z=this;return(0,F.Z)(function*(){const te=yield Z.openDbPromise;return new Promise((be,qe)=>{var it;const Ht=te.transaction([qa],"readwrite").objectStore(qa),Kt=Z.createCompositeKey(D);try{const ft=Ht.put({compositeKey:Kt,value:N});ft.onerror=Ei=>{qe($l(Ei,"storage-set"))},ft.onsuccess=()=>{be()}}catch(ft){qe(er.create("storage-set",{originalErrorMessage:null===(it=ft)||void 0===it?void 0:it.message}))}})})()}delete(D){var N=this;return(0,F.Z)(function*(){const Z=yield N.openDbPromise;return new Promise((te,be)=>{var qe;const Dt=Z.transaction([qa],"readwrite").objectStore(qa),Ht=N.createCompositeKey(D);try{const Kt=Dt.delete(Ht);Kt.onerror=ft=>{be($l(ft,"storage-delete"))},Kt.onsuccess=()=>{te()}}catch(Kt){be(er.create("storage-delete",{originalErrorMessage:null===(qe=Kt)||void 0===qe?void 0:qe.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Fo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const N=D.storage.getLastFetchStatus(),Z=D.storage.getLastSuccessfulFetchTimestampMillis(),te=D.storage.getActiveConfig(),be=yield N;be&&(D.lastFetchStatus=be);const qe=yield Z;qe&&(D.lastSuccessfulFetchTimestampMillis=qe);const it=yield te;it&&(D.activeConfig=it)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function P0(){return ys.apply(this,arguments)}function ys(){return(ys=(0,F.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function hd(){(0,ge._registerComponent)(new Te.wA("remote-config",function S(D,{instanceIdentifier:N}){const Z=D.getProvider("app").getImmediate(),te=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,me.hl)())throw er.create("indexed-db-unavailable");const{projectId:be,apiKey:qe,appId:it}=Z.options;if(!be)throw er.create("registration-project-id");if(!qe)throw er.create("registration-api-key");if(!it)throw er.create("registration-app-id");const Dt=new jh(it,Z.name,N=N||"firebase"),Ht=new Fo(Dt),Kt=new le.Yd($i);Kt.logLevel=le.in.ERROR;const ft=new Us(te,ge.SDK_VERSION,N,be,qe,it),Ei=new ao(ft,Dt),Fi=new dd(Ei,Dt,Ht,Kt),Nr=new S_(Z,Fi,Ht,Dt,Kt);return function cd(S){const D=(0,me.m9)(S);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Nr),Nr},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)($i,"0.3.10"),(0,ge.registerVersion)($i,"0.3.10","esm2017")}();const lo="/firebase-messaging-sw.js",co="/firebase-cloud-messaging-push-scope",ca="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zh="google.c.a.c_id",Bc="google.c.a.c_l",Vc="google.c.a.ts",za="google.c.a.e";var Mr=(()=>{return(S=Mr||(Mr={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Mr;var S})();function pi(S){const D=new Uint8Array(S);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hc(S){const N=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(N),te=new Uint8Array(Z.length);for(let be=0;be<Z.length;++be)te[be]=Z.charCodeAt(be);return te}const Wl="fcm_token_details_db",fd="fcm_token_object_Store";function Gh(S){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,F.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(Wl))return null;let D=null;return(yield(0,ve.X3)(Wl,5,{upgrade:(Z=(0,F.Z)(function*(te,be,qe,it){var Dt;if(be<2||!te.objectStoreNames.contains(fd))return;const Ht=it.objectStore(fd),Kt=yield Ht.index("fcmSenderId").get(S);if(yield Ht.clear(),Kt)if(2===be){const ft=Kt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;D={token:ft.fcmToken,createTime:null!==(Dt=ft.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:pi(ft.vapidKey)}}}else if(3===be){const ft=Kt;D={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:pi(ft.auth),p256dh:pi(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:pi(ft.vapidKey)}}}else if(4===be){const ft=Kt;D={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:pi(ft.auth),p256dh:pi(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:pi(ft.vapidKey)}}}}),function(be,qe,it,Dt){return Z.apply(this,arguments)})})).close(),yield(0,ve.Lj)(Wl),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),pd(D)?D:null;var Z}),Ga.apply(this,arguments)}function pd(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:D}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const kn="firebase-messaging-store";let ua=null;function Yl(){return ua||(ua=(0,ve.X3)("firebase-messaging-database",1,{upgrade:(S,D)=>{0===D&&S.createObjectStore(kn)}})),ua}function Zc(S){return da.apply(this,arguments)}function da(){return(da=(0,F.Z)(function*(S){const D=Ni(S),Z=yield(yield Yl()).transaction(kn).objectStore(kn).get(D);if(Z)return Z;{const te=yield Gh(S.appConfig.senderId);if(te)return yield Kn(S,te),te}})).apply(this,arguments)}function Kn(S,D){return $a.apply(this,arguments)}function $a(){return($a=(0,F.Z)(function*(S,D){const N=Ni(S),te=(yield Yl()).transaction(kn,"readwrite");return yield te.objectStore(kn).put(D,N),yield te.done,D})).apply(this,arguments)}function Wa(S){return ha.apply(this,arguments)}function ha(){return(ha=(0,F.Z)(function*(S){const D=Ni(S),Z=(yield Yl()).transaction(kn,"readwrite");yield Z.objectStore(kn).delete(D),yield Z.done})).apply(this,arguments)}function Ni({appConfig:S}){return S.appId}const oi=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fa(S,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,F.Z)(function*(S,D){var N;const Z=yield Lo(S),te=Ya(D),be={method:"POST",headers:Z,body:JSON.stringify(te)};let qe;try{qe=yield(yield fetch(Ql(S.appConfig),be)).json()}catch(it){throw oi.create("token-subscribe-failed",{errorInfo:null===(N=it)||void 0===N?void 0:N.toString()})}if(qe.error)throw oi.create("token-subscribe-failed",{errorInfo:qe.error.message});if(!qe.token)throw oi.create("token-subscribe-no-token");return qe.token})).apply(this,arguments)}function md(S,D){return pa.apply(this,arguments)}function pa(){return(pa=(0,F.Z)(function*(S,D){var N;const Z=yield Lo(S),te=Ya(D.subscriptionOptions),be={method:"PATCH",headers:Z,body:JSON.stringify(te)};let qe;try{qe=yield(yield fetch(`${Ql(S.appConfig)}/${D.token}`,be)).json()}catch(it){throw oi.create("token-update-failed",{errorInfo:null===(N=it)||void 0===N?void 0:N.toString()})}if(qe.error)throw oi.create("token-update-failed",{errorInfo:qe.error.message});if(!qe.token)throw oi.create("token-update-no-token");return qe.token})).apply(this,arguments)}function Kl(S,D){return yr.apply(this,arguments)}function yr(){return(yr=(0,F.Z)(function*(S,D){var N;const te={method:"DELETE",headers:yield Lo(S)};try{const qe=yield(yield fetch(`${Ql(S.appConfig)}/${D}`,te)).json();if(qe.error)throw oi.create("token-unsubscribe-failed",{errorInfo:qe.error.message})}catch(be){throw oi.create("token-unsubscribe-failed",{errorInfo:null===(N=be)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function Ql({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Lo(S){return St.apply(this,arguments)}function St(){return(St=(0,F.Z)(function*({appConfig:S,installations:D}){const N=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ya({p256dh:S,auth:D,endpoint:N,vapidKey:Z}){const te={web:{endpoint:N,auth:D,p256dh:S}};return Z!==ca&&(te.web.applicationPubKey=Z),te}const Jl=6048e5;function _d(S){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,F.Z)(function*(S){const D=yield vd(S.swRegistration,S.vapidKey),N={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:D.endpoint,auth:pi(D.getKey("auth")),p256dh:pi(D.getKey("p256dh"))},Z=yield Zc(S.firebaseDependencies);if(Z){if(ai(Z.subscriptionOptions,N))return Date.now()>=Z.createTime+Jl?eg(S,{token:Z.token,createTime:Date.now(),subscriptionOptions:N}):Z.token;try{yield Kl(S.firebaseDependencies,Z.token)}catch(te){console.warn(te)}return Ze(S.firebaseDependencies,N)}return Ze(S.firebaseDependencies,N)})).apply(this,arguments)}function yd(S){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,F.Z)(function*(S){const D=yield Zc(S.firebaseDependencies);D&&(yield Kl(S.firebaseDependencies,D.token),yield Wa(S.firebaseDependencies));const N=yield S.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function eg(S,D){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,F.Z)(function*(S,D){try{const N=yield md(S.firebaseDependencies,D),Z=Object.assign(Object.assign({},D),{token:N,createTime:Date.now()});return yield Kn(S.firebaseDependencies,Z),N}catch(N){throw yield yd(S),N}})).apply(this,arguments)}function Ze(S,D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,F.Z)(function*(S,D){const Z={token:yield fa(S,D),createTime:Date.now(),subscriptionOptions:D};return yield Kn(S,Z),Z.token})).apply(this,arguments)}function vd(S,D){return ec.apply(this,arguments)}function ec(){return(ec=(0,F.Z)(function*(S,D){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hc(D)})})).apply(this,arguments)}function ai(S,D){return D.vapidKey===S.vapidKey&&D.endpoint===S.endpoint&&D.auth===S.auth&&D.p256dh===S.p256dh}function ga(S){const D={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function tc(S,D){if(!D.notification)return;S.notification={};const N=D.notification.title;N&&(S.notification.title=N);const Z=D.notification.body;Z&&(S.notification.body=Z);const te=D.notification.image;te&&(S.notification.image=te)}(D,S),function vs(S,D){!D.data||(S.data=D.data)}(D,S),function Ja(S,D){var N,Z,te,be,qe;if(!(D.fcmOptions||null!==(N=D.notification)&&void 0!==N&&N.click_action))return;S.fcmOptions={};const it=null!==(te=null===(Z=D.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==te?te:null===(be=D.notification)||void 0===be?void 0:be.click_action;it&&(S.fcmOptions.link=it);const Dt=null===(qe=D.fcmOptions)||void 0===qe?void 0:qe.analytics_label;Dt&&(S.fcmOptions.analyticsLabel=Dt)}(D,S),D}function bd(S){return"object"==typeof S&&!!S&&zh in S}function tg(S,D){const N=[];for(let Z=0;Z<S.length;Z++)N.push(S.charAt(Z)),Z<D.length&&N.push(D.charAt(Z));return N.join("")}function Cd(S){return oi.create("missing-app-config-values",{valueName:S})}tg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xa{constructor(D,N,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function wd(S){if(!S||!S.options)throw Cd("App Configuration Object");if(!S.name)throw Cd("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:N}=S;for(const Z of D)if(!N[Z])throw Cd(Z);return{appName:S.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:te,installations:N,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function ar(S){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,F.Z)(function*(S){var D;try{S.swRegistration=yield navigator.serviceWorker.register(lo,{scope:co}),S.swRegistration.update().catch(()=>{})}catch(N){throw oi.create("failed-service-worker-registration",{browserErrorMessage:null===(D=N)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function $h(S,D){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,F.Z)(function*(S,D){if(!D&&!S.swRegistration&&(yield ar(S)),D||!S.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw oi.create("invalid-sw-registration");S.swRegistration=D}})).apply(this,arguments)}function uo(S,D){return ma.apply(this,arguments)}function ma(){return(ma=(0,F.Z)(function*(S,D){D?S.vapidKey=D:S.vapidKey||(S.vapidKey=ca)})).apply(this,arguments)}function jc(){return(jc=(0,F.Z)(function*(S,D){if(!navigator)throw oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw oi.create("permission-blocked");return yield uo(S,D?.vapidKey),yield $h(S,D?.serviceWorkerRegistration),_d(S)})).apply(this,arguments)}function ng(S,D,N){return _a.apply(this,arguments)}function _a(){return(_a=(0,F.Z)(function*(S,D,N){const Z=Ed(D);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:N[zh],message_name:N[Bc],message_time:N[Vc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ed(S){switch(S){case Mr.NOTIFICATION_CLICKED:return"notification_open";case Mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function el(){return(el=(0,F.Z)(function*(S,D){const N=D.data;if(!N.isFirebaseMessaging)return;S.onMessageHandler&&N.messageType===Mr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ga(N)):S.onMessageHandler.next(ga(N)));const Z=N.data;bd(Z)&&"1"===Z[za]&&(yield ng(S,N.messageType,Z))})).apply(this,arguments)}const nc="@firebase/messaging",Hs=S=>{const D=new Xa(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Ad(S,D){return el.apply(this,arguments)}(D,N)),D},Gc=S=>{const D=S.getProvider("messaging").getImmediate();return{getToken:Z=>function Wh(S,D){return jc.apply(this,arguments)}(D,Z)}};function Td(){return xd.apply(this,arguments)}function xd(){return(xd=(0,F.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ig(){(0,ge._registerComponent)(new Te.wA("messaging",Hs,"PUBLIC")),(0,ge._registerComponent)(new Te.wA("messaging-internal",Gc,"PRIVATE")),(0,ge.registerVersion)(nc,"0.9.15"),(0,ge.registerVersion)(nc,"0.9.15","esm2017")}();const Yc="analytics",R_="firebase_id",sc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kc="https://www.googletagmanager.com/gtag/js",ki=new le.Yd("@firebase/analytics");function Qc(S){return Promise.all(S.map(D=>D.catch(N=>N)))}function sg(S,D){const N=document.createElement("script");N.src=`${Kc}?l=${S}&id=${D}`,N.async=!0,document.head.appendChild(N)}function ho(S,D,N,Z,te,be){return nl.apply(this,arguments)}function nl(){return(nl=(0,F.Z)(function*(S,D,N,Z,te,be){const qe=Z[te];try{if(qe)yield D[qe];else{const Dt=(yield Qc(N)).find(Ht=>Ht.measurementId===te);Dt&&(yield D[Dt.appId])}}catch(it){ki.error(it)}S("config",te,be)})).apply(this,arguments)}function Sd(S,D,N,Z,te){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,F.Z)(function*(S,D,N,Z,te){try{let be=[];if(te&&te.send_to){let qe=te.send_to;Array.isArray(qe)||(qe=[qe]);const it=yield Qc(N);for(const Dt of qe){const Ht=it.find(ft=>ft.measurementId===Dt),Kt=Ht&&D[Ht.appId];if(!Kt){be=[];break}be.push(Kt)}}0===be.length&&(be=Object.values(D)),yield Promise.all(be),S("event",Z,te||{})}catch(be){ki.error(be)}})).apply(this,arguments)}function N_(){const S=window.document.getElementsByTagName("script");for(const D of Object.values(S))if(D.src&&D.src.includes(Kc))return D;return null}const ns=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),oc=new class Kh{constructor(D={},N=1e3){this.throttleMetadata=D,this.intervalMillis=N}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,N){this.throttleMetadata[D]=N}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ya(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function On(S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,F.Z)(function*(S){var D;const{appId:N,apiKey:Z}=S,te={method:"GET",headers:ya(Z)},be=sc.replace("{app-id}",N),qe=yield fetch(be,te);if(200!==qe.status&&304!==qe.status){let it="";try{const Dt=yield qe.json();null!==(D=Dt.error)&&void 0!==D&&D.message&&(it=Dt.error.message)}catch{}throw ns.create("config-fetch-failed",{httpStatus:qe.status,responseMessage:it})}return qe.json()})).apply(this,arguments)}function yt(S){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,F.Z)(function*(S,D=oc,N){const{appId:Z,apiKey:te,measurementId:be}=S.options;if(!Z)throw ns.create("no-app-id");if(!te){if(be)return{measurementId:be,appId:Z};throw ns.create("no-api-key")}const qe=D.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Dd;return setTimeout((0,F.Z)(function*(){it.abort()}),void 0!==N?N:6e4),Oi({appId:Z,apiKey:te,measurementId:be},qe,it,D)})).apply(this,arguments)}function Oi(S,D,N){return ti.apply(this,arguments)}function ti(){return(ti=(0,F.Z)(function*(S,{throttleEndTimeMillis:D,backoffCount:N},Z,te=oc){var be,qe;const{appId:it,measurementId:Dt}=S;try{yield eu(Z,D)}catch(Ht){if(Dt)return ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${null===(be=Ht)||void 0===be?void 0:be.message}]`),{appId:it,measurementId:Dt};throw Ht}try{const Ht=yield On(S);return te.deleteThrottleMetadata(it),Ht}catch(Ht){const Kt=Ht;if(!k_(Kt)){if(te.deleteThrottleMetadata(it),Dt)return ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Kt?.message}]`),{appId:it,measurementId:Dt};throw Ht}const ft=503===Number(null===(qe=Kt?.customData)||void 0===qe?void 0:qe.httpStatus)?(0,me.$s)(N,te.intervalMillis,30):(0,me.$s)(N,te.intervalMillis),Ei={throttleEndTimeMillis:Date.now()+ft,backoffCount:N+1};return te.setThrottleMetadata(it,Ei),ki.debug(`Calling attemptFetch again in ${ft} millis`),Oi(S,Ei,Z,te)}})).apply(this,arguments)}function eu(S,D){return new Promise((N,Z)=>{const te=Math.max(D-Date.now(),0),be=setTimeout(N,te);S.addEventListener(()=>{clearTimeout(be),Z(ns.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function k_(S){if(!(S instanceof me.ZR&&S.customData))return!1;const D=Number(S.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Dd{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Qh(){return va.apply(this,arguments)}function va(){return(va=(0,F.Z)(function*(){var S;if(!(0,me.hl)())return ki.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(D){return ki.warn(ns.create("indexeddb-unavailable",{errorInfo:null===(S=D)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function is(){return(is=(0,F.Z)(function*(S,D,N,Z,te,be,qe){var it;const Dt=yt(S);Dt.then(Fi=>{N[Fi.measurementId]=Fi.appId,S.options.measurementId&&Fi.measurementId!==S.options.measurementId&&ki.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Fi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fi=>ki.error(Fi)),D.push(Dt);const Ht=Qh().then(Fi=>{if(Fi)return Z.getId()}),[Kt,ft]=yield Promise.all([Dt,Ht]);N_()||sg(be,Kt.measurementId),te("js",new Date);const Ei=null!==(it=qe?.config)&&void 0!==it?it:{};return Ei.origin="firebase",Ei.update=!0,null!=ft&&(Ei[R_]=ft),te("config",Kt.measurementId,Ei),Kt.measurementId})).apply(this,arguments)}class gt{constructor(D){this.app=D}_delete(){return delete ws[this.app.options.appId],Promise.resolve()}}let ws={},il=[];const Vo={};let ac,fo,Zs="dataLayer",tu=!1;function qs(S,D,N){!function po(){const S=[];if((0,me.ru)()&&S.push("This is a browser extension environment."),(0,me.zI)()||S.push("Cookies are not available."),S.length>0){const D=S.map((Z,te)=>`(${te+1}) ${Z}`).join(" "),N=ns.create("invalid-analytics-context",{errorInfo:D});ki.warn(N.message)}}();const Z=S.options.appId;if(!Z)throw ns.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw ns.create("no-api-key");ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ws[Z])throw ns.create("already-exists",{id:Z});if(!tu){!function Id(S){let D=[];Array.isArray(window[S])?D=window[S]:window[S]=D}(Zs);const{wrappedGtag:be,gtagCore:qe}=function Yh(S,D,N,Z,te){let be=function(...qe){window[Z].push(arguments)};return window[te]&&"function"==typeof window[te]&&(be=window[te]),window[te]=function Xc(S,D,N,Z){function be(){return(be=(0,F.Z)(function*(qe,it,Dt){try{"event"===qe?yield Sd(S,D,N,it,Dt):"config"===qe?yield ho(S,D,N,Z,it,Dt):S("set",it)}catch(Ht){ki.error(Ht)}})).apply(this,arguments)}return function te(qe,it,Dt){return be.apply(this,arguments)}}(be,S,D,N),{gtagCore:be,wrappedGtag:window[te]}}(ws,il,Vo,Zs,"gtag");fo=be,ac=qe,tu=!0}return ws[Z]=function bs(S,D,N,Z,te,be,qe){return is.apply(this,arguments)}(S,il,Vo,D,ac,Zs,N),new gt(S)}function ba(){return(ba=(0,F.Z)(function*(S,D,N,Z,te){if(te&&te.global)S("event",N,Z);else{const be=yield D;S("event",N,Object.assign(Object.assign({},Z),{send_to:be}))}})).apply(this,arguments)}function Wn(){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,F.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const Zt="@firebase/analytics";!function ef(){(0,ge._registerComponent)(new Te.wA(Yc,(D,{options:N})=>qs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ge._registerComponent)(new Te.wA("analytics-internal",function S(D){try{const N=D.getProvider(Yc).getImmediate();return{logEvent:(Z,te,be)=>function Ho(S,D,N,Z){S=(0,me.m9)(S),function lc(S,D,N,Z,te){return ba.apply(this,arguments)}(fo,ws[S.app.options.appId],D,N,Z).catch(te=>ki.error(te))}(N,Z,te,be)}}catch(N){throw ns.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ge.registerVersion)(Zt,"0.7.11"),(0,ge.registerVersion)(Zt,"0.7.11","esm2017")}();var og=B(4408),nf=B(7565);const Ea=new class rf extends nf.v{}(class tf extends og.o{constructor(D,N){super(D,N),this.scheduler=D,this.work=N}schedule(D,N=0){return N>0?super.schedule(D,N):(this.delay=N,this.state=D,this.scheduler.flush(this),this)}execute(D,N){return N>0||this.closed?super.execute(D,N):this._execute(D,N)}requestAsyncId(D,N,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(D,N,Z):D.flush(this)}});var Md=B(4986),ol=B(8306),An=B(8505),go=B(5363),Gs=B(9468);const Pd=new s.GfV("7.4.1"),Rd="__angularfire_symbol__analyticsIsSupportedValue",gi="__angularfire_symbol__analyticsIsSupported",zr="__angularfire_symbol__remoteConfigIsSupportedValue",ru="__angularfire_symbol__remoteConfigIsSupported",al="__angularfire_symbol__messagingIsSupportedValue",Aa="__angularfire_symbol__messagingIsSupported";function sf(S,D,N){if(D){if(1===D.length)return D[0];const be=D.filter(qe=>qe.app===N);if(1===be.length)return be[0]}return N.container.getProvider(S).getImmediate({optional:!0})}globalThis[gi]||(globalThis[gi]=Wn().then(S=>globalThis[Rd]=S).catch(()=>globalThis[Rd]=!1)),globalThis[Aa]||(globalThis[Aa]=Td().then(S=>globalThis[al]=S).catch(()=>globalThis[al]=!1)),globalThis[ru]||(globalThis[ru]=P0().then(S=>globalThis[zr]=S).catch(()=>globalThis[zr]=!1));const af=(S,D)=>{const N=D?[D]:(0,z.C6)(),Z=[];return N.forEach(te=>{te.container.getProvider(S).instances.forEach(qe=>{Z.includes(qe)||Z.push(qe)})}),Z};function mi(){}class su{constructor(D,N=Ea){this.zone=D,this.delegate=N}now(){return this.delegate.now()}schedule(D,N,Z){const te=this.zone;return this.delegate.schedule(function(qe){te.runGuarded(()=>{D.apply(this,[qe])})},N,Z)}}class Vt{constructor(D){this.zone=D,this.task=null}call(D,N){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mi,{},mi,mi)),N.pipe((0,An.b)({next:Z,complete:Z,error:Z})).subscribe(D).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lf=(()=>{class S{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new su(Zone.current)),this.insideAngular=N.run(()=>new su(Zone.current,Md.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(N){return new(N||S)(s.LFG(s.R0b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Gr(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function cl(S){return Gr().ngZone.runOutsideAngular(()=>S())}function mo(S){return Gr().ngZone.run(()=>S())}function lg(S){return S.pipe((0,go.Q)(Gr().outsideAngular))}function ou(S){return Gr(),function rs(S){return function(N){return(N=N.lift(new Vt(S.ngZone))).pipe((0,Gs.R)(S.outsideAngular),(0,go.Q)(S.insideAngular))}}(Gr())(S)}const au=(S,D)=>function(){const Z=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),mo(()=>S.apply(void 0,Z))},ul=(S,D)=>function(){let N;const Z=arguments;for(let be=0;be<arguments.length;be++)"function"==typeof Z[be]&&(D&&(N||(N=mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mi,{},mi,mi)))),Z[be]=au(Z[be],N));const te=cl(()=>S.apply(this,Z));if(!D){if(te instanceof ol.y){const be=Gr();return te.pipe((0,Gs.R)(be.outsideAngular),(0,go.Q)(be.insideAngular))}return mo(()=>te)}return te instanceof ol.y?te.pipe(ou):te instanceof Promise?mo(()=>new Promise((be,qe)=>te.then(it=>mo(()=>be(it)),it=>mo(()=>qe(it))))):"function"==typeof te&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),te.apply(this,arguments)}:mo(()=>te)}},3673:(Et,Oe,B)=>{B.d(Oe,{$:()=>Ql,A:()=>Y,B:()=>He,G:()=>jl,H:()=>Pi,J:()=>ao,L:()=>pn,M:()=>ys,N:()=>Qp,P:()=>Rd,Q:()=>zh,R:()=>ef,T:()=>Bc,U:()=>ca,V:()=>Mr,W:()=>pi,X:()=>Gh,Y:()=>qc,Z:()=>fa,_:()=>md,a:()=>Bo,a0:()=>_d,a1:()=>yd,a2:()=>eg,a3:()=>Ze,a4:()=>vd,a5:()=>ai,a6:()=>tc,a7:()=>vs,a8:()=>bd,a9:()=>tg,aA:()=>$s,aB:()=>Fi,aC:()=>ul,aD:()=>au,aE:()=>Mi,aI:()=>ya,aL:()=>za,aa:()=>ar,ab:()=>$h,ac:()=>uo,af:()=>ng,ag:()=>Ed,ah:()=>Ad,ak:()=>kn,al:()=>Wc,an:()=>Kc,ao:()=>nl,ap:()=>Tn,aq:()=>Re,ar:()=>Lt,as:()=>It,at:()=>et,au:()=>kd,av:()=>Ta,aw:()=>Be,ax:()=>ce,ay:()=>ue,az:()=>Nn,b:()=>ns,c:()=>N0,d:()=>su,e:()=>af,f:()=>N,g:()=>Dt,h:()=>be,i:()=>qs,j:()=>ft,k:()=>Fd,l:()=>Ea,m:()=>Ld,n:()=>fl,o:()=>ve,r:()=>Md,s:()=>nf,u:()=>Gs});var s=B(5861),z=B(2090),F=B(9681),ge=B(655),me=B(1877),Te=B(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new me.Yd("@firebase/auth");function rt(C,...y){Ae.logLevel<=me.in.ERROR&&Ae.error(`Auth (${F.SDK_VERSION}): ${C}`,...y)}function et(C,...y){throw st(C,...y)}function Be(C,...y){return st(C,...y)}function Ve(C,y,b){const T=Object.assign(Object.assign({},Le()),{[y]:b});return new z.LL("auth","Firebase",T).create(y,{appName:C.name})}function Pe(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&et(C,"argument-error"),Ve(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(C,...y){if("string"!=typeof C){const b=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(b,...T)}return Je.create(C,...y)}function ce(C,y,...b){if(!C)throw st(y,...b)}function we(C){const y="INTERNAL ASSERTION FAILED: "+C;throw rt(y),new Error(y)}function Re(C,y){C||we(y)}const ee=new Map;function ue(C){Re(C instanceof Function,"Expected a class definition");let y=ee.get(C);return y?(Re(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ee.set(C,y),y)}function _e(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function We(){return"http:"===xt()||"https:"===xt()}function xt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class tt{constructor(y,b){this.shortDelay=y,this.longDelay=b,Re(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pn(C,y){Re(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class hi{static initialize(y,b,T){this.fetchImpl=y,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new tt(3e4,6e4);function tn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function fn(C,y,b,T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(C,y,b,T,k={}){return gs(C,k,(0,s.Z)(function*(){let V={},ae={};T&&("GET"===y?ae=T:V={body:JSON.stringify(T)});const Fe=(0,z.xO)(Object.assign({key:C.config.apiKey},ae)).slice(1),dt=yield C._getAdditionalHeaders();return dt["Content-Type"]="application/json",C.languageCode&&(dt["X-Firebase-Locale"]=C.languageCode),hi.fetch()(es(C,C.config.apiHost,b,Fe),Object.assign({method:y,headers:dt,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function gs(C,y,b){return gr.apply(this,arguments)}function gr(){return(gr=(0,s.Z)(function*(C,y,b){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},Rn),y);try{const k=new ms(C),V=yield Promise.race([b(),k.promise]);k.clearNetworkTimeout();const ae=yield V.json();if("needConfirmation"in ae)throw fi(C,"account-exists-with-different-credential",ae);if(V.ok&&!("errorMessage"in ae))return ae;{const Fe=V.ok?ae.errorMessage:ae.error.message,[dt,Mt]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw fi(C,"credential-already-in-use",ae);if("EMAIL_EXISTS"===dt)throw fi(C,"email-already-in-use",ae);if("USER_DISABLED"===dt)throw fi(C,"user-disabled",ae);const Jt=T[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw Ve(C,Jt,Mt);et(C,Jt)}}catch(k){if(k instanceof z.ZR)throw k;et(C,"network-request-failed")}})).apply(this,arguments)}function Xn(C,y,b,T){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(C,y,b,T,k={}){const V=yield fn(C,y,b,T,k);return"mfaPendingCredential"in V&&et(C,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function es(C,y,b,T){const k=`${y}${b}?${T}`;return C.config.emulator?Pn(C.config,k):`${C.config.apiScheme}://${k}`}class ms{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(Be(this.auth,"network-request-failed")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fi(C,y,b){const T={appName:C.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const k=Be(C,y,T);return k.customData._tokenResponse=b,k}function Tt(){return(Tt=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Sr(C,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function cn(C,y){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function qi(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function ji(){return(ji=(0,s.Z)(function*(C,y=!1){const b=(0,z.m9)(C),T=yield b.getIdToken(y),k=rn(T);ce(k&&k.exp&&k.auth_time&&k.iat,b.auth,"internal-error");const V="object"==typeof k.firebase?k.firebase:void 0,ae=V?.sign_in_provider;return{claims:k,token:T,authTime:qi(oo(k.auth_time)),issuedAtTime:qi(oo(k.iat)),expirationTime:qi(oo(k.exp)),signInProvider:ae||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function oo(C){return 1e3*Number(C)}function rn(C){var y;const[b,T,k]=C.split(".");if(void 0===b||void 0===T||void 0===k)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,z.tV)(T);return V?JSON.parse(V):(rt("Failed to decode base64 JWT payload"),null)}catch(V){return rt("Caught error parsing JWT payload as JSON",null===(y=V)||void 0===y?void 0:y.toString()),null}}function wt(C,y){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(T){throw T instanceof z.ZR&&zi(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function zi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Ut{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const k=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,s.Z)(function*(){yield b.iteration()}),T)}iteration(){var y=this;return(0,s.Z)(function*(){var b;try{yield y.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(b=T)||void 0===b?void 0:b.code)&&y.schedule(!0))}y.schedule()})()}}class mr{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=qi(this.lastLoginAt),this.creationTime=qi(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(C){var y;const b=C.auth,T=yield C.getIdToken(),k=yield wt(C,cn(b,{idToken:T}));ce(k?.users.length,b,"internal-error");const V=k.users[0];C._notifyReloadListener(V);const ae=null!==(y=V.providerUserInfo)&&void 0!==y&&y.length?ie(V.providerUserInfo):[],Fe=G(C.providerData,ae),Jt=!!C.isAnonymous&&!(C.email&&V.passwordHash||Fe?.length),_i={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Fe,metadata:new mr(V.createdAt,V.lastLoginAt),isAnonymous:Jt};Object.assign(C,_i)})).apply(this,arguments)}function J(){return(J=(0,s.Z)(function*(C){const y=(0,z.m9)(C);yield ei(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function G(C,y){return[...C.filter(T=>!y.some(k=>k.providerId===T.providerId)),...y]}function ie(C){return C.map(y=>{var{providerId:b}=y,T=(0,ge._T)(y,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function j(){return(j=(0,s.Z)(function*(C,y){const b=yield gs(C,{},(0,s.Z)(function*(){const T=(0,z.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:k,apiKey:V}=C.config,ae=es(C,k,"/v1/token",`key=${V}`),Fe=yield C._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",hi.fetch()(ae,{method:"POST",headers:Fe,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ce(y.idToken,"internal-error"),ce(typeof y.idToken<"u","internal-error"),ce(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function at(C){const y=rn(C);return ce(y,"internal-error"),ce(typeof y.exp<"u","internal-error"),ce(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var T=this;return(0,s.Z)(function*(){return ce(!T.accessToken||T.refreshToken,y,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var T=this;return(0,s.Z)(function*(){const{accessToken:k,refreshToken:V,expiresIn:ae}=yield function re(C,y){return j.apply(this,arguments)}(y,b);T.updateTokensAndExpiration(k,V,Number(ae))})()}updateTokensAndExpiration(y,b,T){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,b){const{refreshToken:T,accessToken:k,expirationTime:V}=b,ae=new De;return T&&(ce("string"==typeof T,"internal-error",{appName:y}),ae.refreshToken=T),k&&(ce("string"==typeof k,"internal-error",{appName:y}),ae.accessToken=k),V&&(ce("number"==typeof V,"internal-error",{appName:y}),ae.expirationTime=V),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return we("not implemented")}}function Ke(C,y){ce("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class _t{constructor(y){var{uid:b,auth:T,stsTokenManager:k}=y,V=(0,ge._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new mr(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,s.Z)(function*(){const T=yield wt(b,b.stsTokenManager.getToken(b.auth,y));return ce(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(y){return function zn(C){return ji.apply(this,arguments)}(this,y)}reload(){return function wn(C){return J.apply(this,arguments)}(this)}_assign(y){this!==y&&(ce(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new _t(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var T=this;return(0,s.Z)(function*(){let k=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),k=!0),b&&(yield ei(T)),yield T.auth._persistUserIfCurrent(T),k&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,s.Z)(function*(){const b=yield y.getIdToken();return yield wt(y,function Os(C,y){return Tt.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var T,k,V,ae,Fe,dt,Mt,Jt;const _i=null!==(T=b.displayName)&&void 0!==T?T:void 0,_o=null!==(k=b.email)&&void 0!==k?k:void 0,xs=null!==(V=b.phoneNumber)&&void 0!==V?V:void 0,Ud=null!==(ae=b.photoURL)&&void 0!==ae?ae:void 0,Wr=null!==(Fe=b.tenantId)&&void 0!==Fe?Fe:void 0,jo=null!==(dt=b._redirectEventId)&&void 0!==dt?dt:void 0,pg=null!==(Mt=b.createdAt)&&void 0!==Mt?Mt:void 0,gg=null!==(Jt=b.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:Bd,emailVerified:V_,isAnonymous:OA,providerData:V0,stsTokenManager:mg}=b;ce(Bd&&mg,y,"internal-error");const H_=De.fromJSON(this.name,mg);ce("string"==typeof Bd,y,"internal-error"),Ke(_i,y.name),Ke(_o,y.name),ce("boolean"==typeof V_,y,"internal-error"),ce("boolean"==typeof OA,y,"internal-error"),Ke(xs,y.name),Ke(Ud,y.name),Ke(Wr,y.name),Ke(jo,y.name),Ke(pg,y.name),Ke(gg,y.name);const hc=new _t({uid:Bd,auth:y,email:_o,emailVerified:V_,displayName:_i,isAnonymous:OA,photoURL:Ud,phoneNumber:xs,tenantId:Wr,stsTokenManager:H_,createdAt:pg,lastLoginAt:gg});return V0&&Array.isArray(V0)&&(hc.providerData=V0.map(FA=>Object.assign({},FA))),jo&&(hc._redirectEventId=jo),hc}static _fromIdTokenResponse(y,b,T=!1){return(0,s.Z)(function*(){const k=new De;k.updateFromServerResponse(b);const V=new _t({uid:b.localId,auth:y,stsTokenManager:k,isAnonymous:T});return yield ei(V),V})()}}const pn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(b,T){var k=this;return(0,s.Z)(function*(){k.storage[b]=T})()}_get(b){var T=this;return(0,s.Z)(function*(){const k=T.storage[b];return void 0===k?null:k})()}_remove(b){var T=this;return(0,s.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return C.type="NONE",C})();function Nn(C,y,b){return`firebase:${C}:${y}:${b}`}class nn{constructor(y,b,T){this.persistence=y,this.auth=b,this.userKey=T;const{config:k,name:V}=this.auth;this.fullUserKey=Nn(this.userKey,k.apiKey,V),this.fullPersistenceKey=Nn("persistence",k.apiKey,V),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,s.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?_t._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,s.Z)(function*(){if(b.persistence===y)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,T="authUser"){return(0,s.Z)(function*(){if(!b.length)return new nn(ue(pn),y,T);const k=(yield Promise.all(b.map(function(){var Mt=(0,s.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let V=k[0]||ue(pn);const ae=Nn(T,y.config.apiKey,y.name);let Fe=null;for(const Mt of b)try{const Jt=yield Mt._get(ae);if(Jt){const _i=_t._fromJSON(y,Jt);Mt!==V&&(Fe=_i),V=Mt;break}}catch{}const dt=k.filter(Mt=>Mt._shouldAllowMigration);return V._shouldAllowMigration&&dt.length?(V=dt[0],Fe&&(yield V._set(ae,Fe.toJSON())),yield Promise.all(b.map(function(){var Mt=(0,s.Z)(function*(Jt){if(Jt!==V)try{yield Jt._remove(ae)}catch{}});return function(Jt){return Mt.apply(this,arguments)}}())),new nn(V,y,T)):new nn(V,y,T)})()}}function pe(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Qe(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if($(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ue(y))return"Blackberry";if(ht(y))return"Webos";if(W(y))return"Safari";if((y.includes("chrome/")||Me(y))&&!y.includes("edge/"))return"Chrome";if(It(y))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function $(C=(0,z.z$)()){return/firefox\//i.test(C)}function W(C=(0,z.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Me(C=(0,z.z$)()){return/crios\//i.test(C)}function Qe(C=(0,z.z$)()){return/iemobile/i.test(C)}function It(C=(0,z.z$)()){return/android/i.test(C)}function Ue(C=(0,z.z$)()){return/blackberry/i.test(C)}function ht(C=(0,z.z$)()){return/webos/i.test(C)}function Lt(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)}function Tn(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Gi(C=(0,z.z$)()){return Lt(C)||It(C)||ht(C)||Ue(C)||/windows phone/i.test(C)||Qe(C)}function Ha(C,y=[]){let b;switch(C){case"Browser":b=pe((0,z.z$)());break;case"Worker":b=`${pe((0,z.z$)())}-${C}`;break;default:b=C}const T=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${F.SDK_VERSION}/${T}`}class Fs{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const T=V=>new Promise((ae,Fe)=>{try{ae(y(V))}catch(dt){Fe(dt)}});T.onAbort=b,this.queue.push(T);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,s.Z)(function*(){var T;if(b.auth.currentUser===y)return;const k=[];try{for(const V of b.queue)yield V(y),V.onAbort&&k.push(V.onAbort)}catch(V){k.reverse();for(const ae of k)try{ae()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=V)||void 0===T?void 0:T.message})}})()}}class $t{constructor(y,b,T){this.app=y,this.heartbeatServiceProvider=b,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sa(this),this.idTokenSubscription=new sa(this),this.beforeStateQueue=new Fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(y,b){var T=this;return b&&(this._popupRedirectResolver=ue(b)),this._initializationPromise=this.queue((0,s.Z)(function*(){var k,V;if(!T._deleted&&(T.persistenceManager=yield nn.create(T,y),!T._deleted)){if(null!==(k=T._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(V=T.currentUser)||void 0===V?void 0:V.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,s.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,s.Z)(function*(){var T;const k=yield b.assertedPersistence.getCurrentUser();let V=k,ae=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Fe=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,dt=V?._redirectEventId,Mt=yield b.tryRedirectSignIn(y);(!Fe||Fe===dt)&&Mt?.user&&(V=Mt.user,ae=!0)}if(!V)return b.directlySetCurrentUser(null);if(!V._redirectEventId){if(ae)try{yield b.beforeStateQueue.runMiddleware(V)}catch(Fe){V=k,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Fe))}return V?b.reloadAndSetCurrentUserOrClear(V):b.directlySetCurrentUser(null)}return ce(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===V._redirectEventId?b.directlySetCurrentUser(V):b.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(y){var b=this;return(0,s.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,s.Z)(function*(){var T;try{yield ei(y)}catch(k){if("auth/network-request-failed"!==(null===(T=k)||void 0===T?void 0:T.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function en(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,s.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,s.Z)(function*(){const T=y?(0,z.m9)(y):null;return T&&ce(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(y,b=!1){var T=this;return(0,s.Z)(function*(){if(!T._deleted)return y&&ce(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,s.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,s.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,s.Z)(function*(){yield b.assertedPersistence.setPersistence(ue(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new z.LL("auth","Firebase",y())}onAuthStateChanged(y,b,T){return this.registerStateListener(this.authStateSubscription,y,b,T)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,T){return this.registerStateListener(this.idTokenSubscription,y,b,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var T=this;return(0,s.Z)(function*(){const k=yield T.getOrInitRedirectPersistenceManager(b);return null===y?k.removeCurrentUser():k.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,s.Z)(function*(){if(!b.redirectPersistenceManager){const T=y&&ue(y)||b._popupRedirectResolver;ce(T,b,"argument-error"),b.redirectPersistenceManager=yield nn.create(b,[ue(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,s.Z)(function*(){var T,k;return b._isInitialized&&(yield b.queue((0,s.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===y?b._currentUser:(null===(k=b.redirectUser)||void 0===k?void 0:k._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,s.Z)(function*(){if(y===b.currentUser)return b.queue((0,s.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,T,k){if(this._deleted)return()=>{};const V="function"==typeof b?b:b.next.bind(b),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(ae,this,"internal-error"),ae.then(()=>V(this.currentUser)),"function"==typeof b?y.addObserver(b,T,k):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,s.Z)(function*(){b.currentUser&&b.currentUser!==y&&(b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh()),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,s.Z)(function*(){var b;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const k=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return k&&(T["X-Firebase-Client"]=k),T})()}}function Mi(C){return(0,z.m9)(C)}class sa{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,z.ne)(b=>this.observer=b)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jl(C,y,b){const T=Mi(C);ce(T._canInitEmulator,T,"emulator-config-failed"),ce(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const k=!!b?.disableWarnings,V=No(y),{host:ae,port:Fe}=function $i(C){const y=No(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(T);if(k){const V=k[1];return{host:V,port:oa(T.substr(V.length+1))}}{const[V,ae]=T.split(":");return{host:V,port:oa(ae)}}}(y);T.config.emulator={url:`${V}//${ae}${null===Fe?"":`:${Fe}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ae,port:Fe,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function ko(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function No(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function oa(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Pi{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return we("not implemented")}_getIdTokenResponse(y){return we("not implemented")}_linkToIdToken(y,b){return we("not implemented")}_getReauthenticationResolver(y){return we("not implemented")}}function Oo(C,y){return er.apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:resetPassword",tn(C,y))})).apply(this,arguments)}function Bn(C,y){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ld(C,y){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",tn(C,y))})).apply(this,arguments)}function Ls(){return(Ls=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithPassword",tn(C,y))})).apply(this,arguments)}function Za(C,y){return si.apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:sendOobCode",tn(C,y))})).apply(this,arguments)}function Ri(C,y){return cd.apply(this,arguments)}function cd(){return(cd=(0,s.Z)(function*(C,y){return Za(C,y)})).apply(this,arguments)}function xn(C,y){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(C,y){return Za(C,y)})).apply(this,arguments)}function ud(C,y){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(C,y){return Za(C,y)})).apply(this,arguments)}function zl(C,y){return ts.apply(this,arguments)}function ts(){return(ts=(0,s.Z)(function*(C,y){return Za(C,y)})).apply(this,arguments)}function x_(){return(x_=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithEmailLink",tn(C,y))})).apply(this,arguments)}function dd(){return(dd=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithEmailLink",tn(C,y))})).apply(this,arguments)}class Gl extends Pi{constructor(y,b,T,k=null){super("password",T),this._email=y,this._password=b,this._tenantId=k}static _fromEmailAndPassword(y,b){return new Gl(y,b,"password")}static _fromEmailAndCode(y,b,T=null){return new Gl(y,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return function Lc(C,y){return Ls.apply(this,arguments)}(y,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Uc(C,y){return x_.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:et(y,"internal-error")}})()}_linkToIdToken(y,b){var T=this;return(0,s.Z)(function*(){switch(T.signInMethod){case"password":return Bn(y,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Hh(C,y){return dd.apply(this,arguments)}(y,{idToken:b,email:T._email,oobCode:T._password});default:et(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Us(C,y){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithIdp",tn(C,y))})).apply(this,arguments)}class ao extends Pi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new ao(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):et("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:k}=b,V=(0,ge._T)(b,["providerId","signInMethod"]);if(!T||!k)return null;const ae=new ao(T,k);return ae.idToken=V.idToken||void 0,ae.accessToken=V.accessToken||void 0,ae.secret=V.secret,ae.nonce=V.nonce,ae.pendingToken=V.pendingToken||null,ae}_getIdTokenResponse(y){return Us(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,Us(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,Us(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,z.xO)(b)}return y}}function I_(C,y){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:sendVerificationCode",tn(C,y))})).apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithPhoneNumber",tn(C,y))})).apply(this,arguments)}function qh(){return(qh=(0,s.Z)(function*(C,y){const b=yield Xn(C,"POST","/v1/accounts:signInWithPhoneNumber",tn(C,y));if(b.temporaryProof)throw fi(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const D_={USER_NOT_FOUND:"user-not-found"};function jh(){return(jh=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithPhoneNumber",tn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),D_)})).apply(this,arguments)}class Fo extends Pi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new Fo({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new Fo({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function S_(C,y){return $l.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function qa(C,y){return qh.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function M_(C,y){return jh.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:T,verificationCode:k}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:T,code:k}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:T,phoneNumber:k,temporaryProof:V}=y;return T||b||k||V?new Fo({verificationId:b,verificationCode:T,phoneNumber:k,temporaryProof:V}):null}}class ja{constructor(y){var b,T,k,V,ae,Fe;const dt=(0,z.zd)((0,z.pd)(y)),Mt=null!==(b=dt.apiKey)&&void 0!==b?b:null,Jt=null!==(T=dt.oobCode)&&void 0!==T?T:null,_i=function hd(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=dt.mode)&&void 0!==k?k:null);ce(Mt&&Jt&&_i,"argument-error"),this.apiKey=Mt,this.operation=_i,this.code=Jt,this.continueUrl=null!==(V=dt.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ae=dt.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(Fe=dt.tenantId)&&void 0!==Fe?Fe:null}static parseLink(y){const b=function M0(C){const y=(0,z.zd)((0,z.pd)(C)).link,b=y?(0,z.zd)((0,z.pd)(y)).deep_link_id:null,T=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(T?(0,z.zd)((0,z.pd)(T)).link:null)||T||b||y||C}(y);try{return new ja(b)}catch{return null}}}let ys=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,T){return Gl._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const k=ja.parseLink(T);return ce(k,"argument-error"),Gl._fromEmailAndCode(b,k.code,k.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class lo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class co extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ca extends co{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return ce("providerId"in b&&"signInMethod"in b,"argument-error"),ao._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ce(y.idToken||y.accessToken,"argument-error"),ao._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ca.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ca.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:k,pendingToken:V,nonce:ae,providerId:Fe}=y;if(!T&&!k&&!b&&!V||!Fe)return null;try{return new ca(Fe)._credential({idToken:b,accessToken:T,nonce:ae,pendingToken:V})}catch{return null}}}let Qp=(()=>{class C extends co{constructor(){super("facebook.com")}static credential(b){return ao._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),zh=(()=>{class C extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return ao._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:k}=b;if(!T&&!k)return null;try{return C.credential(T,k)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Bc=(()=>{class C extends co{constructor(){super("github.com")}static credential(b){return ao._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class za extends Pi{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return Us(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,Us(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,Us(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:k,pendingToken:V}=b;return T&&k&&V&&T===k?new za(T,V):null}static _create(y,b){return new za(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends lo{constructor(y){ce(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Mr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Mr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=za.fromJSON(y);return ce(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:T}=y;if(!b||!T)return null;try{return za._create(T,b)}catch{return null}}}let pi=(()=>{class C extends co{constructor(){super("twitter.com")}static credential(b,T){return ao._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:k}=b;if(!T||!k)return null;try{return C.credential(T,k)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Hc(C,y){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signUp",tn(C,y))})).apply(this,arguments)}class Pr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,T,k=!1){return(0,s.Z)(function*(){const V=yield _t._fromIdTokenResponse(y,T,k),ae=fd(T);return new Pr({user:V,providerId:ae,_tokenResponse:T,operationType:b})})()}static _forOperation(y,b,T){return(0,s.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const k=fd(T);return new Pr({user:y,providerId:k,_tokenResponse:T,operationType:b})})()}}function fd(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Gh(C){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(C){var y;const b=Mi(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new Pr({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield Hc(b,{returnSecureToken:!0}),k=yield Pr._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}class pd extends z.ZR{constructor(y,b,T,k){var V;super(b.code,b.message),this.operationType=T,this.user=k,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:y.name,tenantId:null!==(V=y.tenantId)&&void 0!==V?V:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,b,T,k){return new pd(y,b,T,k)}}function gd(C,y,b,T){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?pd._fromErrorAndOperation(C,V,y,T):V})}function Xp(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function kn(C,y){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(C,y){const b=(0,z.m9)(C);yield da(!0,b,y);const{providerUserInfo:T}=yield Sr(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),k=Xp(T||[]);return b.providerData=b.providerData.filter(V=>k.has(V.providerId)),k.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Yl(C,y){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(C,y,b=!1){const T=yield wt(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return Pr._forOperation(C,"link",T)})).apply(this,arguments)}function da(C,y,b){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(C,y,b){yield ei(y);const k=!1===C?"provider-already-linked":"no-such-provider";ce(Xp(y.providerData).has(b)===C,y.auth,k)})).apply(this,arguments)}function $a(C,y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(C,y,b=!1){var T;const{auth:k}=C,V="reauthenticate";try{const ae=yield wt(C,gd(k,V,y,C),b);ce(ae.idToken,k,"internal-error");const Fe=rn(ae.idToken);ce(Fe,k,"internal-error");const{sub:dt}=Fe;return ce(C.uid===dt,k,"user-mismatch"),Pr._forOperation(C,V,ae)}catch(ae){throw"auth/user-not-found"===(null===(T=ae)||void 0===T?void 0:T.code)&&et(k,"user-mismatch"),ae}})).apply(this,arguments)}function ha(C,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(C,y,b=!1){const T="signIn",k=yield gd(C,T,y),V=yield Pr._fromIdTokenResponse(C,T,k);return b||(yield C._updateCurrentUser(V.user)),V})).apply(this,arguments)}function qc(C,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(C,y){return ha(Mi(C),y)})).apply(this,arguments)}function fa(C,y){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.Z)(function*(C,y){const b=(0,z.m9)(C);return yield da(!1,b,y.providerId),Yl(b,y)})).apply(this,arguments)}function md(C,y){return pa.apply(this,arguments)}function pa(){return(pa=(0,s.Z)(function*(C,y){return $a((0,z.m9)(C),y)})).apply(this,arguments)}function Kl(C,y){return yr.apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(C,y){return Xn(C,"POST","/v1/accounts:signInWithCustomToken",tn(C,y))})).apply(this,arguments)}function Ql(C,y){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(C,y){const b=Mi(C),T=yield Kl(b,{token:y,returnSecureToken:!0}),k=yield Pr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}class St{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?Ya._fromServerResponse(y,b):et(y,"internal-error")}}class Ya extends St{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new Ya(b)}}function Jl(C,y,b){var T;ce((null===(T=b.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),ce(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ce(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(ce(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function _d(C,y,b){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C),k={requestType:"PASSWORD_RESET",email:y};b&&Jl(T,k,b),yield xn(T,k)})).apply(this,arguments)}function yd(C,y,b){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(C,y,b){yield Oo((0,z.m9)(C),{oobCode:y,newPassword:b})})).apply(this,arguments)}function eg(C,y){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(C,y){yield ld((0,z.m9)(C),{oobCode:y})})).apply(this,arguments)}function Ze(C,y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(C,y){const b=(0,z.m9)(C),T=yield Oo(b,{oobCode:y}),k=T.requestType;switch(ce(k,b,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(T.mfaInfo,b,"internal-error");default:ce(T.email,b,"internal-error")}let V=null;return T.mfaInfo&&(V=St._fromServerResponse(Mi(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:V},operation:k}})).apply(this,arguments)}function vd(C,y){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(C,y){const{data:b}=yield Ze((0,z.m9)(C),y);return b.email})).apply(this,arguments)}function ai(C,y,b){return ga.apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(C,y,b){const T=Mi(C),k=yield Hc(T,{returnSecureToken:!0,email:y,password:b}),V=yield Pr._fromIdTokenResponse(T,"signIn",k);return yield T._updateCurrentUser(V.user),V})).apply(this,arguments)}function tc(C,y,b){return qc((0,z.m9)(C),ys.credential(y,b))}function vs(C,y,b){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C),k={requestType:"EMAIL_SIGNIN",email:y};ce(b.handleCodeInApp,T,"argument-error"),b&&Jl(T,k,b),yield ud(T,k)})).apply(this,arguments)}function bd(C,y){return"EMAIL_SIGNIN"===ja.parseLink(y)?.operation}function tg(C,y,b){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C),k=ys.credentialWithLink(y,b||_e());return ce(k._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),qc(T,k)})).apply(this,arguments)}function Cd(C,y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:createAuthUri",tn(C,y))})).apply(this,arguments)}function ar(C,y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,s.Z)(function*(C,y){const T={identifier:y,continueUri:We()?_e():"http://localhost"},{signinMethods:k}=yield Cd((0,z.m9)(C),T);return k||[]})).apply(this,arguments)}function $h(C,y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,s.Z)(function*(C,y){const b=(0,z.m9)(C),k={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Jl(b.auth,k,y);const{email:V}=yield Ri(b.auth,k);V!==C.email&&(yield C.reload())})).apply(this,arguments)}function uo(C,y,b){return ma.apply(this,arguments)}function ma(){return(ma=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&Jl(T.auth,V,b);const{email:ae}=yield zl(T.auth,V);ae!==C.email&&(yield C.reload())})).apply(this,arguments)}function Wh(C,y){return jc.apply(this,arguments)}function jc(){return(jc=(0,s.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ng(C,y){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const T=(0,z.m9)(C),V={idToken:yield T.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},ae=yield wt(T,Wh(T.auth,V));T.displayName=ae.displayName||null,T.photoURL=ae.photoUrl||null;const Fe=T.providerData.find(({providerId:dt})=>"password"===dt);Fe&&(Fe.displayName=T.displayName,Fe.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ae)})).apply(this,arguments)}function Ed(C,y){return el((0,z.m9)(C),y,null)}function Ad(C,y){return el((0,z.m9)(C),null,y)}function el(C,y,b){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(C,y,b){const{auth:T}=C,V={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(V.email=y),b&&(V.password=b);const ae=yield wt(C,Bn(T,V));yield C._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class Hs{constructor(y,b,T={}){this.isNewUser=y,this.providerId=b,this.profile=T}}class Gc extends Hs{constructor(y,b,T,k){super(y,b,T),this.username=k}}class ig extends Hs{constructor(y,b){super(y,"facebook.com",b)}}class Td extends Gc{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class xd extends Hs{constructor(y,b){super(y,"google.com",b)}}class $c extends Gc{constructor(y,b,T){super(y,"twitter.com",b,T)}}function Wc(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function zc(C){var y,b;if(!C)return null;const{providerId:T}=C,k=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},V=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&C?.idToken){const ae=null===(b=null===(y=rn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(ae)return new Hs(V,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!T)return null;switch(T){case"facebook.com":return new ig(V,k);case"github.com":return new Td(V,k);case"google.com":return new xd(V,k);case"twitter.com":return new $c(V,k,C.screenName||null);case"custom":case"anonymous":return new Hs(V,null);default:return new Hs(V,T,k)}}(b)}class Uo{constructor(y,b){this.type=y,this.credential=b}static _fromIdtoken(y){return new Uo("enroll",y)}static _fromMfaPendingCredential(y){return new Uo("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,T;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Uo._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(T=y.multiFactorSession)&&void 0!==T&&T.idToken)return Uo._fromIdtoken(y.multiFactorSession.idToken)}return null}}class sc{constructor(y,b,T){this.session=y,this.hints=b,this.signInResolver=T}static _fromError(y,b){const T=Mi(y),k=b.customData._serverResponse,V=(k.mfaInfo||[]).map(Fe=>St._fromServerResponse(T,Fe));ce(k.mfaPendingCredential,T,"internal-error");const ae=Uo._fromMfaPendingCredential(k.mfaPendingCredential);return new sc(ae,V,function(){var Fe=(0,s.Z)(function*(dt){const Mt=yield dt._process(T,ae);delete k.mfaInfo,delete k.mfaPendingCredential;const Jt=Object.assign(Object.assign({},k),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(b.operationType){case"signIn":const _i=yield Pr._fromIdTokenResponse(T,b.operationType,Jt);return yield T._updateCurrentUser(_i.user),_i;case"reauthenticate":return ce(b.user,T,"internal-error"),Pr._forOperation(b.user,b.operationType,Jt);default:et(T,"internal-error")}});return function(dt){return Fe.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,s.Z)(function*(){return b.signInResolver(y)})()}}function Kc(C,y){var b;const T=(0,z.m9)(C),k=y;return ce(y.customData.operationType,T,"argument-error"),ce(null===(b=k.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),sc._fromError(T,k)}function ki(C,y){return fn(C,"POST","/v2/accounts/mfaEnrollment:start",tn(C,y))}class Id{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>St._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new Id(y)}getSession(){var y=this;return(0,s.Z)(function*(){return Uo._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,b){var T=this;return(0,s.Z)(function*(){const k=y,V=yield T.getSession(),ae=yield wt(T.user,k._process(T.user.auth,V,b));return yield T.user._updateTokensIfNecessary(ae),T.user.reload()})()}unenroll(y){var b=this;return(0,s.Z)(function*(){var T;const k="string"==typeof y?y:y.uid,V=yield b.user.getIdToken(),ae=yield wt(b.user,function sg(C,y){return fn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(C,y))}(b.user.auth,{idToken:V,mfaEnrollmentId:k}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Fe})=>Fe!==k),yield b.user._updateTokensIfNecessary(ae);try{yield b.user.reload()}catch(Fe){if("auth/user-token-expired"!==(null===(T=Fe)||void 0===T?void 0:T.code))throw Fe}})()}}const ho=new WeakMap;function nl(C){const y=(0,z.m9)(C);return ho.has(y)||ho.set(y,Id._fromUser(y)),ho.get(y)}const Sd="__sak";class Jc{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const ns=(()=>{class C extends Jc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xc(){const C=(0,z.z$)();return W(C)||Lt(C)}()&&function Un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const k=this.storage.getItem(T),V=this.localCache[T];k!==V&&b(T,V,k)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((Fe,dt,Mt)=>{this.notifyListeners(Fe,Mt)});const k=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(k);if(b.newValue!==Fe)null!==b.newValue?this.storage.setItem(k,b.newValue):this.storage.removeItem(k);else if(this.localCache[k]===b.newValue&&!T)return}const V=()=>{const Fe=this.storage.getItem(k);!T&&this.localCache[k]===Fe||this.notifyListeners(k,Fe)},ae=this.storage.getItem(k);!function Ot(){return(0,z.w1)()&&10===document.documentMode}()||ae===b.newValue||b.newValue===b.oldValue?V():setTimeout(V,10)}notifyListeners(b,T){this.localCache[b]=T;const k=this.listeners[b];if(k)for(const V of Array.from(k))V(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var k=()=>super._set,V=this;return(0,s.Z)(function*(){yield k().call(V,b,T),V.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,k=this;return(0,s.Z)(function*(){const V=yield T().call(k,b);return k.localCache[b]=JSON.stringify(V),V})()}_remove(b){var T=()=>super._remove,k=this;return(0,s.Z)(function*(){yield T().call(k,b),delete k.localCache[b]})()}}return C.type="LOCAL",C})(),Bo=(()=>{class C extends Jc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return C.type="SESSION",C})();let oc=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(V=>V.isListeningto(b));if(T)return T;const k=new C(b);return this.receivers.push(k),k}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,s.Z)(function*(){const k=b,{eventId:V,eventType:ae,data:Fe}=k.data,dt=T.handlersMap[ae];if(!dt?.size)return;k.ports[0].postMessage({status:"ack",eventId:V,eventType:ae});const Mt=Array.from(dt).map(function(){var _i=(0,s.Z)(function*(_o){return _o(k.origin,Fe)});return function(_o){return _i.apply(this,arguments)}}()),Jt=yield function Kh(C){return Promise.all(C.map(function(){var y=(0,s.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return y.apply(this,arguments)}}()))}(Mt);k.ports[0].postMessage({status:"done",eventId:V,eventType:ae,response:Jt})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ya(C="",y=10){let b="";for(let T=0;T<y;T++)b+=Math.floor(10*Math.random());return C+b}class On{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,T=50){var k=this;return(0,s.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ae,Fe;return new Promise((dt,Mt)=>{const Jt=ya("",20);V.port1.start();const _i=setTimeout(()=>{Mt(new Error("unsupported_event"))},T);Fe={messageChannel:V,onMessage(_o){const xs=_o;if(xs.data.eventId===Jt)switch(xs.data.status){case"ack":clearTimeout(_i),ae=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),dt(xs.data.response);break;default:clearTimeout(_i),clearTimeout(ae),Mt(new Error("invalid_response"))}}},k.handlers.add(Fe),V.port1.addEventListener("message",Fe.onMessage),k.target.postMessage({eventType:y,eventId:Jt,data:b},[V.port2])}).finally(()=>{Fe&&k.removeMessageHandler(Fe)})})()}}function Fn(){return window}function Bt(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function ti(){return(ti=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dd="firebaseLocalStorageDb",va="firebaseLocalStorage",bs="fbase_key";class is{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function gt(C,y){return C.transaction([va],y?"readwrite":"readonly").objectStore(va)}function il(){const C=indexedDB.open(Dd,1);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(va,{keyPath:bs})}catch(k){b(k)}}),C.addEventListener("success",(0,s.Z)(function*(){const T=C.result;T.objectStoreNames.contains(va)?y(T):(T.close(),yield function ws(){const C=indexedDB.deleteDatabase(Dd);return new is(C).toPromise()}(),y(yield il()))}))})}function Vo(C,y,b){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(C,y,b){const T=gt(C,!0).put({[bs]:y,value:b});return new is(T).toPromise()})).apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(C,y){const b=gt(C,!1).get(y),T=yield new is(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function fo(C,y){const b=gt(C,!0).delete(y);return new is(b).toPromise()}const qs=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,s.Z)(function*(){return b.db||(b.db=yield il()),b.db})()}_withRetries(b){var T=this;return(0,s.Z)(function*(){let k=0;for(;;)try{const V=yield T._openDb();return yield b(V)}catch(V){if(k++>3)throw V;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,s.Z)(function*(){return Bt()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,s.Z)(function*(){b.receiver=oc._getInstance(function k_(){return Bt()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,s.Z)(function*(k,V){return{keyProcessed:(yield b._poll()).includes(V.key)}});return function(k,V){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,s.Z)(function*(k,V){return["keyChanged"]});return function(k,V){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,s.Z)(function*(){var T,k;if(b.activeServiceWorker=yield function Oi(){return ti.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new On(b.activeServiceWorker);const V=yield b.sender._send("ping",{},800);!V||(null===(T=V[0])||void 0===T?void 0:T.fulfilled)&&(null===(k=V[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,s.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function eu(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const b=yield il();return yield Vo(b,Sd,"1"),yield fo(b,Sd),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,s.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(V=>Vo(V,b,T)),k.localCache[b]=T,k.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,s.Z)(function*(){const k=yield T._withRetries(V=>function ni(C,y){return ac.apply(this,arguments)}(V,b));return T.localCache[b]=k,k})()}_remove(b){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries(k=>fo(k,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,s.Z)(function*(){const T=yield b._withRetries(ae=>{const Fe=gt(ae,!1).getAll();return new is(Fe).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const k=[],V=new Set;for(const{fbase_key:ae,value:Fe}of T)V.add(ae),JSON.stringify(b.localCache[ae])!==JSON.stringify(Fe)&&(b.notifyListeners(ae,Fe),k.push(ae));for(const ae of Object.keys(b.localCache))b.localCache[ae]&&!V.has(ae)&&(b.notifyListeners(ae,null),k.push(ae));return k})()}notifyListeners(b,T){this.localCache[b]=T;const k=this.listeners[b];if(k)for(const V of Array.from(k))V(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function lc(C,y){return fn(C,"POST","/v2/accounts/mfaSignIn:start",tn(C,y))}function sl(){return(sl=(0,s.Z)(function*(C){return(yield fn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cs(C){return new Promise((y,b)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=y,T.onerror=k=>{const V=Be("internal-error");V.customData=k,b(V)},T.type="text/javascript",T.charset="UTF-8",function js(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(T)})}function nu(C){return`__${C}${Math.floor(1e6*Math.random())}`}const $n=1e12;class iu{constructor(y){this.auth=y,this.counter=$n,this._widgets=new Map}render(y,b){const T=this.counter;return this._widgets.set(T,new wa(y,this.auth.name,b||{})),this.counter++,T}reset(y){var b;const T=y||$n;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(y){var b;return(null===(b=this._widgets.get(y||$n))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,s.Z)(function*(){var T;return null===(T=b._widgets.get(y||$n))||void 0===T||T.execute(),""})()}}class wa{constructor(y,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof y?document.getElementById(y):y;ce(k,"argument-error",{appName:b}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wn(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qn=nu("rcb"),jr=new tt(3e4,6e4);class As{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Fn().grecaptcha}load(y,b=""){return ce(function ci(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(Fn().grecaptcha):new Promise((T,k)=>{const V=Fn().setTimeout(()=>{k(Be(y,"network-request-failed"))},jr.get());Fn()[Qn]=()=>{Fn().clearTimeout(V),delete Fn()[Qn];const Fe=Fn().grecaptcha;if(!Fe)return void k(Be(y,"internal-error"));const dt=Fe.render;Fe.render=(Mt,Jt)=>{const _i=dt(Mt,Jt);return this.counter++,_i},this.hostLanguage=b,T(Fe)},Cs(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Qn,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(V),k(Be(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Fn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ho{load(y){return(0,s.Z)(function*(){return new iu(y)})()}clearedOneInstance(){}}const Zt="recaptcha",Ca={theme:"light",type:"image"};class ef{constructor(y,b=Object.assign({},Ca),T){this.parameters=b,this.type=Zt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mi(T),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof y?document.getElementById(y):y;ce(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ho:new As,this.validateStartingState()}verify(){var y=this;return(0,s.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(b)||new Promise(V=>{const ae=Fe=>{!Fe||(y.tokenChangeListeners.delete(ae),V(Fe))};y.tokenChangeListeners.add(ae),y.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof y)y(b);else if("string"==typeof y){const T=Fn()[y];"function"==typeof T&&T(b)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,s.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,s.Z)(function*(){ce(We()&&!Bt(),y.auth,"internal-error"),yield function og(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function rl(C){return sl.apply(this,arguments)}(y.auth);ce(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tf{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=Fo._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function nf(C,y,b){return rf.apply(this,arguments)}function rf(){return(rf=(0,s.Z)(function*(C,y,b){const T=Mi(C),k=yield An(T,y,(0,z.m9)(b));return new tf(k,V=>qc(T,V))})).apply(this,arguments)}function Ea(C,y,b){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C);yield da(!1,T,"phone");const k=yield An(T.auth,y,(0,z.m9)(b));return new tf(k,V=>fa(T,V))})).apply(this,arguments)}function Md(C,y,b){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C),k=yield An(T.auth,y,(0,z.m9)(b));return new tf(k,V=>md(T,V))})).apply(this,arguments)}function An(C,y,b){return go.apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(C,y,b){var T;const k=yield b.verify();try{let V;if(ce("string"==typeof k,C,"argument-error"),ce(b.type===Zt,C,"argument-error"),V="string"==typeof y?{phoneNumber:y}:y,"session"in V){const ae=V.session;if("phoneNumber"in V)return ce("enroll"===ae.type,C,"internal-error"),(yield ki(C,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{ce("signin"===ae.type,C,"internal-error");const Fe=(null===(T=V.multiFactorHint)||void 0===T?void 0:T.uid)||V.multiFactorUid;return ce(Fe,C,"missing-multi-factor-info"),(yield lc(C,{mfaPendingCredential:ae.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield I_(C,{phoneNumber:V.phoneNumber,recaptchaToken:k});return ae}}finally{b._reset()}})).apply(this,arguments)}function Gs(C,y){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,s.Z)(function*(C,y){yield Yl((0,z.m9)(C),y)})).apply(this,arguments)}let Rd=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=Mi(b)}verifyPhoneNumber(b,T){return An(this.auth,b,(0,z.m9)(T))}static credential(b,T){return Fo._fromVerification(b,T)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:k}=b;return T&&k?Fo._fromTokenResponse(T,k):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function gi(C,y){return y?ue(y):(ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class zr extends Pi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Us(y,this._buildIdpRequest())}_linkToIdToken(y,b){return Us(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return Us(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function ru(C){return ha(C.auth,new zr(C),C.bypassAuthState)}function al(C){const{auth:y,user:b}=C;return ce(b,y,"internal-error"),$a(b,new zr(C),C.bypassAuthState)}function Aa(C){return ll.apply(this,arguments)}function ll(){return(ll=(0,s.Z)(function*(C){const{auth:y,user:b}=C;return ce(b,y,"internal-error"),Yl(b,new zr(C),C.bypassAuthState)})).apply(this,arguments)}class ag{constructor(y,b,T,k,V=!1){this.auth=y,this.resolver=T,this.user=k,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,s.Z)(function*(T,k){y.pendingPromise={resolve:T,reject:k};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(V){y.reject(V)}});return function(T,k){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,s.Z)(function*(){const{urlResponse:T,sessionId:k,postBody:V,tenantId:ae,error:Fe,type:dt}=y;if(Fe)return void b.reject(Fe);const Mt={auth:b.auth,requestUri:T,sessionId:k,tenantId:ae||void 0,postBody:V||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(dt)(Mt))}catch(Jt){b.reject(Jt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ru;case"linkViaPopup":case"linkViaRedirect":return Aa;case"reauthViaPopup":case"reauthViaRedirect":return al;default:et(this.auth,"internal-error")}}resolve(y){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const O_=new tt(2e3,1e4);function N0(C,y,b){return sf.apply(this,arguments)}function sf(){return(sf=(0,s.Z)(function*(C,y,b){const T=Mi(C);Pe(C,y,lo);const k=gi(T,b);return new lf(T,"signInViaPopup",y,k).executeNotNull()})).apply(this,arguments)}function af(C,y,b){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C);Pe(T.auth,y,lo);const k=gi(T.auth,b);return new lf(T.auth,"reauthViaPopup",y,k,T).executeNotNull()})).apply(this,arguments)}function su(C,y,b){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C);Pe(T.auth,y,lo);const k=gi(T.auth,b);return new lf(T.auth,"linkViaPopup",y,k,T).executeNotNull()})).apply(this,arguments)}let lf=(()=>{class C extends ag{constructor(b,T,k,V,ae){super(b,T,V,ae),this.provider=k,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,s.Z)(function*(){const T=yield b.execute();return ce(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,s.Z)(function*(){Re(1===b.filter.length,"Popup operations only handle one event");const T=ya();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch(k=>{b.reject(k)}),b.resolver._isIframeWebStorageSupported(b.auth,k=>{k||b.reject(Be(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,k;this.pollId=null!==(k=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,O_.get())};b()}}return C.currentPopupAction=null,C})();const cl=new Map;class mo extends ag{constructor(y,b,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,s.Z)(function*(){let T=cl.get(b.auth._key());if(!T){try{const V=(yield function lg(C,y){return cf.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;T=()=>Promise.resolve(V)}catch(k){T=()=>Promise.reject(k)}cl.set(b.auth._key(),T)}return b.bypassAuthState||cl.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,T=this;return(0,s.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(T,y);if("unknown"!==y.type){if(y.eventId){const k=yield T.auth._redirectUserForId(y.eventId);if(k)return T.user=k,b().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function cf(){return(cf=(0,s.Z)(function*(C,y){const b=D(y),T=S(C);if(!(yield T._isAvailable()))return!1;const k="true"===(yield T._get(b));return yield T._remove(b),k})).apply(this,arguments)}function ou(C,y){return rs.apply(this,arguments)}function rs(){return(rs=(0,s.Z)(function*(C,y){return S(C)._set(D(y),"true")})).apply(this,arguments)}function au(){cl.clear()}function ul(C,y){cl.set(C._key(),y)}function S(C){return ue(C._redirectPersistence)}function D(C){return Nn("pendingRedirect",C.config.apiKey,C.name)}function N(C,y,b){return function Z(C,y,b){return te.apply(this,arguments)}(C,y,b)}function te(){return(te=(0,s.Z)(function*(C,y,b){const T=Mi(C);Pe(C,y,lo);const k=gi(T,b);return yield ou(k,T),k._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function be(C,y,b){return function qe(C,y,b){return it.apply(this,arguments)}(C,y,b)}function it(){return(it=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C);Pe(T.auth,y,lo);const k=gi(T.auth,b);yield ou(k,T.auth);const V=yield qt(T);return k._openRedirect(T.auth,y,"reauthViaRedirect",V)})).apply(this,arguments)}function Dt(C,y,b){return function Ht(C,y,b){return Kt.apply(this,arguments)}(C,y,b)}function Kt(){return(Kt=(0,s.Z)(function*(C,y,b){const T=(0,z.m9)(C);Pe(T.auth,y,lo);const k=gi(T.auth,b);yield da(!1,T,y.providerId),yield ou(k,T.auth);const V=yield qt(T);return k._openRedirect(T.auth,y,"linkViaRedirect",V)})).apply(this,arguments)}function ft(C,y){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(C,y){return yield Mi(C)._initializationPromise,Fi(C,y,!1)})).apply(this,arguments)}function Fi(C,y){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(C,y,b=!1){const T=Mi(C),k=gi(T,y),ae=yield new mo(T,k,b).execute();return ae&&!b&&(delete ae.user._redirectEventId,yield T._persistUserIfCurrent(ae.user),yield T._setRedirectUser(null,y)),ae})).apply(this,arguments)}function qt(C){return ss.apply(this,arguments)}function ss(){return(ss=(0,s.Z)(function*(C){const y=ya(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class $s{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(b=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function qo(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $r(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var T;if(y.error&&!$r(y)){const k=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(Be(this.auth,k))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const T=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zo(y))}saveEventToCache(y){this.cachedEventUids.add(Zo(y)),this.lastProcessedEventTime=Date.now()}}function Zo(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function $r({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function Ta(C){return lu.apply(this,arguments)}function lu(){return(lu=(0,s.Z)(function*(C,y={}){return fn(C,"GET","/v1/projects",y)})).apply(this,arguments)}const cu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uu=/^https?/;function uf(){return(uf=(0,s.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield Ta(C);for(const b of y)try{if(ug(b))return}catch{}et(C,"unauthorized-domain")})).apply(this,arguments)}function ug(C){const y=_e(),{protocol:b,hostname:T}=new URL(y);if(C.startsWith("chrome-extension://")){const ae=new URL(C);return""===ae.hostname&&""===T?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&ae.hostname===T}if(!uu.test(b))return!1;if(cu.test(C))return T===C;const k=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(T)}const df=new tt(3e4,6e4);function dl(){const C=Fn().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let hf=null;function NA(C){return hf=hf||function du(C){return new Promise((y,b)=>{var T,k,V;function ae(){dl(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{dl(),b(Be(C,"network-request-failed"))},timeout:df.get()})}if(null!==(k=null===(T=Fn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==k&&k.Iframe)y(gapi.iframes.getContext());else{if(null===(V=Fn().gapi)||void 0===V||!V.load){const Fe=nu("iframefcb");return Fn()[Fe]=()=>{gapi.load?ae():b(Be(C,"network-request-failed"))},Cs(`https://apis.google.com/js/api.js?onload=${Fe}`).catch(dt=>b(dt))}ae()}}).catch(y=>{throw hf=null,y})}(C),hf}const F_=new tt(5e3,15e3),k0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F0(C){const y=C.config;ce(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?Pn(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:y.apiKey,appName:C.name,v:F.SDK_VERSION},k=O0.get(C.config.apiHost);k&&(T.eid=k);const V=C._getFrameworks();return V.length&&(T.fw=V.join(",")),`${b}?${(0,z.xO)(T).slice(1)}`}function Nd(){return Nd=(0,s.Z)(function*(C){const y=yield NA(C),b=Fn().gapi;return ce(b,C,"internal-error"),y.open({where:document.body,url:F0(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k0,dontclear:!0},T=>new Promise(function(){var k=(0,s.Z)(function*(V,ae){yield T.restyle({setHideOnLeave:!1});const Fe=Be(C,"network-request-failed"),dt=Fn().setTimeout(()=>{ae(Fe)},F_.get());function Mt(){Fn().clearTimeout(dt),V(T)}T.ping(Mt).then(Mt,()=>{ae(Fe)})});return function(V,ae){return k.apply(this,arguments)}}()))}),Nd.apply(this,arguments)}const dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hu{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kd(C,y,b,T,k,V){ce(C.config.authDomain,C,"auth-domain-config-required"),ce(C.config.apiKey,C,"invalid-api-key");const ae={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:T,v:F.SDK_VERSION,eventId:k};if(y instanceof lo){y.setDefaultLanguage(C.languageCode),ae.providerId=y.providerId||"",(0,z.xb)(y.getCustomParameters())||(ae.customParameters=JSON.stringify(y.getCustomParameters()));for(const[dt,Mt]of Object.entries(V||{}))ae[dt]=Mt}if(y instanceof co){const dt=y.getScopes().filter(Mt=>""!==Mt);dt.length>0&&(ae.scopes=dt.join(","))}C.tenantId&&(ae.tid=C.tenantId);const Fe=ae;for(const dt of Object.keys(Fe))void 0===Fe[dt]&&delete Fe[dt];return`${function Od({config:C}){return C.emulator?Pn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,z.xO)(Fe).slice(1)}`}const dc="webStorageSupport",Fd=class fg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=Fi,this._overrideRedirectResult=ul}_openPopup(y,b,T,k){var V=this;return(0,s.Z)(function*(){var ae;Re(null===(ae=V.eventManagers[y._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const Fe=kd(y,b,T,_e(),k);return function hg(C,y,b,T=500,k=600){const V=Math.max((window.screen.availHeight-k)/2,0).toString(),ae=Math.max((window.screen.availWidth-T)/2,0).toString();let Fe="";const dt=Object.assign(Object.assign({},dg),{width:T.toString(),height:k.toString(),top:V,left:ae}),Mt=(0,z.z$)().toLowerCase();b&&(Fe=Me(Mt)?"_blank":b),$(Mt)&&(y=y||"http://localhost",dt.scrollbars="yes");const Jt=Object.entries(dt).reduce((_o,[xs,Ud])=>`${_o}${xs}=${Ud},`,"");if(function Xi(C=(0,z.z$)()){var y;return Lt(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Mt)&&"_self"!==Fe)return function vr(C,y){const b=document.createElement("a");b.href=C,b.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(y||"",Fe),new hu(null);const _i=window.open(y||"",Fe,Jt);ce(_i,C,"popup-blocked");try{_i.focus()}catch{}return new hu(_i)}(y,Fe,ya())})()}_openRedirect(y,b,T,k){var V=this;return(0,s.Z)(function*(){return yield V._originValidation(y),function yt(C){Fn().location.href=C}(kd(y,b,T,_e(),k)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:k,promise:V}=this.eventManagers[b];return k?Promise.resolve(k):(Re(V,"If manager is not set, promise should be"),V)}const T=this.initAndGetManager(y);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(y){var b=this;return(0,s.Z)(function*(){const T=yield function pf(C){return Nd.apply(this,arguments)}(y),k=new $s(y);return T.register("authEvent",V=>(ce(V?.authEvent,y,"invalid-auth-event"),{status:k.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:k},b.iframes[y._key()]=T,k})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(dc,{type:dc},k=>{var V;const ae=null===(V=k?.[0])||void 0===V?void 0:V[dc];void 0!==ae&&b(!!ae),et(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function cc(C){return uf.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return Gi()||W()||Lt()}};class xa extends class mf{constructor(y){this.factorId=y}_process(y,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,T);case"signin":return this._finalizeSignIn(y,b.credential);default:return we("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new xa(y)}_finalizeEnroll(y,b,T){return function Qc(C,y){return fn(C,"POST","/v2/accounts/mfaEnrollment:finalize",tn(C,y))}(y,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function ba(C,y){return fn(C,"POST","/v2/accounts/mfaSignIn:finalize",tn(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ld=(()=>{class C{constructor(){}static assertion(b){return xa._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var U_="@firebase/auth";class B0{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,s.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(T=>{var k;y((null===(k=T)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);!b||(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fl(C=(0,F.getApp)()){const y=(0,F._getProvider)(C,"auth");return y.isInitialized()?y.getImmediate():function fe(C,y){const b=(0,F._getProvider)(C,"auth");if(b.isInitialized()){const k=b.getImmediate(),V=b.getOptions();if((0,z.vZ)(V,y??{}))return k;et(k,"already-initialized")}return b.initialize({options:y})}(C,{popupRedirectResolver:Fd,persistence:[qs,ns,Bo]})}!function Ts(C){(0,F._registerComponent)(new Te.wA("auth",(y,{options:b})=>{const T=y.getProvider("app").getImmediate(),k=y.getProvider("heartbeat"),{apiKey:V,authDomain:ae}=T.options;return((Fe,dt)=>{ce(V&&!V.includes(":"),"invalid-api-key",{appName:Fe.name}),ce(!ae?.includes(":"),"argument-error",{appName:Fe.name});const Mt={apiKey:V,authDomain:ae,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ha(C)},Jt=new $t(Fe,dt,Mt);return function Se(C,y){const b=y?.persistence||[],T=(Array.isArray(b)?b:[b]).map(ue);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(T,y?.popupRedirectResolver)}(Jt,b),Jt})(T,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,T)=>{y.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Te.wA("auth-internal",y=>{const b=Mi(y.getProvider("auth").getImmediate());return new B0(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(U_,"0.20.4",function _f(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,F.registerVersion)(U_,"0.20.4","esm2017")}("Browser")},2090:(Et,Oe,B)=>{B.d(Oe,{$s:()=>mr,BH:()=>nt,DV:()=>fn,Dv:()=>or,G6:()=>ce,GJ:()=>hn,L:()=>ve,LL:()=>_e,Mn:()=>Pe,Pz:()=>en,Sg:()=>He,UG:()=>Ee,UI:()=>gs,US:()=>Te,Wj:()=>zn,Yr:()=>st,ZB:()=>Y,ZR:()=>Se,b$:()=>et,cI:()=>ln,d:()=>Be,dS:()=>oo,eu:()=>Re,g5:()=>F,gK:()=>qi,gQ:()=>fi,h$:()=>le,hl:()=>we,hu:()=>z,jU:()=>Ae,lb:()=>ji,m9:()=>wn,ne:()=>Os,p$:()=>Q,pd:()=>ms,r3:()=>tn,ru:()=>rt,tV:()=>xe,uI:()=>Je,ug:()=>rn,vZ:()=>gr,w1:()=>Ve,w9:()=>Rn,xO:()=>ks,xb:()=>Yn,z$:()=>Le,zI:()=>ee,zd:()=>es});const z=function(J,G){if(!J)throw F(G)},F=function(J){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+J)},ge=function(J){const G=[];let ie=0;for(let re=0;re<J.length;re++){let j=J.charCodeAt(re);j<128?G[ie++]=j:j<2048?(G[ie++]=j>>6|192,G[ie++]=63&j|128):55296==(64512&j)&&re+1<J.length&&56320==(64512&J.charCodeAt(re+1))?(j=65536+((1023&j)<<10)+(1023&J.charCodeAt(++re)),G[ie++]=j>>18|240,G[ie++]=j>>12&63|128,G[ie++]=j>>6&63|128,G[ie++]=63&j|128):(G[ie++]=j>>12|224,G[ie++]=j>>6&63|128,G[ie++]=63&j|128)}return G},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,G){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let j=0;j<J.length;j+=3){const De=J[j],Ke=j+1<J.length,_t=Ke?J[j+1]:0,Gt=j+2<J.length,pn=Gt?J[j+2]:0;let pe=(15&_t)<<2|pn>>6,$=63&pn;Gt||($=64,Ke||(pe=64)),re.push(ie[De>>2],ie[(3&De)<<4|_t>>4],ie[pe],ie[$])}return re.join("")},encodeString(J,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(J):this.encodeByteArray(ge(J),G)},decodeString(J,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(J):function(J){const G=[];let ie=0,re=0;for(;ie<J.length;){const j=J[ie++];if(j<128)G[re++]=String.fromCharCode(j);else if(j>191&&j<224){const De=J[ie++];G[re++]=String.fromCharCode((31&j)<<6|63&De)}else if(j>239&&j<365){const Gt=((7&j)<<18|(63&J[ie++])<<12|(63&J[ie++])<<6|63&J[ie++])-65536;G[re++]=String.fromCharCode(55296+(Gt>>10)),G[re++]=String.fromCharCode(56320+(1023&Gt))}else{const De=J[ie++],Ke=J[ie++];G[re++]=String.fromCharCode((15&j)<<12|(63&De)<<6|63&Ke)}}return G.join("")}(this.decodeStringToByteArray(J,G))},decodeStringToByteArray(J,G){this.init_();const ie=G?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let j=0;j<J.length;){const De=ie[J.charAt(j++)],_t=j<J.length?ie[J.charAt(j)]:0;++j;const pn=j<J.length?ie[J.charAt(j)]:64;++j;const nn=j<J.length?ie[J.charAt(j)]:64;if(++j,null==De||null==_t||null==pn||null==nn)throw Error();re.push(De<<2|_t>>4),64!==pn&&(re.push(_t<<4&240|pn>>2),64!==nn&&re.push(pn<<6&192|nn))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},le=function(J){const G=ge(J);return Te.encodeByteArray(G,!0)},ve=function(J){return le(J).replace(/\./g,"")},xe=function(J){try{return Te.decodeString(J,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Q(J){return Y(void 0,J)}function Y(J,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return G}for(const ie in G)!G.hasOwnProperty(ie)||!oe(ie)||(J[ie]=Y(J[ie],G[ie]));return J}function oe(J){return"__proto__"!==J}class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,ie)=>{this.resolve=G,this.reject=ie})}wrapCallback(G){return(ie,re)=>{ie?this.reject(ie):this.resolve(re),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(ie):G(ie,re))}}}function He(J,G){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=G||"demo-project",j=J.iat||0,De=J.sub||J.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:j,exp:j+3600,auth_time:j,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Ke)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ae(){return"object"==typeof self&&self.self===self}function rt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return Le().indexOf("Electron/")>=0}function Ve(){const J=Le();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Pe(){return Le().indexOf("MSAppHost/")>=0}function st(){return!1}function ce(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}function Re(){return new Promise((J,G)=>{try{let ie=!0;const re="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(re);j.onsuccess=()=>{j.result.close(),ie||self.indexedDB.deleteDatabase(re),J(!0)},j.onupgradeneeded=()=>{ie=!1},j.onerror=()=>{var De;G((null===(De=j.error)||void 0===De?void 0:De.message)||"")}}catch(ie){G(ie)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(G,ie,re){super(ie),this.code=G,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(G,ie,re){this.service=G,this.serviceName=ie,this.errors=re}create(G,...ie){const re=ie[0]||{},j=`${this.service}/${G}`,De=this.errors[G],Ke=De?function We(J,G){return J.replace(xt,(ie,re)=>{const j=G[re];return null!=j?String(j):`<${re}?>`})}(De,re):"Error";return new Se(j,`${this.serviceName}: ${Ke} (${j}).`,re)}}const xt=/\{\$([^}]+)}/g;function ln(J){return JSON.parse(J)}function en(J){return JSON.stringify(J)}const tt=function(J){let G={},ie={},re={},j="";try{const De=J.split(".");G=ln(xe(De[0])||""),ie=ln(xe(De[1])||""),j=De[2],re=ie.d||{},delete ie.d}catch{}return{header:G,claims:ie,data:re,signature:j}},Rn=function(J){const ie=tt(J).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},hn=function(J){const G=tt(J).claims;return"object"==typeof G&&!0===G.admin};function tn(J,G){return Object.prototype.hasOwnProperty.call(J,G)}function fn(J,G){if(Object.prototype.hasOwnProperty.call(J,G))return J[G]}function Yn(J){for(const G in J)if(Object.prototype.hasOwnProperty.call(J,G))return!1;return!0}function gs(J,G,ie){const re={};for(const j in J)Object.prototype.hasOwnProperty.call(J,j)&&(re[j]=G.call(ie,J[j],j,J));return re}function gr(J,G){if(J===G)return!0;const ie=Object.keys(J),re=Object.keys(G);for(const j of ie){if(!re.includes(j))return!1;const De=J[j],Ke=G[j];if(Xn(De)&&Xn(Ke)){if(!gr(De,Ke))return!1}else if(De!==Ke)return!1}for(const j of re)if(!ie.includes(j))return!1;return!0}function Xn(J){return null!==J&&"object"==typeof J}function ks(J){const G=[];for(const[ie,re]of Object.entries(J))Array.isArray(re)?re.forEach(j=>{G.push(encodeURIComponent(ie)+"="+encodeURIComponent(j))}):G.push(encodeURIComponent(ie)+"="+encodeURIComponent(re));return G.length?"&"+G.join("&"):""}function es(J){const G={};return J.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[j,De]=re.split("=");G[decodeURIComponent(j)]=decodeURIComponent(De)}}),G}function ms(J){const G=J.indexOf("?");if(!G)return"";const ie=J.indexOf("#",G);return J.substring(G,ie>0?ie:void 0)}class fi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,ie){ie||(ie=0);const re=this.W_;if("string"==typeof G)for(let nn=0;nn<16;nn++)re[nn]=G.charCodeAt(ie)<<24|G.charCodeAt(ie+1)<<16|G.charCodeAt(ie+2)<<8|G.charCodeAt(ie+3),ie+=4;else for(let nn=0;nn<16;nn++)re[nn]=G[ie]<<24|G[ie+1]<<16|G[ie+2]<<8|G[ie+3],ie+=4;for(let nn=16;nn<80;nn++){const pe=re[nn-3]^re[nn-8]^re[nn-14]^re[nn-16];re[nn]=4294967295&(pe<<1|pe>>>31)}let pn,Nn,j=this.chain_[0],De=this.chain_[1],Ke=this.chain_[2],_t=this.chain_[3],Gt=this.chain_[4];for(let nn=0;nn<80;nn++){nn<40?nn<20?(pn=_t^De&(Ke^_t),Nn=1518500249):(pn=De^Ke^_t,Nn=1859775393):nn<60?(pn=De&Ke|_t&(De|Ke),Nn=2400959708):(pn=De^Ke^_t,Nn=3395469782);const pe=(j<<5|j>>>27)+pn+Gt+Nn+re[nn]&4294967295;Gt=_t,_t=Ke,Ke=4294967295&(De<<30|De>>>2),De=j,j=pe}this.chain_[0]=this.chain_[0]+j&4294967295,this.chain_[1]=this.chain_[1]+De&4294967295,this.chain_[2]=this.chain_[2]+Ke&4294967295,this.chain_[3]=this.chain_[3]+_t&4294967295,this.chain_[4]=this.chain_[4]+Gt&4294967295}update(G,ie){if(null==G)return;void 0===ie&&(ie=G.length);const re=ie-this.blockSize;let j=0;const De=this.buf_;let Ke=this.inbuf_;for(;j<ie;){if(0===Ke)for(;j<=re;)this.compress_(G,j),j+=this.blockSize;if("string"==typeof G){for(;j<ie;)if(De[Ke]=G.charCodeAt(j),++Ke,++j,Ke===this.blockSize){this.compress_(De),Ke=0;break}}else for(;j<ie;)if(De[Ke]=G[j],++Ke,++j,Ke===this.blockSize){this.compress_(De),Ke=0;break}}this.inbuf_=Ke,this.total_+=ie}digest(){const G=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let j=this.blockSize-1;j>=56;j--)this.buf_[j]=255&ie,ie/=256;this.compress_(this.buf_);let re=0;for(let j=0;j<5;j++)for(let De=24;De>=0;De-=8)G[re]=this.chain_[j]>>De&255,++re;return G}}function Os(J,G){const ie=new Tt(J,G);return ie.subscribe.bind(ie)}class Tt{constructor(G,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{G(this)}).catch(re=>{this.error(re)})}next(G){this.forEachObserver(ie=>{ie.next(G)})}error(G){this.forEachObserver(ie=>{ie.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,ie,re){let j;if(void 0===G&&void 0===ie&&void 0===re)throw new Error("Missing Observer.");j=function jn(J,G){if("object"!=typeof J||null===J)return!1;for(const ie of G)if(ie in J&&"function"==typeof J[ie])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:ie,complete:re},void 0===j.next&&(j.next=cn),void 0===j.error&&(j.error=cn),void 0===j.complete&&(j.complete=cn);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),De}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,G)}sendOne(G,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{ie(this.observers[G])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const or=function(J,G,ie,re){let j;if(re<G?j="at least "+G:re>ie&&(j=0===ie?"none":"no more than "+ie),j)throw new Error(J+" failed: Was called with "+re+(1===re?" argument.":" arguments.")+" Expects "+j+".")};function qi(J,G){return`${J} failed: ${G} argument `}function zn(J,G,ie,re){if((!re||ie)&&"function"!=typeof ie)throw new Error(qi(J,G)+"must be a valid function.")}function ji(J,G,ie,re){if((!re||ie)&&("object"!=typeof ie||null===ie))throw new Error(qi(J,G)+"must be a valid context object.")}const oo=function(J){const G=[];let ie=0;for(let re=0;re<J.length;re++){let j=J.charCodeAt(re);if(j>=55296&&j<=56319){const De=j-55296;re++,z(re<J.length,"Surrogate pair missing trail surrogate."),j=65536+(De<<10)+(J.charCodeAt(re)-56320)}j<128?G[ie++]=j:j<2048?(G[ie++]=j>>6|192,G[ie++]=63&j|128):j<65536?(G[ie++]=j>>12|224,G[ie++]=j>>6&63|128,G[ie++]=63&j|128):(G[ie++]=j>>18|240,G[ie++]=j>>12&63|128,G[ie++]=j>>6&63|128,G[ie++]=63&j|128)}return G},rn=function(J){let G=0;for(let ie=0;ie<J.length;ie++){const re=J.charCodeAt(ie);re<128?G++:re<2048?G+=2:re>=55296&&re<=56319?(G+=4,ie++):G+=3}return G};function mr(J,G=1e3,ie=2){const re=G*Math.pow(ie,J),j=Math.round(.5*re*(Math.random()-.5)*2);return Math.min(144e5,re+j)}function wn(J){return J&&J._delegate?J._delegate:J}},1297:(Et,Oe,B)=>{var s=B(4650);let z=null;function F(){return z}const le=new s.OlP("DocumentToken");let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function xe(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const Q=new s.OlP("Location Initialized");let Y=(()=>{class n extends ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){oe()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){oe()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function nt(){return new Y((0,s.LFG)(le))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function He(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Le(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ae(){const n=(0,s.LFG)(le).location;return new et((0,s.LFG)(ve),n&&n.origin||"")}()},providedIn:"root"}),n})();const rt=new s.OlP("appBaseHref");let et=(()=>{class n extends Ee{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return He(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+Je(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+Je(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(rt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends Ee{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=He(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Je(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Je(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ve),s.LFG(rt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(ce(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Je(i))}normalize(e){return n.stripTrailingSlash(function st(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ce(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=He,n.stripTrailingSlash=Le,n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Pe(){return new Ve((0,s.LFG)(Ee))}()},providedIn:"root"}),n})();function ce(n){return n.replace(/\/index.html$/,"")}function Fc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let ld=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Za{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let si=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Za(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),Ri(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ri(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ri(n,t){n.context.$implicit=t.item}let xn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new _r,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ud("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ud("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _r{constructor(){this.$implicit=null,this.ngIf=null}}function ud(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let Gl=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Us=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[s.TTD]}),n})(),Mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const pi="browser";function Gh(n){return"server"===n}let Xp=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new kn((0,s.LFG)(le),window)}),n})();class kn{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Yl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ua(this.window.history)||ua(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ua(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class da{}class $a extends class Kn extends class Te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function me(n){z||(z=n)}(new $a)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ha(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}();return null==e?null:function qc(n){Ni=Ni||document.createElement("a"),Ni.setAttribute("href",n);const t=Ni.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fc(document.cookie,t)}}let Ni,Wa=null;const oi=new s.OlP("TRANSITION_ID"),tr=[{provide:s.ip1,useFactory:function fa(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[oi,le,s.zs3],multi:!0}];let pa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Kl=new s.OlP("EventManagerPlugins");let yr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ql{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Lo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),St=(()=>{class n extends Lo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ya),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ya))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ya(n){F().remove(n)}const Jl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_d=/%COMP%/g;function Yt(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Yt(n,r,e):(r=r.replace(_d,n),e.push(r))}return e}function vd(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ai=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ga(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new bd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new tg(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Yt(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yr),s.LFG(St),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ga{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Jl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ja(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ja(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Jl[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Jl[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vd(i)):this.eventManager.addEventListener(t,e,vd(i))}}function Ja(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bd extends ga{constructor(t,e,i,r){super(t),this.component=i;const o=Yt(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Xl(n){return"_ngcontent-%COMP%".replace(_d,n)}(r+"-"+i.id),this.hostAttr=function Ze(n){return"_nghost-%COMP%".replace(_d,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class tg extends ga{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Yt(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const u=document.createElement("style");u.textContent=o[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let wd=(()=>{class n extends Ql{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Cd=["alt","control","meta","shift"],ar={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$h={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vs=(()=>{class n extends Ql{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="";if(Cd.forEach(h=>{const p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static getEventFullKey(e){let i="",r=function uo(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Rr.hasOwnProperty(t)&&(t=Rr[t]))}return ar[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Cd.forEach(o=>{o!=r&&$h[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const el=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:pi},{provide:s.g9A,useValue:function ng(){$a.makeCurrent()},multi:!0},{provide:le,useFactory:function Ed(){return(0,s.RDi)(document),document},deps:[]}]),nc=new s.OlP(""),zc=[{provide:s.rWj,useClass:class md{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,a=!1;const u=function(h){a=a||h,o--,0==o&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Hs=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function _a(){return new s.qLn},deps:[]},{provide:Kl,useClass:wd,multi:!0,deps:[le,s.R0b,s.Lbi]},{provide:Kl,useClass:Vs,multi:!0,deps:[le]},{provide:ai,useClass:ai,deps:[yr,St,s.AFp]},{provide:s.FYo,useExisting:ai},{provide:Lo,useExisting:St},{provide:St,useClass:St,deps:[le]},{provide:yr,useClass:yr,deps:[Kl,s.R0b]},{provide:da,useClass:pa,deps:[]},[]];let Gc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:oi,useExisting:s.AFp},tr]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nc,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Hs,...zc],imports:[Mr,s.hGG]}),n})(),Wc=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function $c(){return new Wc((0,s.LFG)(le))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Bo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(oc),i},providedIn:"root"}),n})(),oc=(()=>{class n extends Bo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Kh(n){return new oc(n.get(le))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var On=B(8996),Fn=B(3269);function yt(...n){const t=(0,Fn.yG)(n);return(0,On.D)(n,t)}var Bt=B(7579);class Oi extends Bt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var ti=B(8306);const{isArray:eu}=Array,{getPrototypeOf:k_,prototype:Dd,keys:Qh}=Object;function va(n){if(1===n.length){const t=n[0];if(eu(t))return{args:t,keys:null};if(function bs(n){return n&&"object"==typeof n&&k_(n)===Dd}(t)){const e=Qh(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var is=B(4671),gt=B(4004);const{isArray:ws}=Array;function Vo(n){return(0,gt.U)(t=>function il(n,t){return ws(t)?n(...t):n(t)}(n,t))}function Zs(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var ni=B(5403),ac=B(9672);function fo(...n){const t=(0,Fn.yG)(n),e=(0,Fn.jO)(n),{args:i,keys:r}=va(n);if(0===i.length)return(0,On.D)([],t);const o=new ti.y(function tu(n,t,e=is.y){return i=>{Jh(t,()=>{const{length:r}=n,o=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)Jh(t,()=>{const p=(0,On.D)(n[h],t);let m=!1;p.subscribe((0,ni.x)(i,v=>{o[h]=v,m||(m=!0,u--),u||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>Zs(r,a):is.y));return e?o.pipe(Vo(e)):o}function Jh(n,t,e){n?(0,ac.f)(e,n,t):t()}var po=B(576);function qs(n,t){const e=(0,po.m)(n)?n:()=>n,i=r=>r.error(e());return new ti.y(t?r=>t.schedule(i,0,r):i)}const ba=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var rl=B(8189);function js(...n){return function sl(){return(0,rl.J)(1)}()((0,On.D)(n,(0,Fn.yG)(n)))}var Cs=B(8421);function nu(n){return new ti.y(t=>{(0,Cs.Xf)(n()).subscribe(t)})}var zs=B(515),Es=B(727),$n=B(4482);function iu(){return(0,$n.e)((n,t)=>{let e=null;n._refCount++;const i=(0,ni.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class wa extends ti.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,$n.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Es.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ni.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Es.w0.EMPTY)}return t}refCount(){return iu()(this)}}function Wn(n,t){return(0,$n.e)((e,i)=>{let r=null,o=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe((0,ni.x)(i,h=>{r?.unsubscribe();let p=0;const m=o++;(0,Cs.Xf)(n(h,m)).subscribe(r=(0,ni.x)(i,v=>i.next(t?t(h,v,m,p++):v),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var Qn=B(5698);function jr(...n){const t=(0,Fn.yG)(n);return(0,$n.e)((e,i)=>{(t?js(n,e,t):js(n,e)).subscribe(i)})}function Xh(n,t,e,i,r){return(o,a)=>{let u=e,h=t,p=0;o.subscribe((0,ni.x)(a,m=>{const v=p++;h=u?n(h,m,v):(u=!0,m),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function As(n,t){return(0,$n.e)(Xh(n,t,arguments.length>=2,!0))}function ci(n,t){return(0,$n.e)((e,i)=>{let r=0;e.subscribe((0,ni.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Ho(n){return(0,$n.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,ni.x)(e,void 0,void 0,a=>{o=(0,Cs.Xf)(n(a,Ho(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}var Zt=B(5577);function Ca(n,t){return(0,po.m)(t)?(0,Zt.z)(n,t,1):(0,Zt.z)(n,1)}function ef(n){return n<=0?()=>zs.E:(0,$n.e)((t,e)=>{let i=[];t.subscribe((0,ni.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function og(n=tf){return(0,$n.e)((t,e)=>{let i=!1;t.subscribe((0,ni.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function tf(){return new ba}function nf(n){return(0,$n.e)((t,e)=>{let i=!1;t.subscribe((0,ni.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ea(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ci((r,o)=>n(r,o,i)):is.y,(0,Qn.q)(1),e?nf(t):og(()=>new ba))}var Vn=B(8505);function Md(n){return(0,gt.U)(()=>n)}function ol(n){return(0,$n.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class An{constructor(t,e){this.id=t,this.url=e}}class go extends An{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gs extends An{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pd extends An{constructor(t,e,i){super(t,e),this.reason=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rd extends An{constructor(t,e,i){super(t,e),this.error=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gi extends An{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends An{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends An{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class al extends An{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aa extends An{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ll{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ag{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class O_{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N0{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class af{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class lf{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gr(n){return new lf(n)}const cl="ngNavigationCancelingError";function mo(n){const t=Error("NavigationCancelingError: "+n);return t[cl]=!0,t}function cf(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],u=n[o];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function rs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!au(n[r],t[r]))return!1;return!0}function au(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function ul(n){return Array.prototype.concat.apply([],n)}function S(n){return n.length>0?n[n.length-1]:null}function N(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Z(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,On.D)(Promise.resolve(n)):yt(n)}const be={exact:function Ht(n,t,e){if(!$s(n.segments,t.segments)||!Fi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ht(n.children[i],t.children[i],e))return!1;return!0},subset:ft},qe={exact:function Dt(n,t){return rs(n,t)},subset:function Kt(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>au(n[e],t[e]))},ignored:()=>!0};function it(n,t,e){return be[e.paths](n.root,t.root,e.matrixParams)&&qe[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ft(n,t,e){return Ei(n,t,t.segments,e)}function Ei(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!$s(r,e)||t.hasChildren()||!Fi(r,e,i))}if(n.segments.length===e.length){if(!$s(n.segments,e)||!Fi(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ft(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!($s(n.segments,r)&&Fi(n.segments,r,i)&&n.children[Vt])&&Ei(n.children[Vt],t,o,i)}}function Fi(n,t,e){return t.every((i,r)=>qe[e](n[r].parameters,i.parameters))}class Nr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return Ta.serialize(this)}}class qt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,N(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lu(this)}}class ss{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gr(this.parameters)),this._parameterMap}toString(){return du(this)}}function $s(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class $r{}class qo{parse(t){const e=new pf(t);return new Nr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${cu(t.root,!0)}`,i=function NA(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${cc(e)}=${cc(r)}`).join("&"):`${cc(e)}=${cc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function uf(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ta=new qo;function lu(n){return n.segments.map(t=>du(t)).join("/")}function cu(n,t){if(!n.hasChildren())return lu(n);if(t){const e=n.children[Vt]?cu(n.children[Vt],!1):"",i=[];return N(n.children,(r,o)=>{o!==Vt&&i.push(`${o}:${cu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Zo(n,t){let e=[];return N(n.children,(i,r)=>{r===Vt&&(e=e.concat(t(i,r)))}),N(n.children,(i,r)=>{r!==Vt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Vt?[cu(n.children[Vt],!1)]:[`${r}:${cu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${lu(n)}/${e[0]}`:`${lu(n)}/(${e.join("//")})`}}function uu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cc(n){return uu(n).replace(/%3B/gi,";")}function ug(n){return uu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function df(n){return decodeURIComponent(n)}function dl(n){return df(n.replace(/\+/g,"%20"))}function du(n){return`${ug(n.path)}${function hf(n){return Object.keys(n).map(t=>`;${ug(t)}=${ug(n[t])}`).join("")}(n.parameters)}`}const F_=/^[^\/()?;=#]+/;function ff(n){const t=n.match(F_);return t?t[0]:""}const kA=/^[^=?&#]+/,O0=/^[^&#]+/;class pf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Vt]=new qt(t,e)),i}parseSegment(){const t=ff(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ss(df(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ff(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ff(this.remaining);r&&(i=r,this.capture(i))}t[df(e)]=df(i)}parseQueryParam(t){const e=function k0(n){const t=n.match(kA);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function F0(n){const t=n.match(O0);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=dl(e),o=dl(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ff(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Vt);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[Vt]:new qt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Nd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=dg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=dg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gf(t,this._root).map(e=>e.value)}}function dg(n,t){if(n===t.value)return t;for(const e of t.children){const i=dg(n,e);if(i)return i}return null}function gf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gf(n,e);if(i.length)return i.unshift(t),i}return[]}class hl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class L0 extends Nd{constructor(t,e){super(t),this.snapshot=e,dc(this,t)}toString(){return this.snapshot.toString()}}function hu(n,t){const e=function hg(n,t){const a=new kd([],{},{},"",{},Vt,t,null,n.root,-1,{});return new Od("",new hl(a,[]))}(n,t),i=new Oi([new ss("",{})]),r=new Oi({}),o=new Oi({}),a=new Oi({}),u=new Oi(""),h=new vr(i,r,a,u,o,Vt,t,e.root);return h.snapshot=e.root,new L0(new hl(h,[]),e)}class vr{constructor(t,e,i,r,o,a,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(t=>Gr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(t=>Gr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function L_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function U0(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class kd{constructor(t,e,i,r,o,a,u,h,p,m,v,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=m,this._correctedLastPathIndex=A??m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Od extends Nd{constructor(t,e){super(e),this.url=t,dc(this,e)}toString(){return fg(this._root)}}function dc(n,t){t.value._routerState=n,t.children.forEach(e=>dc(n,e))}function fg(n){const t=n.children.length>0?` { ${n.children.map(fg).join(", ")} } `:"";return`${n.value}${t}`}function Fd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,rs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),rs(t.params,e.params)||n.params.next(e.params),function ou(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!rs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),rs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mf(n,t){const e=rs(n.params,t.params)&&function cg(n,t){return $s(n,t)&&n.every((e,i)=>rs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||mf(n.parent,t.parent))}function Ld(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function U_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ld(n,i,r);return Ld(n,i)})}(n,t,e);return new hl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>Ld(n,u)),a}}const i=function B_(n){return new vr(new Oi(n.url),new Oi(n.params),new Oi(n.queryParams),new Oi(n.fragment),new Oi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ld(n,o));return new hl(i,r)}}function _f(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ts(n){return"object"==typeof n&&null!=n&&n.outlets}function fl(n,t,e,i,r){let o={};if(i&&N(i,(u,h)=>{o[h]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),n===t)return new Nr(e,o,r);const a=C(n,t,e);return new Nr(a,o,r)}function C(n,t,e){const i={};return N(n.children,(r,o)=>{i[o]=r===t?e:C(r,t,e)}),new qt(n.segments,i)}class y{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_f(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Ts);if(r&&r!==S(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class T{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Fe(n,t,e){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return dt(n,t,e);const i=function Mt(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],u=e[i];if(Ts(u))break;const h=`${u}`,p=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!xs(h,p,a))return o;i+=2}else{if(!xs(h,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new qt(n.segments.slice(0,i.pathIndex),{});return o.children[Vt]=new qt(n.segments.slice(i.pathIndex),n.children),dt(o,0,r)}return i.match&&0===r.length?new qt(n.segments,{}):i.match&&!n.hasChildren()?Jt(n,t,e):i.match?dt(n,0,r):Jt(n,t,e)}function dt(n,t,e){if(0===e.length)return new qt(n.segments,{});{const i=function ae(n){return Ts(n[0])?n[0].outlets:{[Vt]:n}}(e),r={};return N(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=Fe(n.children[a],t,o))}),N(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new qt(n.segments,r)}}function Jt(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Ts(o)){const h=_i(o.outlets);return new qt(i,h)}if(0===r&&_f(e[0])){i.push(new ss(n.segments[t].path,_o(e[0]))),r++;continue}const a=Ts(o)?o.outlets[Vt]:`${o}`,u=r<e.length-1?e[r+1]:null;a&&u&&_f(u)?(i.push(new ss(a,_o(u))),r+=2):(i.push(new ss(a,{})),r++)}return new qt(i,{})}function _i(n){const t={};return N(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Jt(new qt([],{}),0,e))}),t}function _o(n){const t={};return N(n,(e,i)=>t[i]=`${e}`),t}function xs(n,t,e){return n==e.path&&rs(t,e.parameters)}class Ud{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ud,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let jo=(()=>{class n{constructor(e,i,r,o,a){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||Vt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new pg(e,u,r.injector);if(i&&function gg(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(a);this.activated=r.createComponent(p,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wr),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class pg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===vr?this.route:t===Wr?this.childContexts:this.parent.get(t,e)}}let Bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[jo],encapsulation:2}),n})();function V_(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function H0(n){const t=n.children&&n.children.map(H0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Vt&&(e.component=Bd),e}function zo(n){return n.outlet||Vt}function UA(n,t){const e=n.filter(i=>zo(i)===t);return e.push(...n.filter(i=>zo(i)!==t)),e}function BA(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Z_{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Fd(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=uc(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),N(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=uc(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=uc(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=uc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new af(o.value.snapshot))}),t.children.length&&this.forwardEvent(new N0(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Fd(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),Fd(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=BA(r.snapshot),h=u?.get(s._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}function fc(n){return"function"==typeof n}function Vd(n){return n instanceof Nr}const yf=Symbol("INITIAL_VALUE");function _g(){return Wn(n=>fo(n.map(t=>t.pipe((0,Qn.q)(1),jr(yf)))).pipe(As((t,e)=>{let i=!1;return e.reduce((r,o,a)=>r!==yf?r:(o===yf&&(i=!0),i||!1!==o&&a!==e.length-1&&!Vd(o)?r:o),t)},yf),ci(t=>t!==yf),(0,gt.U)(t=>Vd(t)?t:!0===t),(0,Qn.q)(1)))}const HA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q_(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...HA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||cf)(e,n,t);if(!r)return{...HA};const o={};N(r.posParams,(u,h)=>{o[h]=u.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function j_(n,t,e,i,r="corrected"){if(e.length>0&&function aF(n,t,e){return e.some(i=>vf(n,t,i)&&zo(i)!==Vt)}(n,e,i)){const a=new qt(t,function oF(n,t,e,i){const r={};r[Vt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&zo(o)!==Vt){const a=new qt([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[zo(o)]=a}return r}(n,t,i,new qt(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function yg(n,t,e){return e.some(i=>vf(n,t,i))}(n,e,i)){const a=new qt(n.segments,function KD(n,t,e,i,r,o){const a={};for(const u of i)if(vf(n,e,u)&&!r[zo(u)]){const h=new qt([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===o?n.segments.length:t.length,a[zo(u)]=h}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const o=new qt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function vf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ZA(n,t,e,i){return!!(zo(n)===i||i!==Vt&&vf(t,e,n))&&("**"===n.path||q_(t,n,e).matched)}function z_(n,t,e){return 0===t.length&&!n.children[e]}class fu{constructor(t){this.segmentGroup=t||null}}class qA{constructor(t){this.urlTree=t}}function vg(n){return qs(new fu(n))}function jA(n){return qs(new qA(n))}class XD{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=j_(this.urlTree.root,[],[],this.config).segmentGroup,e=new qt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Vt).pipe((0,gt.U)(o=>this.createUrlTree(bg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ho(o=>{if(o instanceof qA)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof fu?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Vt).pipe((0,gt.U)(r=>this.createUrlTree(bg(r),t.queryParams,t.fragment))).pipe(Ho(r=>{throw r instanceof fu?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new qt([],{[Vt]:t}):t;return new Nr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,gt.U)(o=>new qt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,On.D)(r).pipe(Ca(o=>{const a=i.children[o],u=UA(e,o);return this.expandSegmentGroup(t,u,a,o).pipe((0,gt.U)(h=>({segment:h,outlet:o})))}),As((o,a)=>(o[a.outlet]=a.segment,o),{}),function rf(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ci((r,o)=>n(r,o,i)):is.y,ef(1),e?nf(t):og(()=>new ba))}())}expandSegment(t,e,i,r,o,a){return(0,On.D)(i).pipe(Ca(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,a).pipe(Ho(p=>{if(p instanceof fu)return yt(null);throw p}))),Ea(u=>!!u),Ho((u,h)=>{if(u instanceof ba||"EmptyError"===u.name)return z_(e,r,o)?yt(new qt([],{})):vg(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,a,u){return ZA(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):vg(e):vg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?jA(o):this.lineralizeSegments(i,o).pipe((0,Zt.z)(a=>{const u=new qt(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:u,consumedSegments:h,remainingSegments:p,positionalParamSegments:m}=q_(e,r,o);if(!u)return vg(e);const v=this.applyRedirectCommands(h,r.redirectTo,m);return r.redirectTo.startsWith("/")?jA(v):this.lineralizeSegments(r,v).pipe((0,Zt.z)(A=>this.expandSegment(t,e,i,A.concat(p),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return t=V_(i,t),i.loadChildren?(i._loadedRoutes?yt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,gt.U)(v=>(i._loadedRoutes=v.routes,i._loadedInjector=v.injector,new qt(r,{})))):yt(new qt(r,{}));const{matched:a,consumedSegments:u,remainingSegments:h}=q_(e,i,r);return a?(t=V_(i,t),this.getChildConfig(t,i,r).pipe((0,Zt.z)(m=>{const v=m.injector??t,A=m.routes,{segmentGroup:I,slicedSegments:M}=j_(e,u,h,A),R=new qt(I.segments,I.children);if(0===M.length&&R.hasChildren())return this.expandChildren(v,A,R).pipe((0,gt.U)(he=>new qt(u,he)));if(0===A.length&&0===M.length)return yt(new qt(u,{}));const L=zo(i)===o;return this.expandSegment(v,R,A,M,L?Vt:o,!0).pipe((0,gt.U)(X=>new qt(u.concat(X.segments),X.children)))}))):vg(e)}getChildConfig(t,e,i){return e.children?yt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?yt({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(t,e,i).pipe((0,Zt.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Vn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function QD(n){return qs(mo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):yt({routes:[],injector:t})}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?yt(r.map(a=>{const u=t.get(a);let h;if(function nr(n){return n&&fc(n.canLoad)}(u))h=u.canLoad(e,i);else{if(!fc(u))throw new Error("Invalid CanLoad guard");h=u(e,i)}return Z(h)})).pipe(_g(),(0,Vn.b)(a=>{if(!Vd(a))return;const u=mo(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw u.url=a,u}),(0,gt.U)(a=>!0===a)):yt(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return yt(i);if(r.numberOfChildren>1||!r.children[Vt])return qs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Vt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Nr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return N(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return N(e.children,(u,h)=>{a[h]=this.createSegmentGroup(t,u,i,r)}),new qt(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function bg(n){const t={};for(const i of Object.keys(n.children)){const o=bg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function eM(n){if(1===n.numberOfChildren&&n.children[Vt]){const t=n.children[Vt];return new qt(n.segments.concat(t.segments),t.children)}return n}(new qt(n.segments,t))}class GA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class G_{constructor(t,e){this.component=t,this.route=e}}function $A(n,t,e){const i=n._root;return br(i,t?t._root:null,e,[i.value])}function $_(n,t,e){return(BA(t)??e).get(n)}function br(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=uc(t);return n.children.forEach(a=>{(function j0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function WA(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$s(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$s(n.url,t.url)||!rs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mf(n,t)||!rs(n.queryParams,t.queryParams);default:return!mf(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new GA(i)):(o.data=a.data,o._resolvedData=a._resolvedData),br(n,t,o.component?u?u.children:null:e,i,r),h&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new G_(u.outlet.component,a))}else a&&Hd(t,u,r),r.canActivateChecks.push(new GA(i)),br(n,null,o.component?u?u.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),N(o,(a,u)=>Hd(a,e.getContext(u),r)),r}function Hd(n,t,e){const i=uc(n),r=n.value;N(i,(o,a)=>{Hd(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new G_(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class JA{}function XA(n){return new ti.y(t=>t.error(n))}class aM{constructor(t,e,i,r,o,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}recognize(){const t=j_(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Vt);if(null===e)return null;const i=new kd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hl(i,e),o=new Od(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=L_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const a=e.children[o],u=UA(t,o),h=this.processSegmentGroup(u,a,o);if(null===h)return null;i.push(...h)}const r=Zd(i);return function lM(n){n.sort((t,e)=>t.value.outlet===Vt?-1:e.value.outlet===Vt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const a=this.processSegmentAgainstRoute(o,e,i,r);if(null!==a)return a}return z_(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!ZA(t,e,i,r))return null;let o,a=[],u=[];if("**"===t.path){const I=i.length>0?S(i).parameters:{},M=dM(e)+i.length;o=new kd(i,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G0(t),zo(t),t.component??t._loadedComponent??null,t,e1(e),M,fM(t),M)}else{const I=q_(e,t,i);if(!I.matched)return null;a=I.consumedSegments,u=I.remainingSegments;const M=dM(e)+a.length;o=new kd(a,I.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G0(t),zo(t),t.component??t._loadedComponent??null,t,e1(e),M,fM(t),M)}const h=function cM(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:p,slicedSegments:m}=j_(e,a,u,h.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===m.length&&p.hasChildren()){const I=this.processChildren(h,p);return null===I?null:[new hl(o,I)]}if(0===h.length&&0===m.length)return[new hl(o,[])];const v=zo(t)===r,A=this.processSegment(h,p,m,v?Vt:r);return null===A?null:[new hl(o,A)]}}function uM(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Zd(n){const t=[],e=new Set;for(const i of n){if(!uM(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Zd(i.children);t.push(new hl(i.value,r))}return t.filter(i=>!e.has(i))}function e1(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dM(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function G0(n){return n.data||{}}function fM(n){return n.resolve||{}}const Cg=Symbol("RouteTitle");function W0(n){return"string"==typeof n.title||null===n.title}function Ag(n){return Wn(t=>{const e=n(t);return e?(0,On.D)(e).pipe((0,gt.U)(()=>t)):yt(t)})}class lF extends class r1{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Tg=new s.OlP("ROUTES");let W_=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return yt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Z(e.loadComponent()).pipe((0,Vn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ol(()=>{this.componentLoaders.delete(e)})),r=new wa(i,()=>new Bt.x).pipe(iu());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return yt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,gt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,p,m=!1;Array.isArray(u)?p=u:(h=u.create(e).injector,p=ul(h.get(Tg,[],s.XFs.Self|s.XFs.Optional)));return{routes:p.map(H0),injector:h}}),ol(()=>{this.childrenLoaders.delete(i)})),a=new wa(o,()=>new Bt.x).pipe(iu());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Z(e()).pipe((0,Zt.z)(i=>i instanceof s.YKP||Array.isArray(i)?yt(i):(0,On.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class K0{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _M(n){throw n}function yM(n,t,e){return t.parse("/")}const vM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class n{constructor(e,i,r,o,a,u,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bt.x,this.errorHandler=_M,this.malformedUriErrorHandler=yM,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>yt(void 0),this.urlHandlingStrategy=new K0,this.routeReuseStrategy=new lF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(W_),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new ag(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new ll(A)),this.ngModule=a.get(s.h0i),this.console=a.get(s.c2e);const v=a.get(s.R0b);this.isNgZoneEnabled=v instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function te(){return new Nr(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hu(this.currentUrlTree,this.rootComponentType),this.transitions=new Oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ci(r=>0!==r.id),(0,gt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Wn(r=>{let o=!1,a=!1;return yt(r).pipe((0,Vn.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wn(u=>{const h=this.browserUrlTree.toString(),p=!this.navigated||u.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y_(u.source)&&(this.browserUrlTree=u.extractedUrl),yt(u).pipe(Wn(v=>{const A=this.transitions.getValue();return i.next(new go(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),A!==this.transitions.getValue()?zs.E:Promise.resolve(v)}),function tM(n,t,e,i){return Wn(r=>function JD(n,t,e,i,r){return new XD(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,gt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Vn.b)(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects}}),function pl(n,t,e,i,r){return(0,Zt.z)(o=>function oM(n,t,e,i,r="emptyOnly",o="legacy"){try{const a=new aM(n,t,e,i,r,o).recognize();return null===a?XA(new JA):yt(a)}catch(a){return XA(a)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,gt.U)(a=>({...o,targetSnapshot:a}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Vn.b)(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(I,v)}this.browserUrlTree=v.urlAfterRedirects}const A=new gi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.next(A)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:M,restoredState:R,extras:L}=u,q=new go(A,this.serializeUrl(I),M,R);i.next(q);const X=hu(I,this.rootComponentType).snapshot;return yt({...u,targetSnapshot:X,urlAfterRedirects:I,extras:{...L,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),zs.E}),(0,Vn.b)(u=>{const h=new zr(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,gt.U)(u=>({...u,guards:$A(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function os(n,t){return(0,Zt.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?yt({...e,guardsResult:!0}):function wg(n,t,e,i){return(0,On.D)(n).pipe((0,Zt.z)(r=>function KA(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?yt(o.map(u=>{const h=$_(u,t,r);let p;if(function q0(n){return n&&fc(n.canDeactivate)}(h))p=Z(h.canDeactivate(n,t,e,i));else{if(!fc(h))throw new Error("Invalid CanDeactivate guard");p=Z(h(n,t,e,i))}return p.pipe(Ea())})).pipe(_g()):yt(!0)}(r.component,r.route,e,t,i)),Ea(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Zt.z)(u=>u&&function Z0(n){return"boolean"==typeof n}(u)?function z0(n,t,e,i){return(0,On.D)(t).pipe(Ca(r=>js(function rM(n,t){return null!==n&&t&&t(new O_(n)),yt(!0)}(r.route.parent,i),function iM(n,t){return null!==n&&t&&t(new sf(n)),yt(!0)}(r.route,i),function sM(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function nM(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>nu(()=>yt(a.guards.map(h=>{const p=$_(h,a.node,e);let m;if(function YD(n){return n&&fc(n.canActivateChild)}(p))m=Z(p.canActivateChild(i,n));else{if(!fc(p))throw new Error("Invalid CanActivateChild guard");m=Z(p(i,n))}return m.pipe(Ea())})).pipe(_g())));return yt(o).pipe(_g())}(n,r.path,e),function YA(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return yt(!0);const r=i.map(o=>nu(()=>{const a=$_(o,t,e);let u;if(function WD(n){return n&&fc(n.canActivate)}(a))u=Z(a.canActivate(t,n));else{if(!fc(a))throw new Error("Invalid CanActivate guard");u=Z(a(t,n))}return u.pipe(Ea())}));return yt(r).pipe(_g())}(n,r.route,e))),Ea(r=>!0!==r,!0))}(i,o,n,t):yt(u)),(0,gt.U)(u=>({...e,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Vn.b)(u=>{if(Vd(u.guardsResult)){const p=mo(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw p.url=u.guardsResult,p}const h=new ru(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(h)}),ci(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),Ag(u=>{if(u.guards.canActivateChecks.length)return yt(u).pipe((0,Vn.b)(h=>{const p=new al(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),Wn(h=>{let p=!1;return yt(h).pipe(function $0(n,t){return(0,Zt.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return yt(e);let o=0;return(0,On.D)(r).pipe(Ca(a=>function pM(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!W0(r)&&(o[Cg]=r.title),function t1(n,t,e,i){const r=function Eg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return yt({});const o={};return(0,On.D)(r).pipe((0,Zt.z)(a=>function n1(n,t,e,i){const r=$_(n,t,i);return Z(r.resolve?r.resolve(t,e):r(t,e))}(n[a],t,e,i).pipe(Ea(),(0,Vn.b)(u=>{o[a]=u}))),ef(1),Md(o),Ho(a=>a instanceof ba?zs.E:qs(a)))}(o,n,t,i).pipe((0,gt.U)(a=>(n._resolvedData=a,n.data=L_(n,e).resolve,r&&W0(r)&&(n.data[Cg]=r.title),null)))}(a.route,i,n,t)),(0,Vn.b)(()=>o++),ef(1),(0,Zt.z)(a=>o===r.length?yt(e):zs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Vn.b)({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),(0,Vn.b)(h=>{const p=new Aa(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),Ag(()=>this.afterPreactivation()),Ag(u=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Vn.b)(v=>{p.component=v}),(0,gt.U)(()=>{})));for(const v of p.children)m.push(...h(v));return m};return fo(h(u.targetSnapshot.root)).pipe(nf(),(0,Qn.q)(1))}),(0,gt.U)(u=>{const h=function xa(n,t,e){const i=Ld(n,t._root,e?e._root:void 0);return new L0(i,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return{...u,targetRouterState:h}}),(0,Vn.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,gt.U)(i=>(new Z_(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Vn.b)({next(){o=!0},complete(){o=!0}}),ol(()=>{o||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ho(u=>{if(a=!0,function lg(n){return n&&n[cl]}(u)){const h=Vd(u.url);h||(this.navigated=!0,this.restoreHistory(r,!0));const p=new Pd(r.id,this.serializeUrl(r.extractedUrl),u.message);if(i.next(p),h){const m=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Y_(r.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new Rd(r.id,this.serializeUrl(r.extractedUrl),u);i.next(h);try{r.resolve(this.errorHandler(u))}catch(p){r.reject(p)}}return zs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(H0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:h}=i,p=r||this.routerState.root,m=h?this.currentUrlTree.fragment:a;let v=null;switch(u){case"merge":v={...this.currentUrlTree.queryParams,...o};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}return null!==v&&(v=this.removeEmptyProps(v)),function B0(n,t,e,i,r){if(0===e.length)return fl(t.root,t.root,t.root,i,r);const o=function b(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new y(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return N(o.outlets,(h,p)=>{u[p]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new y(e,t,i)}(e);return o.toRoot()?fl(t.root,t.root,new qt([],{}),i,r):function a(h){const p=function k(n,t,e,i){return n.isAbsolute?new T(t.root,!0,0):-1===i?new T(e,e===t.root,0):function V(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new T(i,!1,r-o)}(e,i+(_f(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,h),m=p.processChildren?dt(p.segmentGroup,p.index,o.commands):Fe(p.segmentGroup,p.index,o.commands);return fl(t.root,p.segmentGroup,m,i,r)}(n.snapshot?._lastPathIndex)}(p,this.currentUrlTree,e,v,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Vd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function s1(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...vM}:!1===i?{...bM}:i,Vd(e))return it(this.currentUrlTree,e,r);const o=this.parseUrl(e);return it(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Gs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let u,h,p;a?(u=a.resolve,h=a.reject,p=a.promise):p=new Promise((A,I)=>{u=A,h=I});const m=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),v=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):v=0,this.setTransition({id:m,targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:u,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Pd(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Y_(n){return"imperative"!==n}let K_=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.commands=null,this.onChanges=new Bt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hn),s.Y36(vr),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),bf=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Bt.x,this.subscription=e.events.subscribe(o=>{o instanceof Gs&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,a){if(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hn),s.Y36(vr),s.Y36(Ee))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),o1=(()=>{class n{constructor(e,i,r,o,a,u){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=a,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof Gs&&this.update()})}ngAfterContentInit(){yt(this.links.changes,this.linksWithHrefs.changes,yt(null)).pipe((0,rl.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,On.D)(e).pipe((0,rl.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function wM(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hn),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(K_,8),s.Y36(bf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,K_,5),s.Suo(r,bf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class Q0{buildTitle(t){let e,i=t.root;for(;void 0!==i;)e=this.getResolvedTitleForRoute(i)??e,i=i.children.find(r=>r.outlet===Vt);return e}getResolvedTitleForRoute(t){return t.data[Cg]}}let a1=(()=>{class n extends Q0{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gu{}let l1=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ci(e=>e instanceof Gs),Ca(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,u=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,On.D)(r).pipe((0,rl.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):yt(null);const o=r.pipe((0,Zt.z)(a=>null===a?yt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,On.D)([o,a]).pipe((0,rl.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hn),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(gu),s.LFG(W_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const J0=new s.OlP("");let Q_=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof go?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Gs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mi&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new mi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const J_=new s.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),X0=new s.OlP("ROUTER_FORROOT_GUARD"),X_=new s.OlP(""),c1=[Ve,{provide:$r,useClass:qo},{provide:Hn,useFactory:function TM(n,t,e,i,r,o,a={},u,h,p,m){const v=new Hn(null,n,t,e,i,r,ul(o));return p&&(v.urlHandlingStrategy=p),m&&(v.routeReuseStrategy=m),v.titleStrategy=h??u,function h1(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,v),v},deps:[$r,Wr,Ve,s.zs3,s.Sil,Tg,J_,a1,[Q0,new s.FiY],[class gM{},new s.FiY],[class Y0{},new s.FiY]]},Wr,{provide:vr,useFactory:function xM(n){return n.routerState.root},deps:[Hn]},W_];function ey(){return new s.PXZ("Router",Hn)}let wf=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[c1,[],Cf(e),{provide:X0,useFactory:tb,deps:[[Hn,new s.FiY,new s.tp0]]},{provide:J_,useValue:i||{}},i?.useHash?{provide:Ee,useClass:Be}:{provide:Ee,useClass:et},{provide:J0,useFactory:()=>{const n=(0,s.f3M)(Hn),t=(0,s.f3M)(Xp),e=(0,s.f3M)(J_);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Q_(n,t,e)}},i?.preloadingStrategy?MM(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:ey},i?.initialNavigation?ib(i):[],[{provide:nb,useFactory:IM},{provide:s.tb,multi:!0,useExisting:nb}]]}}static forChild(e){return{ngModule:n,providers:[Cf(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X0,8),s.LFG(Hn,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function tb(n){return"guarded"}function Cf(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Tg,multi:!0,useValue:n}]}function IM(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Hn),r=n.get(SM);null===n.get(rb,null,s.XFs.Optional)&&i.initialNavigation(),n.get(X_,null,s.XFs.Optional)?.setUpPreloading(),n.get(J0,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const nb=new s.OlP("");function ib(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(Hn);return()=>{n.setUpLocationChangeListener()}}},{provide:rb,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:rb,useValue:"enabledBlocking"},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(Q,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(i=>{const r=n.get(Hn),o=n.get(SM);r.afterPreactivation=()=>e?yt(void 0):(e=!0,i(!0),o),r.initialNavigation()}))}}]:[]]}const SM=new s.OlP("",{factory:()=>new Bt.x}),rb=new s.OlP("");function MM(n){return[l1,{provide:X_,useExisting:l1},{provide:gu,useExisting:n}]}var Ie=B(5861),Go=B(6451),ty=B(5363),PM=B(6063);class RM extends Bt.x{constructor(t=1/0,e=1/0,i=PM.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=e.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}var sb=B(3099);function ob(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,sb.B)({connector:()=>new RM(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function m1(n,t){return(0,po.m)(t)?Wn(()=>n,t):Wn(()=>n)}var ab=B(9468),Wt=B(5813),At=B(2011),gc=B(5867);class jd{constructor(t){return t}}class ny{constructor(){return(0,gc.C6)()}}const iy=new s.OlP("angularfire2._apps"),kM={provide:jd,useFactory:function NM(n){return n&&1===n.length?n[0]:new jd((0,gc.Mq)())},deps:[[new s.FiY,iy]]},_1={provide:ny,deps:[[new s.FiY,iy]]};function OM(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new jd(i)}}let FM=(()=>{class n{constructor(e){(0,gc.KN)("angularfire",Wt.q4.full,"core"),(0,gc.KN)("angularfire",Wt.q4.full,"app"),(0,gc.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[kM,_1]}),n})();function uF(n,...t){return{ngModule:FM,providers:[{provide:iy,useFactory:OM(n),multi:!0,deps:[s.R0b,s.zs3,Wt.HU,...t]}]}}const v1=(0,Wt.u3)(gc.ZF,!0);var Yr=B(9681),yo=B(4859),U=B(2090),$o=B(1877);const mu=new Map,BM={activated:!1,tokenObservers:[]},lb={initialized:!1,enabled:!1};function wr(n){return mu.get(n)||BM}function vo(n,t){mu.set(n,t)}function zd(){return lb}class VM{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ie.Z)(function*(){e.stop();try{e.pending=new U.BH,yield function HM(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new U.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const lr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function C1(n){if(!wr(n).activated)throw lr.create("use-before-activation",{appName:n.name})}function xg(n,t){return oy.apply(this,arguments)}function oy(){return(oy=(0,Ie.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const I=yield a.getHeartbeatsHeader();I&&(o["X-Firebase-Client"]=I)}const u={method:"POST",body:JSON.stringify(t),headers:o};let h,p;try{h=yield fetch(n,u)}catch(I){throw lr.create("fetch-network-error",{originalErrorMessage:null===(i=I)||void 0===i?void 0:i.message})}if(200!==h.status)throw lr.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(I){throw lr.create("fetch-parse-error",{originalErrorMessage:null===(r=I)||void 0===r?void 0:r.message})}const m=p.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const v=1e3*Number(m[1]),A=Date.now();return{token:p.token,expireTimeMillis:A+v,issuedAtTimeMillis:A}})).apply(this,arguments)}function ZM(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Ig="firebase-app-check-store";let _b=null;function jM(){return _b||(_b=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(lr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ig,{keyPath:"compositeKey"})}}catch(i){t(lr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),_b)}function yb(){return(yb=(0,Ie.Z)(function*(n,t){const i=(yield jM()).transaction(Ig,"readwrite"),o=i.objectStore(Ig).put({compositeKey:n,value:t});return new Promise((a,u)=>{o.onsuccess=h=>{a()},i.onerror=h=>{var p;u(lr.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const Tf=new $o.Yd("@firebase/app-check");function x1(n,t){return(0,U.hl)()?function A1(n,t){return function Gd(n,t){return yb.apply(this,arguments)}(function T1(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Tf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Cb(){return zd().enabled}function I1(){return ay.apply(this,arguments)}function ay(){return(ay=(0,Ie.Z)(function*(){const n=zd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Eb={error:"UNKNOWN_ERROR"};function fF(n){return U.US.encodeString(JSON.stringify(n),!1)}function xf(n){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,Ie.Z)(function*(n,t=!1){const e=n.app;C1(e);const i=wr(e);let o,r=i.token;if(!r){const h=yield i.cachedTokenPromise;h&&If(h)&&(r=h)}if(!t&&r&&If(r))return{token:r.token};let u,a=!1;if(Cb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=xg(ZM(e,yield I1()),n.heartbeatServiceProvider).then(p=>(i.exchangeTokenPromise=void 0,p)),a=!0);const h=yield i.exchangeTokenPromise;return yield x1(e,h),vo(e,Object.assign(Object.assign({},i),{token:h})),{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(h=>(i.exchangeTokenPromise=void 0,h)),a=!0),r=yield i.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?Tf.warn(h.message):Tf.error(h),o=h}return r?(u={token:r.token},vo(e,Object.assign(Object.assign({},i),{token:r})),yield x1(e,r)):u=pF(o),a&&M1(e,u),u})).apply(this,arguments)}function _u(n,t){const e=wr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),vo(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Tb(n){const{app:t}=n,e=wr(t);let i=e.tokenRefresher;i||(i=function YM(n){const{app:t}=n;return new VM((0,Ie.Z)(function*(){let i;if(i=wr(t).token?yield xf(n,!0):yield xf(n),i.error)throw i.error}),()=>!0,()=>{const e=wr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),vo(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function M1(n,t){const e=wr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function If(n){return n.expireTimeMillis-Date.now()>0}function pF(n){return{token:fF(Eb),error:n}}class gF{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)_u(this.app,e.next);return Promise.resolve()}}const hy="app-check-internal";!function Rb(){(0,Yr._registerComponent)(new yo.wA("app-check",n=>function xb(n,t){return new gF(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(hy).initialize()})),(0,Yr._registerComponent)(new yo.wA(hy,n=>function mF(n){return{getToken:t=>xf(n,t),addTokenListener:t=>function D1(n,t,e,i){const{app:r}=n,o=wr(r),a={next:e,error:i,type:t};if(vo(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,a]})),o.token&&If(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),Tb(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Tb(n))}(n,"INTERNAL",t),removeTokenListener:t=>_u(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yr.registerVersion)("@firebase/app-check","0.5.10")}();class $d{constructor(){return(0,Wt.vb)("app-check")}}typeof window<"u"&&window;var L1=B(127);const U1=new s.OlP("angularfire2.auth.use-emulator"),B1=new s.OlP("angularfire2.auth.settings"),V1=new s.OlP("angularfire2.auth.tenant-id"),yl=new s.OlP("angularfire2.auth.langugage-code"),Dg=new s.OlP("angularfire2.auth.use-device-language"),Fb=new s.OlP("angularfire.auth.persistence"),fy=(n,t,e,i,r,o,a,u)=>(0,At.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,o&&h.useDeviceLanguage(),a)for(const[p,m]of Object.entries(a))h.settings[p]=m;return u&&h.setPersistence(u),h},[e,i,r,o,a,u]);let vl=(()=>{class n{constructor(e,i,r,o,a,u,h,p,m,v,A,I){const M=new Bt.x,R=yt(void 0).pipe((0,ty.Q)(a.outsideAngular),Wn(()=>o.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,5881)))),(0,gt.U)(()=>(0,At.on)(e,o,i)),(0,gt.U)(L=>fy(L,o,u,p,m,v,h,A)),ob({bufferSize:1,refCount:!1}));if(Gh(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{R.pipe(Ea()).subscribe();const q=R.pipe(Wn(ne=>ne.getRedirectResult().then(de=>de,()=>null)),Wt.iC,ob({bufferSize:1,refCount:!1})),X=R.pipe(Wn(ne=>new ti.y(de=>({unsubscribe:o.runOutsideAngular(()=>ne.onAuthStateChanged(ke=>de.next(ke),ke=>de.error(ke),()=>de.complete()))})))),he=R.pipe(Wn(ne=>new ti.y(de=>({unsubscribe:o.runOutsideAngular(()=>ne.onIdTokenChanged(ke=>de.next(ke),ke=>de.error(ke),()=>de.complete()))}))));this.authState=q.pipe(m1(X),(0,ab.R)(a.outsideAngular),(0,ty.Q)(a.insideAngular)),this.user=q.pipe(m1(he),(0,ab.R)(a.outsideAngular),(0,ty.Q)(a.insideAngular)),this.idToken=this.user.pipe(Wn(ne=>ne?(0,On.D)(ne.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(Wn(ne=>ne?(0,On.D)(ne.getIdTokenResult()):yt(null))),this.credential=(0,Go.T)(q,M,this.authState.pipe(ci(ne=>!ne))).pipe((0,gt.U)(ne=>ne?.user?ne:null),(0,ab.R)(a.outsideAngular),(0,ty.Q)(a.insideAngular))}return(0,At.pX)(this,R,o,{spy:{apply:(L,q,X)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&X.then(he=>M.next(he))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(At.Dh),s.LFG(At.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Wt.HU),s.LFG(U1,8),s.LFG(B1,8),s.LFG(V1,8),s.LFG(yl,8),s.LFG(Dg,8),s.LFG(Fb,8),s.LFG($d,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var mt,Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mc={},py=py||{},Qt=Lb||self;function Df(){}function Ub(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Mf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Bb="closure_uid_"+(1e9*Math.random()>>>0),Mg=0;function Pf(n,t,e){return n.call.apply(n.bind,arguments)}function Vb(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Wi(n,t,e){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pf:Vb).apply(null,arguments)}function yu(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Yi(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function vu(){this.s=this.s,this.o=this.o}var Z1={};vu.prototype.s=!1,vu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function tP(n){return Object.prototype.hasOwnProperty.call(n,Bb)&&n[Bb]||(n[Bb]=++Mg)}(this);delete Z1[n]}},vu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gy=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},my=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function Pg(n){return Array.prototype.concat.apply([],arguments)}function Hb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Rg(n){return/^[\s\xa0]*$/.test(n)}var Is,nP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function as(n,t){return-1!=n.indexOf(t)}function _y(n,t){return n<t?-1:n>t?1:0}e:{var Zb=Qt.navigator;if(Zb){var j1=Zb.userAgent;if(j1){Is=j1;break e}}Is=""}function qb(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Ws(n){const t={};for(const e in n)t[e]=n[e];return t}var z1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G1(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<z1.length;o++)e=z1[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function $1(n){return $1[" "](n),n}$1[" "]=Df;var Ng,n,jb=as(Is,"Opera"),Wd=as(Is,"Trident")||as(Is,"MSIE"),W1=as(Is,"Edge"),zb=W1||Wd,Y1=as(Is,"Gecko")&&!(as(Is.toLowerCase(),"webkit")&&!as(Is,"Edge"))&&!(as(Is,"Trident")||as(Is,"MSIE"))&&!as(Is,"Edge"),K1=as(Is.toLowerCase(),"webkit")&&!as(Is,"Edge");function Q1(){var n=Qt.document;return n?n.documentMode:void 0}e:{var Gb="",$b=(n=Is,Y1?/rv:([^\);]+)(\)|;)/.exec(n):W1?/Edge\/([\d\.]+)/.exec(n):Wd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):K1?/WebKit\/(\S+)/.exec(n):jb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($b&&(Gb=$b?$b[1]:""),Wd){var yy=Q1();if(null!=yy&&yy>parseFloat(Gb)){Ng=String(yy);break e}}Ng=Gb}var J1={};var sP=Qt.document&&Wd&&(Q1()||parseInt(Ng,10))||void 0,oP=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",Df,t),Qt.removeEventListener("test",Df,t)}catch{}return n}();function Ss(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Rf(n,t){if(Ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Y1){e:{try{$1(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:aP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rf.Z.h.call(this)}}Ss.prototype.h=function(){this.defaultPrevented=!0},Yi(Rf,Ss);var aP={2:"touch",3:"pen",4:"mouse"};Rf.prototype.h=function(){Rf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kg="closure_listenable_"+(1e6*Math.random()|0),lP=0;function Wb(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++lP,this.ca=this.fa=!1}function by(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function wy(n){this.src=n,this.g={},this.h=0}function Nf(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=gy(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(by(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Og(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}wy.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=Og(n,t,i,r);return-1<a?(t=n[a],e||(t.fa=!1)):((t=new Wb(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var Yb="closure_lm_"+(1e6*Math.random()|0),Fg={};function Cy(n,t,e,i,r){if(i&&i.once)return cP(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Cy(n,t[o],e,i,r);return null}return e=xy(e),n&&n[kg]?n.N(t,e,Mf(i)?!!i.capture:!!i,r):Kb(n,t,e,!1,i,r)}function Kb(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var a=Mf(r)?!!r.capture:!!r,u=Ay(n);if(u||(n[Yb]=u=new wy(n)),(e=u.add(t,e,i,a,o)).proxy)return e;if(i=function SF(){var t=tT;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)oP||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(eT(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function cP(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)cP(n,t[o],e,i,r);return null}return e=xy(e),n&&n[kg]?n.O(t,e,Mf(i)?!!i.capture:!!i,r):Kb(n,t,e,!0,i,r)}function Ey(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ey(n,t[o],e,i,r);else i=Mf(i)?!!i.capture:!!i,e=xy(e),n&&n[kg]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Og(o=n.g[t],e,i,r))&&(by(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Ay(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Og(t,e,i,r)),(e=-1<n?t[n]:null)&&X1(e))}function X1(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[kg])Nf(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(eT(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ay(t))?(Nf(e,n),0==e.h&&(e.src=null,t[Yb]=null)):by(n)}}}function eT(n){return n in Fg?Fg[n]:Fg[n]="on"+n}function tT(n,t){if(n.ca)n=!0;else{t=new Rf(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&X1(n),n=e.call(i,t)}return n}function Ay(n){return(n=n[Yb])instanceof wy?n:null}var Ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(n){return"function"==typeof n?n:(n[Ty]||(n[Ty]=function(t){return n.handleEvent(t)}),n[Ty])}function Cr(){vu.call(this),this.i=new wy(this),this.P=this,this.I=null}function yi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ss(t,n);else if(t instanceof Ss)t.target=t.target||n;else{var r=t;G1(t=new Ss(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];r=Yd(a,i,!0,t)&&r}if(r=Yd(a=t.g=n,i,!0,t)&&r,r=Yd(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Yd(a=t.g=e[o],i,!1,t)&&r}function Yd(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==e){var u=a.listener,h=a.ia||a.src;a.fa&&Nf(n.i,a),r=!1!==u.call(h,i)&&r}}return r&&!i.defaultPrevented}Yi(Cr,vu),Cr.prototype[kg]=!0,Cr.prototype.removeEventListener=function(n,t,e,i){Ey(this,n,t,e,i)},Cr.prototype.M=function(){if(Cr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)by(e[i]);delete n.g[t],n.h--}}this.I=null},Cr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Cr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Qb=Qt.JSON.stringify;function uP(){var n=rT;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Dy,Iy=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nT,n=>n.reset());class nT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function iT(n){Qt.setTimeout(()=>{throw n},0)}function Sy(n,t){Dy||function dP(){var n=Qt.Promise.resolve(void 0);Dy=function(){n.then(hP)}}(),Jb||(Dy(),Jb=!0),rT.add(n,t)}var Jb=!1,rT=new class DF{constructor(){this.h=this.g=null}add(t,e){const i=Iy.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function hP(){for(var n;n=uP();){try{n.h.call(n.g)}catch(e){iT(e)}var t=Iy;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Jb=!1}function Lg(n,t){Cr.call(this),this.h=n||1,this.g=t||Qt,this.j=Wi(this.kb,this),this.l=Date.now()}function sT(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function My(n,t,e){if("function"==typeof n)e&&(n=Wi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wi(n.handleEvent,n)}return 2147483647<Number(t)?-1:Qt.setTimeout(n,t||0)}function oT(n){n.g=My(()=>{n.g=null,n.i&&(n.i=!1,oT(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Yi(Lg,Cr),(mt=Lg.prototype).da=!1,mt.S=null,mt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(sT(this),this.start()))}},mt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.M=function(){Lg.Z.M.call(this),sT(this),delete this.g};class fP extends vu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:oT(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Py(n){vu.call(this),this.h=n,this.g={}}Yi(Py,vu);var pP=[];function aT(n,t,e,i){Array.isArray(e)||(e&&(pP[0]=e.toString()),e=pP);for(var r=0;r<e.length;r++){var o=Cy(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function lT(n){qb(n.g,function(t,e){this.g.hasOwnProperty(e)&&X1(t)},n),n.g={}}function Ug(){this.g=!0}function ls(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function RF(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return Qb(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Py.prototype.M=function(){Py.Z.M.call(this),lT(this)},Py.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ug.prototype.Aa=function(){this.g=!1},Ug.prototype.info=function(){};var bu={},Xb=null;function Bg(){return Xb=Xb||new Cr}function uT(n){Ss.call(this,bu.Ma,n)}function Ry(n){const t=Bg();yi(t,new uT(t,n))}function ew(n,t){Ss.call(this,bu.STAT_EVENT,n),this.stat=t}function Kr(n){const t=Bg();yi(t,new ew(t,n))}function dT(n,t){Ss.call(this,bu.Na,n),this.size=t}function Kd(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},t)}bu.Ma="serverreachability",Yi(uT,Ss),bu.STAT_EVENT="statevent",Yi(ew,Ss),bu.Na="timingevent",Yi(dT,Ss);var Ny={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tw(){}function pT(){}tw.prototype.h=null;var gT,Vg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kf(){Ss.call(this,"d")}function _c(){Ss.call(this,"c")}function wu(){}function Hg(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Py(this),this.P=nw,this.W=new Lg(n=zb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mT}function mT(){this.i=null,this.g="",this.h=!1}Yi(kf,Ss),Yi(_c,Ss),Yi(wu,tw),wu.prototype.g=function(){return new XMLHttpRequest},wu.prototype.i=function(){return{}},gT=new wu;var nw=45e3,iw={},bo={};function Qd(n,t,e){n.K=1,n.v=Gg(wl(t)),n.s=e,n.U=!0,Qr(n,null)}function Qr(n,t){n.F=Date.now(),Jd(n),n.A=wl(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),lw(e.h,"t",i),n.C=0,e=n.l.H,n.h=new mT,n.g=PT(n.l,e?t:null,!n.s),0<n.O&&(n.L=new fP(Wi(n.Ia,n,n.g),n.O)),aT(n.V,n.g,"readystatechange",n.gb),t=n.H?Ws(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Ry(1),function cT(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var a="",u=o.split("&"),h=0;h<u.length;h++){var p=u[h].split("=");if(1<p.length){var m=p[0];p=p[1];var v=m.split("_");a=2<=v.length&&"type"==v[1]?a+(m+"=")+p+"&":a+(m+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Cu(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Zg(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=Yo(n,e),r==bo){4==t&&(n.o=4,Kr(14),i=!1),ls(n.j,n.m,null,"[Incomplete Response]");break}if(r==iw){n.o=4,Kr(15),ls(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ls(n.j,n.m,r,null),Eu(n,r)}Cu(n)&&r!=bo&&r!=iw&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Kr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),ww(t),t.L=!0,Kr(11))):(ls(n.j,n.m,e,"[Invalid Chunked Response]"),Ko(n),bl(n))}function Yo(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?bo:(e=Number(t.substring(e,i)),isNaN(e)?iw:(i+=1)+e>t.length?bo:(t=t.substr(i,e),n.C=i+e,t))}function Jd(n){n.Y=Date.now()+n.P,Xd(n,n.P)}function Xd(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kd(Wi(n.eb,n),t)}function yc(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function bl(n){0==n.l.G||n.I||DT(n.l,n)}function Ko(n){yc(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,sT(n.W),lT(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Eu(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Uy(e.i,n)))if(e.I=n.N,!n.J&&Uy(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Gy(e),Uf(e)}zy(e),Kr(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Kd(Wi(e.ab,e),6e3));if(1>=Ly(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else Ma(e,11)}else if((n.J||e.g==n)&&Gy(e),!Rg(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let p=r[t];if(e.U=p[0],p=p[1],2==e.G)if("c"==p[0]){e.J=p[1],e.la=p[2];const m=p[3];null!=m&&(e.ma=m,e.h.info("VER="+e.ma));const v=p[4];null!=v&&(e.za=v,e.h.info("SVER="+e.za));const A=p[5];null!=A&&"number"==typeof A&&0<A&&(e.K=i=1.5*A,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const I=n.g;if(I){const M=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var o=i.i;!o.g&&(as(M,"spdy")||as(M,"quic")||as(M,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(hw(o,o.h),o.h=null))}if(i.D){const R=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(i.sa=R,Ai(i.F,i.D,R))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var a=n;if((i=e).oa=Cw(i,i.H?i.la:null,i.W),a.J){fw(i.i,a);var u=a,h=i.K;h&&u.setTimeout(h),u.B&&(yc(u),Jd(u)),i.g=a}else bw(i);0<e.l.length&&jy(e)}else"stop"!=p[0]&&"close"!=p[0]||Ma(e,7);else 3==e.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Ma(e,7):IT(e):"noop"!=p[0]&&e.j&&e.j.wa(p),e.A=0)}Ry(4)}catch{}}function Au(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Ub(n)||"string"==typeof n)my(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Ub(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function Of(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ub(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Sa(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Sa)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Tu(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];xu(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)xu(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function xu(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(mt=Hg.prototype).setTimeout=function(n){this.P=n},mt.gb=function(n){n=n.target;const t=this.L;t&&3==Ys(n)?t.l():this.Ia(n)},mt.Ia=function(n){try{if(n==this.g)e:{const m=Ys(this.g);var t=this.g.Da();const v=this.g.ba();if(!(3>m)&&(3!=m||zb||this.g&&(this.h.h||this.g.ga()||xT(this.g)))){this.I||4!=m||7==t||Ry(8==t||0>=v?3:2),yc(this);var e=this.g.ba();this.N=e;t:if(Cu(this)){var i=xT(this.g);n="";var r=i.length,o=4==Ys(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),bl(this);var a="";break t}this.h.i=new Qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==e,function MF(n,t,e,i,r,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,m,e),this.i){if(this.$&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rg(u)){var p=u;break t}}p=null}if(!(e=p)){this.i=!1,this.o=3,Kr(12),Ko(this),bl(this);break e}ls(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Eu(this,e)}this.U?(Zg(this,m,a),zb&&this.i&&3==m&&(aT(this.V,this.W,"tick",this.fb),this.W.start())):(ls(this.j,this.m,a,null),Eu(this,a)),4==m&&Ko(this),this.i&&!this.I&&(4==m?DT(this.l,this):(this.i=!1,Jd(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Kr(12)):(this.o=0,Kr(13)),Ko(this),bl(this)}}}catch{}},mt.fb=function(){if(this.g){var n=Ys(this.g),t=this.g.ga();this.C<t.length&&(yc(this),Zg(this,n,t),this.i&&4!=n&&Jd(this))}},mt.cancel=function(){this.I=!0,Ko(this)},mt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PF(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ry(3),Kr(17)),Ko(this),this.o=2,bl(this)):Xd(this,this.Y-n)},(mt=Sa.prototype).R=function(){Tu(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},mt.T=function(){return Tu(this),this.g.concat()},mt.get=function(n,t){return xu(this.h,n)?this.h[n]:t},mt.set=function(n,t){xu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},mt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var rw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Iu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Iu){this.g=void 0!==t?t:n.g,qg(this,n.j),this.s=n.s,jg(this,n.i),zg(this,n.m),this.l=n.l,t=n.h;var e=new Su;e.i=t.i,t.g&&(e.g=new Sa(t.g),e.h=t.h),sw(this,e),this.o=n.o}else n&&(e=String(n).match(rw))?(this.g=!!t,qg(this,e[1]||"",!0),this.s=eh(e[2]||""),jg(this,e[3]||"",!0),zg(this,e[4]),this.l=eh(e[5]||"",!0),sw(this,e[6]||"",!0),this.o=eh(e[7]||"")):(this.g=!!t,this.h=new Su(null,this.g))}function wl(n){return new Iu(n)}function qg(n,t,e){n.j=e?eh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function jg(n,t,e){n.i=e?eh(t,!0):t}function zg(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function sw(n,t,e){t instanceof Su?(n.h=t,function cw(n,t){t&&!n.j&&(Cl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(aw(this,i),lw(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=th(t,_P)),n.h=new Su(t,n.g))}function Ai(n,t,e){n.h.set(t,e)}function Gg(n){return Ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function th(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,mP),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Iu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(th(t,$g,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(th(t,$g,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(th(e,"/"==e.charAt(0)?ow:ky,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",th(e,Oy)),n.join("")};var $g=/[#\/\?@]/g,ky=/[#\?:]/g,ow=/[#\?]/g,_P=/[#\?@]/g,Oy=/#/g;function Su(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Cl(n){n.g||(n.g=new Sa,n.h=0,n.i&&function _T(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function aw(n,t){Cl(n),t=nh(n,t),xu(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,xu((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Tu(n)))}function Fy(n,t){return Cl(n),t=nh(n,t),xu(n.g.h,t)}function lw(n,t,e){aw(n,t),0<e.length&&(n.i=null,n.g.set(nh(n,t),Hb(e)),n.h+=e.length)}function nh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function vT(n){this.l=n||bT,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ea&&Qt.g.Ea()&&Qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mt=Su.prototype).add=function(n,t){Cl(this),this.i=null,n=nh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},mt.forEach=function(n,t){Cl(this),this.g.forEach(function(e,i){my(e,function(r){n.call(t,r,i,this)},this)},this)},mt.T=function(){Cl(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},mt.R=function(n){Cl(this);var t=[];if("string"==typeof n)Fy(this,n)&&(t=Pg(t,this.g.get(nh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=Pg(t,n[e])}return t},mt.set=function(n,t){return Cl(this),this.i=null,Fy(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},mt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),n.push(a)}}return this.i=n.join("&")};var bT=10;function dw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ly(n){return n.h?1:n.g?n.g.size:0}function Uy(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function hw(n,t){n.g?n.g.add(t):n.h=t}function fw(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function pw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Hb(n.i)}function Wg(){}function By(){this.g=new Wg}function wT(n,t,e){const i=e||"";try{Au(n,function(r,o){let a=r;Mf(r)&&(a=Qb(r)),t.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Yg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ff(n){this.l=n.$b||null,this.j=n.ib||!1}function Kg(n,t){Cr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Vy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vT.prototype.cancel=function(){if(this.i=pw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wg.prototype.stringify=function(n){return Qt.JSON.stringify(n,void 0)},Wg.prototype.parse=function(n){return Qt.JSON.parse(n,void 0)},Yi(Ff,tw),Ff.prototype.g=function(){return new Kg(this.l,this.j)},Ff.prototype.i=function(n){return function(){return n}}({}),Yi(Kg,Cr);var Vy=0;function gw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Lf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Hy(n)}function Hy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(mt=Kg.prototype).open=function(n,t){if(this.readyState!=Vy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Hy(this)},mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Qt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lf(this)),this.readyState=Vy},mt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Hy(this)),this.g&&(this.readyState=3,Hy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},mt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Lf(this):Hy(this),3==this.readyState&&gw(this)}},mt.Ua=function(n){this.g&&(this.response=this.responseText=n,Lf(this))},mt.Ta=function(n){this.g&&(this.response=n,Lf(this))},mt.ha=function(){this.g&&Lf(this)},mt.setRequestHeader=function(n,t){this.v.append(n,t)},mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Kg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yP=Qt.JSON.parse;function cr(n){Cr.call(this),this.headers=new Sa,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mw,this.K=this.L=!1}Yi(cr,Cr);var mw="",vP=/^https?$/i,Er=["POST","PUT"];function bP(n){return"content-type"==n.toLowerCase()}function AT(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,_w(n),Qg(n)}function _w(n){n.D||(n.D=!0,yi(n,"complete"),yi(n,"error"))}function TT(n){if(n.h&&typeof py<"u"&&(!n.C[1]||4!=Ys(n)||2!=n.ba()))if(n.v&&4==Ys(n))My(n.Fa,0,n);else if(yi(n,"readystatechange"),4==Ys(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.H).match(rw)[1]||null;if(!r&&Qt.self&&Qt.self.location){var o=Qt.self.location.protocol;r=o.substr(0,o.length-1)}i=!vP.test(r?r.toLowerCase():"")}e=i}if(e)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var a=2<Ys(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.ba()+"]",_w(n)}}finally{Qg(n)}}}function Qg(n,t){if(n.g){yw(n);const e=n.g,i=n.C[0]?Df:null;n.g=null,n.C=null,t||yi(n,"ready");try{e.onreadystatechange=i}catch{}}}function yw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function Ys(n){return n.g?n.g.readyState:0}function xT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case mw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Zy(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function wP(n){let t="";return qb(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ai(n,t,e))}function Jg(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function vw(n){this.za=0,this.l=[],this.h=new Ug,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jg("baseRetryDelayMs",5e3,n),this.$a=Jg("retryDelaySeedMs",1e4,n),this.Ya=Jg("forwardChannelMaxRetries",2,n),this.ra=Jg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vT(n&&n.concurrentRequestLimit),this.Ca=new By,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function IT(n){if(qy(n),3==n.G){var t=n.V++,e=wl(n.F);Ai(e,"SID",n.J),Ai(e,"RID",t),Ai(e,"TYPE","terminate"),Ds(n,e),(t=new Hg(n,n.h,t,void 0)).K=2,t.v=Gg(wl(e)),e=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(e=Qt.navigator.sendBeacon(t.v.toString(),"")),!e&&Qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=PT(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Jd(t)}MT(n)}function Uf(n){n.g&&(ww(n),n.g.cancel(),n.g=null)}function qy(n){Uf(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),Gy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function Qo(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&jy(n)}function jy(n){dw(n.i)||n.m||(n.m=!0,Sy(n.Ha,n),n.C=0)}function Da(n,t){var e;e=t?t.m:n.V++;const i=wl(n.F);Ai(i,"SID",n.J),Ai(i,"RID",e),Ai(i,"AID",n.U),Ds(n,i),n.o&&n.s&&Zy(i,n.o,n.s),e=new Hg(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=Jo(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),hw(n.i,e),Qd(e,i,t)}function Ds(n,t){n.j&&Au({},function(e,i){Ai(t,i,e)})}function Jo(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Wi(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let h=0;h<e;h++){let p=r[h].h;const m=r[h].g;if(p-=o,0>p)o=Math.max(0,r[h].h-100),u=!1;else try{wT(m,a,"req"+p+"_")}catch{i&&i(m)}}if(u){i=a.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function bw(n){n.g||n.u||(n.Y=1,Sy(n.Ga,n),n.A=0)}function zy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Kd(Wi(n.Ga,n),$y(n,n.A)),n.A++,0))}function ww(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function ST(n){n.g=new Hg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=wl(n.oa);Ai(t,"RID","rpc"),Ai(t,"SID",n.J),Ai(t,"CI",n.N?"0":"1"),Ai(t,"AID",n.U),Ds(n,t),Ai(t,"TYPE","xmlhttp"),n.o&&n.s&&Zy(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Gg(wl(t)),e.s=null,e.U=!0,Qr(e,n)}function Gy(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function DT(n,t){var e=null;if(n.g==t){Gy(n),ww(n),n.g=null;var i=2}else{if(!Uy(n.i,t))return;e=t.D,fw(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;yi(i=Bg(),new dT(i,e,t,r)),jy(n)}else bw(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function CP(n,t){return!(Ly(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Kd(Wi(n.Ha,n,t),$y(n,n.C)),n.C++,0)))}(n,t)||2==i&&zy(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Ma(n,5);break;case 4:Ma(n,10);break;case 3:Ma(n,6);break;default:Ma(n,2)}}function $y(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Ma(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Wi(n.jb,n);e||(e=new Iu("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||qg(e,"https"),Gg(e)),function CT(n,t){const e=new Ug;if(Qt.Image){const i=new Image;i.onload=yu(Yg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=yu(Yg,e,i,"TestLoadImage: error",!1,t),i.onabort=yu(Yg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=yu(Yg,e,i,"TestLoadImage: timeout",!1,t),Qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Kr(2);n.G=0,n.j&&n.j.va(t),MT(n),qy(n)}function MT(n){n.G=0,n.I=-1,n.j&&((0!=pw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Hb(n.l),n.l.length=0),n.j.ua())}function Cw(n,t,e){let i=function gP(n){return n instanceof Iu?wl(n):new Iu(n,void 0)}(e);if(""!=i.i)t&&jg(i,t+"."+i.i),zg(i,i.m);else{const r=Qt.location;i=function yT(n,t,e,i){var r=new Iu(null,void 0);return n&&qg(r,n),t&&jg(r,t),e&&zg(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&qb(n.aa,function(r,o){Ai(i,o,r)}),e=n.sa,(t=n.D)&&e&&Ai(i,t,e),Ai(i,"VER",n.ma),Ds(n,i),i}function PT(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new cr(e&&n.Ba&&!n.qa?new Ff({ib:!0}):n.qa)).L=n.H,t}function Ew(){}function Xg(){if(Wd&&!(10<=Number(sP)))throw Error("Environmental error: no available transport.")}function cs(n,t){Cr.call(this),this.g=new vw(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Rg(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rg(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ih(this)}function RT(n){kf.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Aw(){_c.call(this),this.status=1}function ih(n){this.g=n}(mt=cr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gT.g(),this.C=function fT(n){return n.h||(n.h=n.i())}(this.u?this.u:gT),this.g.onreadystatechange=Wi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void AT(this,o)}n=e||"";const r=new Sa(this.headers);i&&Au(i,function(o,a){r.set(a,o)}),i=function q1(n){e:{var t=bP;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Qt.FormData&&n instanceof Qt.FormData,!(0<=gy(Er,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yw(this),0<this.B&&((this.K=function ET(n){return Wd&&function rP(){return function iP(n){var t=J1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=nP(String(Ng)).split("."),e=nP("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",o=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=_y(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||_y(0==r[2].length,0==o[2].length)||_y(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wi(this.pa,this)):this.A=My(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){AT(this,o)}},mt.pa=function(){typeof py<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),Qg(this))},mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qg(this,!0)),cr.Z.M.call(this)},mt.Fa=function(){this.s||(this.F||this.v||this.l?TT(this):this.cb())},mt.cb=function(){TT(this)},mt.ba=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}},mt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},mt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),yP(t)}},mt.Da=function(){return this.m},mt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=vw.prototype).ma=8,mt.G=1,mt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},mt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Hg(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=Ws(o),G1(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Jo(this,r,t),Ai(e=wl(this.F),"RID",n),Ai(e,"CVER",22),this.D&&Ai(e,"X-HTTP-Session-Id",this.D),Ds(this,e),this.o&&o&&Zy(e,this.o,o),hw(this.i,r),this.Ra&&Ai(e,"TYPE","init"),this.ja?(Ai(e,"$req",t),Ai(e,"SID","null"),r.$=!0,Qd(r,e,null)):Qd(r,e,t),this.G=2}}else 3==this.G&&(n?Da(this,n):0==this.l.length||dw(this.i)||Da(this))},mt.Ga=function(){if(this.u=null,ST(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Kd(Wi(this.bb,this),n)}},mt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kr(10),Uf(this),ST(this))},mt.ab=function(){null!=this.v&&(this.v=null,Uf(this),zy(this),Kr(19))},mt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Kr(2)):(this.h.info("Failed to ping google.com"),Kr(1))},(mt=Ew.prototype).xa=function(){},mt.wa=function(){},mt.va=function(){},mt.ua=function(){},mt.Oa=function(){},Xg.prototype.g=function(n,t){return new cs(n,t)},Yi(cs,Cr),cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Sy(Wi(n.hb,n,t))),Kr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Cw(n,null,n.W),jy(n)},cs.prototype.close=function(){IT(this.g)},cs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Qo(this.g,t)}else this.v?((t={}).__data__=Qb(n),Qo(this.g,t)):Qo(this.g,n)},cs.prototype.M=function(){this.g.j=null,delete this.j,IT(this.g),delete this.g,cs.Z.M.call(this)},Yi(RT,kf),Yi(Aw,_c),Yi(ih,Ew),ih.prototype.xa=function(){yi(this.g,"a")},ih.prototype.wa=function(n){yi(this.g,new RT(n))},ih.prototype.va=function(n){yi(this.g,new Aw(n))},ih.prototype.ua=function(){yi(this.g,"b")},Xg.prototype.createWebChannel=Xg.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,Ny.NO_ERROR=0,Ny.TIMEOUT=8,Ny.HTTP_ERROR=6,hT.COMPLETE="complete",pT.EventType=Vg,Vg.OPEN="a",Vg.CLOSE="b",Vg.ERROR="c",Vg.MESSAGE="d",Cr.prototype.listen=Cr.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.La,cr.prototype.getLastErrorCode=cr.prototype.Da,cr.prototype.getStatus=cr.prototype.ba,cr.prototype.getResponseJson=cr.prototype.Qa,cr.prototype.getResponseText=cr.prototype.ga,cr.prototype.send=cr.prototype.ea;var Tw=mc.createWebChannelTransport=function(){return new Xg},Wy=mc.getStatEventTarget=function(){return Bg()},em=mc.ErrorCode=Ny,NT=mc.EventType=hT,kT=mc.Event=bu,xw=mc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},OT=mc.FetchXmlHttpFactory=Ff,tm=mc.WebChannel=pT,FT=mc.XhrIo=cr;const Iw="@firebase/firestore";class kr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Bf="9.8.4";const Du=new $o.Yd("@firebase/firestore");function Sw(){return Du.logLevel}function Ye(n,...t){if(Du.logLevel<=$o.in.DEBUG){const e=t.map(Dw);Du.debug(`Firestore (${Bf}): ${n}`,...e)}}function ur(n,...t){if(Du.logLevel<=$o.in.ERROR){const e=t.map(Dw);Du.error(`Firestore (${Bf}): ${n}`,...e)}}function nm(n,...t){if(Du.logLevel<=$o.in.WARN){const e=t.map(Dw);Du.warn(`Firestore (${Bf}): ${n}`,...e)}}function Dw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ct(n="Unexpected state"){const t=`FIRESTORE (${Bf}) INTERNAL ASSERTION FAILED: `+n;throw ur(t),new Error(t)}function zt(n,t){n||Ct()}function pt(n,t){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends U.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class LT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(kr.UNAUTHENTICATED))}shutdown(){}}class UT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BT{constructor(t){this.t=t,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let a=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Or,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=a;t.enqueueRetryable((0,Ie.Z)(function*(){yield p.promise,yield o(i.currentUser)}))},h=p=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Or)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(zt("string"==typeof i.accessToken),new LT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return zt(null===t||"string"==typeof t),new kr(t)}}class VT{constructor(t,e,i){this.type="FirstParty",this.user=kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class HT{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new VT(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZT{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.p;return this.p=o.token,Ye("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(zt("string"==typeof e.token),this.p=e.token,new Mw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qT(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Pw{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=qT(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Xt(n,t){return n<t?-1:n>t?1:0}function Mu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Pu(n){return n+"\0"}class Ti{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ti.fromMillis(Date.now())}static fromDate(t){return Ti.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ti(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Ti(0,0))}static max(){return new jt(new Ti(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class El{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ct(),void 0===i?i=t.length-e:i>t.length-e&&Ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===El.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof El?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),a=e.get(r);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class In extends El{construct(t,e,i){return new In(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new In(e)}static emptyPath(){return new In([])}}const Rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends El{construct(t,e,i){return new dr(t,e,i)}static isValidIdentifier(t){return Rw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Ge(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Ge(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new Ge(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dr(e)}static emptyPath(){return new dr([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(In.fromString(t))}static fromName(t){return new lt(In.fromString(t).popFirst(5))}static empty(){return new lt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===In.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return In.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new In(t.slice()))}}class im{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function jT(n){return n.fields.find(t=>2===t.kind)}function Pt(n){return n.fields.filter(t=>2!==t.kind)}im.UNKNOWN_ID=-1;class Yy{constructor(t,e){this.fieldPath=t,this.kind=e}}class rm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new rm(0,wo.min())}}function zT(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=jt.fromTimestamp(1e9===i?new Ti(e+1,0):new Ti(e,i));return new wo(r,lt.empty(),t)}function rh(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new wo(jt.min(),lt.empty(),-1)}static max(){return new wo(jt.max(),lt.empty(),-1)}}function Vf(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=lt.comparator(n.documentKey,t.documentKey),0!==e?e:Xt(n.largestBatchId,t.largestBatchId))}const sm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Li{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function sh(n){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,Ie.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==sm)throw n;Ye("LocalStore","Unexpectedly lost primary lease")}),Ky.apply(this,arguments)}class ye{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ye((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ye?e:ye.resolve(e)}catch(e){return ye.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ye.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ye.reject(e)}static resolve(t){return new ye((e,i)=>{e(t)})}static reject(t){return new ye((e,i)=>{i(t)})}static waitFor(t){return new ye((e,i)=>{let r=0,o=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&e()},h=>i(h))}),a=!0,o===r&&e()})}static or(t){let e=ye.resolve(!1);for(const i of t)e=e.next(r=>r?ye.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ye((i,r)=>{const o=t.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const p=h;e(t[p]).next(m=>{a[p]=m,++u,u===o&&i(a)},m=>r(m))}})}static doWhile(t,e){return new ye((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Qy{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Or,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new Hf(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=ah(i.target.error);this.T.reject(new Hf(t,r))}}static open(t,e,i,r){try{return new Qy(e,t.transaction(r,i))}catch(o){throw new Hf(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Ye("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new IP(e)}}class Xo{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Xo.v((0,U.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ye("SimpleDb","Removing database:",t),oh(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,U.hl)())return!1;if(Xo.S())return!0;const t=(0,U.z$)(),e=Xo.v(t),i=0<e&&e<10,r=Xo.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,Ie.Z)(function*(){return e.db||(Ye("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{r(new Hf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new Ge(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Ge(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new Hf(t,u))},o.onupgradeneeded=a=>{Ye("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.P.O(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{Ye("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ie.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.k(t);const h=Qy.open(o.db,t,a?"readonly":"readwrite",i),p=r(h).next(m=>(h.R(),m)).catch(m=>(h.abort(m),ye.reject(m))).toPromise();return p.catch(()=>{}),yield h.A,p}catch(h){const p=h,m="FirebaseError"!==p.name&&u<3;if(Ye("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),o.close(),!m)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GT{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return oh(this.$.delete())}}class Hf extends Ge{constructor(t,e){super(Ce.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function vc(n){return"IndexedDbTransactionError"===n.name}class IP{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ye("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ye("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),oh(i)}add(t){return Ye("SimpleDb","ADD",this.store.name,t,t),oh(this.store.add(t))}get(t){return oh(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ye("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ye("SimpleDb","DELETE",this.store.name,t),oh(this.store.delete(t))}count(){return Ye("SimpleDb","COUNT",this.store.name),oh(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(a,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ye((o,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ye((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}W(t,e){Ye("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,a,u)=>u.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new ye((i,r)=>{e.onerror=o=>{const a=ah(o.target.error);r(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}G(t,e){const i=[];return new ye((r,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const h=new GT(u),p=e(u.primaryKey,u.value,h);if(p instanceof ye){const m=p.catch(v=>(h.done(),ye.reject(v)));i.push(m)}h.isDone?r():null===h.U?u.continue():u.continue(h.U)}}).next(()=>ye.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function oh(n){return new ye((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ah(i.target.error);e(r)}})}let $T=!1;function ah(n){const t=Xo.v((0,U.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $T||($T=!0,setTimeout(()=>{throw i},0)),i}}return n}class SP{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Ye("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ie.Z)(function*(){e.task=null;try{Ye("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){vc(i)?Ye("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sh(i)}yield e.Z(1)}))}}class DP{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,Ie.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return ye.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return Ye("IndexBackiller",`Processing collection: ${a}`),this.nt(t,a,r).next(u=>{r-=u,i.add(a)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.st(r,o)).next(u=>(Ye("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const a=rh(o);Vf(a,i)>0&&(i=a)}),new wo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Ks{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function om(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ru(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Nw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Ks.ot=-1;class Ui{constructor(t,e){this.comparator=t,this.root=e||ir.EMPTY}insert(t,e){return new Ui(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(t){return new Ui(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ir.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jy(this.root,t,this.comparator,!0)}}class Jy{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ir{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ir.RED,this.left=r??ir.EMPTY,this.right=o??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ir(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ir.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const t=this.left.check();if(t!==this.right.check())throw Ct();return t+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ir(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(t){this.comparator=t,this.data=new Ui(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(t){return new WT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ln)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ln(this.comparator);return e.data=t,e}}class WT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zf(n){return n.hasNext()?n.getNext():void 0}class Co{constructor(t){this.fields=t,t.sort(dr.comparator)}static empty(){return new Co([])}unionWith(t){let e=new Ln(dr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Co(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Mu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class hr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new hr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new hr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const KT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(zt(!!n),"string"==typeof n){let t=0;const e=KT.exec(n);if(zt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lh(n){return"string"==typeof n?hr.fromBase64String(n):hr.fromUint8Array(n)}function kw(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function MP(n){const t=n.mapValue.fields.__previous_value__;return kw(t)?MP(t):t}function Xy(n){const t=Nu(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(t.seconds,t.nanos)}class NF{constructor(t,e,i,r,o,a,u,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class ku{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ku&&t.projectId===this.projectId&&t.database===this.database}}function qf(n){return null==n}function Ou(n){return 0===n&&1/n==-1/0}function QT(n){return"number"==typeof n&&Number.isInteger(n)&&!Ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},am={nullValue:"NULL_VALUE"};function Pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kw(n)?4:ex(n)?9007199254740991:10:Ct()}function Al(n,t){if(n===t)return!0;const e=Pa(n);if(e!==Pa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xy(n).isEqual(Xy(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Nu(i.timestampValue),a=Nu(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,lh(n.bytesValue).isEqual(lh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Bi(i.geoPointValue.latitude)===Bi(r.geoPointValue.latitude)&&Bi(i.geoPointValue.longitude)===Bi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bi(i.integerValue)===Bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Bi(i.doubleValue),a=Bi(r.doubleValue);return o===a?Ou(o)===Ou(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Mu(n.arrayValue.values||[],t.arrayValue.values||[],Al);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(om(o)!==om(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Al(o[u],a[u])))return!1;return!0}(n,t);default:return Ct()}var r}function lm(n,t){return void 0!==(n.values||[]).find(e=>Al(e,t))}function Lu(n,t){if(n===t)return 0;const e=Pa(n),i=Pa(t);if(e!==i)return Xt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=Bi(r.integerValue||r.doubleValue),u=Bi(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return JT(n.timestampValue,t.timestampValue);case 4:return JT(Xy(n),Xy(t));case 5:return Xt(n.stringValue,t.stringValue);case 6:return function(r,o){const a=lh(r),u=lh(o);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const p=Xt(a[h],u[h]);if(0!==p)return p}return Xt(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Xt(Bi(r.latitude),Bi(o.latitude));return 0!==a?a:Xt(Bi(r.longitude),Bi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],u=o.values||[];for(let h=0;h<a.length&&h<u.length;++h){const p=Lu(a[h],u[h]);if(p)return p}return Xt(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Fu.mapValue&&o===Fu.mapValue)return 0;if(r===Fu.mapValue)return 1;if(o===Fu.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const v=Xt(u[m],p[m]);if(0!==v)return v;const A=Lu(a[u[m]],h[p[m]]);if(0!==A)return A}return Xt(u.length,p.length)}(n.mapValue,t.mapValue);default:throw Ct()}}function JT(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Xt(n,t);const e=Nu(n),i=Nu(t),r=Xt(e.seconds,i.seconds);return 0!==r?r:Xt(e.nanos,i.nanos)}function jf(n){return ev(n)}function ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Nu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lh(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const a of i.values||[])o?o=!1:r+=",",r+=ev(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${ev(i.fields[u])}`;return o+"}"}(n.mapValue):Ct();var t}function ch(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ow(n){return!!n&&"integerValue"in n}function Tl(n){return!!n&&"arrayValue"in n}function XT(n){return!!n&&"nullValue"in n}function Fw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tv(n){return!!n&&"mapValue"in n}function zf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ru(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=zf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=zf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ex(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tx(n){return"nullValue"in n?am:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ch(ku.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ct()}function PP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ch(ku.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fu:Ct()}function nv(n,t){const e=Lu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function nx(n,t){const e=Lu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Fr{constructor(t){this.value=t}static empty(){return new Fr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!tv(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zf(e)}setAll(t){let e=dr.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=zf(a):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());tv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Al(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];tv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ru(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Fr(zf(this.value))}}function Lw(n){const t=[];return Ru(n.fields,(e,i)=>{const r=new dr([e]);if(tv(i)){const o=Lw(i.mapValue).fields;if(0===o.length)t.push(r);else for(const a of o)t.push(r.child(a))}else t.push(r)}),new Co(t)}class ui{constructor(t,e,i,r,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ui(t,0,jt.min(),jt.min(),Fr.empty(),0)}static newFoundDocument(t,e,i){return new ui(t,1,e,jt.min(),i,0)}static newNoDocument(t,e){return new ui(t,2,e,jt.min(),Fr.empty(),0)}static newUnknownDocument(t,e){return new ui(t,3,e,jt.min(),Fr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class RP{constructor(t,e=null,i=[],r=[],o=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.ut=null}}function ix(n,t=null,e=[],i=[],r=null,o=null,a=null){return new RP(n,t,e,i,r,o,a)}function bc(n){const t=pt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+jf(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),qf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>jf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>jf(i)).join(",")),t.ut=e}return t.ut}function Gf(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!BP(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Al(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ov(n.startAt,t.startAt)&&ov(n.endAt,t.endAt)}function iv(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rv(n,t){return n.filters.filter(e=>e instanceof Jr&&e.field.isEqual(t))}function rx(n,t,e){let i=am,r=!0;for(const o of rv(n,t)){let a=am,u=!0;switch(o.op){case"<":case"<=":a=tx(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,u=!1;break;case"!=":case"not-in":a=am}nv({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];nv({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function sx(n,t,e){let i=Fu,r=!0;for(const o of rv(n,t)){let a=Fu,u=!0;switch(o.op){case">=":case">":a=PP(o.value),u=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,u=!1;break;case"!=":case"not-in":a=Fu}nx({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];nx({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Jr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new kP(t,e,i):"array-contains"===e?new ox(t,i):"in"===e?new LP(t,i):"not-in"===e?new UP(t,i):"array-contains-any"===e?new ax(t,i):new Jr(t,e,i)}static ct(t,e,i){return"in"===e?new OP(t,i):new FP(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Lu(e,this.value)):null!==e&&Pa(this.value)===Pa(e)&&this.at(Lu(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ct()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kP extends Jr{constructor(t,e,i){super(t,e,i),this.key=lt.fromName(i.referenceValue)}matches(t){const e=lt.comparator(t.key,this.key);return this.at(e)}}class OP extends Jr{constructor(t,e){super(t,"in",e),this.keys=Uw(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class FP extends Jr{constructor(t,e){super(t,"not-in",e),this.keys=Uw(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Uw(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>lt.fromName(i.referenceValue))}class ox extends Jr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Tl(e)&&lm(e.arrayValue,this.value)}}class LP extends Jr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&lm(this.value.arrayValue,e)}}class UP extends Jr{constructor(t,e){super(t,"not-in",e)}matches(t){if(lm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!lm(this.value.arrayValue,e)}}class ax extends Jr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Tl(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>lm(this.value.arrayValue,i))}}class Uu{constructor(t,e){this.position=t,this.inclusive=e}}class $f{constructor(t,e="asc"){this.field=t,this.dir=e}}function BP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function sv(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],a=n.position[r];if(i=o.field.isKeyField()?lt.comparator(lt.fromName(a.referenceValue),e.key):Lu(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function ov(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Al(n.position[e],t.position[e]))return!1;return!0}class xl{constructor(t,e=null,i=[],r=[],o=null,a="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.lt=null,this.ft=null}}function av(n,t,e,i,r,o,a,u){return new xl(n,t,e,i,r,o,a,u)}function Wf(n){return new xl(n)}function cm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bw(n){for(const t of n.filters)if(t.ht())return t.field;return null}function lv(n){return null!==n.collectionGroup}function Yf(n){const t=pt(n);if(null===t.lt){t.lt=[];const e=Bw(t),i=cm(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new $f(e)),t.lt.push(new $f(dr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new $f(dr.keyField(),o))}}}return t.lt}function Eo(n){const t=pt(n);if(!t.ft)if("F"===t.limitType)t.ft=ix(t.path,t.collectionGroup,Yf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Yf(t))e.push(new $f(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;t.ft=ix(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function HP(n,t,e){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function um(n,t){return Gf(Eo(n),Eo(t))&&n.limitType===t.limitType}function Kf(n){return`${bc(Eo(n))}|lt:${n.limitType}`}function wc(n){return`Query(target=${function NP(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${jf(i.value)}`;var i}).join(", ")}]`),qf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>jf(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>jf(e)).join(",")),`Target(${t})`}(Eo(n))}; limitType=${n.limitType})`}function cv(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):lt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,a){const u=sv(r,o,a);return r.inclusive?u<=0:u<0}(e.startAt,Yf(e),i)||e.endAt&&!function(r,o,a){const u=sv(r,o,a);return r.inclusive?u>=0:u>0}(e.endAt,Yf(e),i)));var e,i}function lx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vw(n){return(t,e)=>{let i=!1;for(const r of Yf(n)){const o=ZP(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function ZP(n,t,e){const i=n.field.isKeyField()?lt.comparator(t.key,e.key):function(r,o,a){const u=o.data.field(r),h=a.data.field(r);return null!==u&&null!==h?Lu(u,h):Ct()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ct()}}function uh(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(t)?"-0":t}}function Qf(n){return{integerValue:""+n}}function cx(n,t){return QT(t)?Qf(t):uh(n,t)}class Hw{constructor(){this._=void 0}}function ux(n,t,e){return n instanceof Jf?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof dh?Zw(n,t):n instanceof Bu?uv(n,t):function(i,r){const o=dx(i,r),a=Xf(o)+Xf(i._t);return Ow(o)&&Ow(i._t)?Qf(a):uh(i.wt,a)}(n,t)}function qP(n,t,e){return n instanceof dh?Zw(n,t):n instanceof Bu?uv(n,t):e}function dx(n,t){return n instanceof Cc?Ow(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Jf extends Hw{}class dh extends Hw{constructor(t){super(),this.elements=t}}function Zw(n,t){const e=hx(t);for(const i of n.elements)e.some(r=>Al(r,i))||e.push(i);return{arrayValue:{values:e}}}class Bu extends Hw{constructor(t){super(),this.elements=t}}function uv(n,t){let e=hx(t);for(const i of n.elements)e=e.filter(r=>!Al(r,i));return{arrayValue:{values:e}}}class Cc extends Hw{constructor(t,e){super(),this.wt=t,this._t=e}}function Xf(n){return Bi(n.integerValue||n.doubleValue)}function hx(n){return Tl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hh{constructor(t,e){this.field=t,this.transform=e}}class jP{constructor(t,e){this.version=t,this.transformResults=e}}class Vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ep(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class dv{}function zP(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new fh(n.key,Vi.none()):new tp(n.key,n.data,Vi.none());{const e=n.data,i=Fr.empty();let r=new Ln(dr.comparator);for(let o of t.fields)if(!r.has(o)){let a=e.field(o);null===a&&o.length>1&&(o=o.popLast(),a=e.field(o)),null===a?i.delete(o):i.set(o,a),r=r.add(o)}return new Ra(n.key,i,new Co(r.toArray()),Vi.none())}}function GP(n,t,e){n instanceof tp?function(i,r,o){const a=i.value.clone(),u=mx(i.fieldTransforms,r,o.transformResults);a.setAll(u),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Ra?function(i,r,o){if(!ep(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=mx(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(gx(i)),u.setAll(a),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function dm(n,t,e,i){return n instanceof tp?function(r,o,a,u){if(!ep(r.precondition,o))return a;const h=r.value.clone(),p=_x(r.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ra?function(r,o,a,u){if(!ep(r.precondition,o))return a;const h=_x(r.fieldTransforms,u,o),p=o.data;return p.setAll(gx(r)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(n,t,e,i):(a=e,ep(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function px(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=dx(i.transform,r||null);null!=o&&(null===e&&(e=Fr.empty()),e.set(i.field,o))}return e||null}function hv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Mu(e,i,(r,o)=>function fx(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof dh&&i instanceof dh||e instanceof Bu&&i instanceof Bu?Mu(e.elements,i.elements,Al):e instanceof Cc&&i instanceof Cc?Al(e._t,i._t):e instanceof Jf&&i instanceof Jf);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class tp extends dv{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ra extends dv{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function mx(n,t,e){const i=new Map;zt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],a=o.transform,u=t.data.field(o.field);i.set(o.field,qP(a,u,e[r]))}return i}function _x(n,t,e){const i=new Map;for(const r of n){const o=r.transform,a=e.data.field(r.field);i.set(r.field,ux(o,a,t))}return i}class fh extends dv{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fv extends dv{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yx{constructor(t){this.count=t}}var rr,Cn;function vx(n){switch(n){default:return Ct();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function bx(n){if(void 0===n)return ur("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case rr.OK:return Ce.OK;case rr.CANCELLED:return Ce.CANCELLED;case rr.UNKNOWN:return Ce.UNKNOWN;case rr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case rr.INTERNAL:return Ce.INTERNAL;case rr.UNAVAILABLE:return Ce.UNAVAILABLE;case rr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case rr.NOT_FOUND:return Ce.NOT_FOUND;case rr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case rr.ABORTED:return Ce.ABORTED;case rr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case rr.DATA_LOSS:return Ce.DATA_LOSS;default:return Ct()}}(Cn=rr||(rr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ru(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}const $P=new Ui(lt.comparator);function Qs(){return $P}const np=new Ui(lt.comparator);function ip(...n){let t=np;for(const e of n)t=t.insert(e.key,e);return t}function qw(n){let t=np;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Na(){return rp()}function jw(){return rp()}function rp(){return new Vu(n=>n.toString(),(n,t)=>n.isEqual(t))}const wx=new Ui(lt.comparator),WP=new Ln(lt.comparator);function on(...n){let t=WP;for(const e of n)t=t.add(e);return t}const YP=new Ln(Xt);function hm(){return YP}class fm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,pm.createSynthesizedTargetChangeForCurrentChange(t,e)),new fm(jt.min(),i,hm(),Qs(),on())}}class pm{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new pm(hr.EMPTY_BYTE_STRING,e,on(),on(),on())}}class pv{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class sp{constructor(t,e){this.targetId=t,this.It=e}}class Cx{constructor(t,e,i=hr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class gv{constructor(){this.Tt=0,this.Et=gm(),this.At=hr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=on(),e=on(),i=on();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ct()}}),new pm(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=gm()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Il{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Qs(),this.Bt=Ex(),this.Lt=new Ln(Xt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:Ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(iv(o))if(0===i){const a=new lt(o.path);this.Kt(e,a,ui.newNoDocument(a,jt.min()))}else zt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,a)=>{const u=this.Ht(a);if(u){if(o.current&&iv(u.target)){const h=new lt(u.target.path);null!==this.$t.get(h)||this.Xt(a,h)||this.Kt(a,h,ui.newNoDocument(h,t))}o.vt&&(e.set(a,o.St()),o.Dt())}});let i=on();this.Bt.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const p=this.Ht(h);return!p||2===p.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.$t.forEach((o,a)=>a.setReadTime(t));const r=new fm(t,e,this.Lt,this.$t,i);return this.$t=Qs(),this.Bt=Ex(),this.Lt=new Ln(Xt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new gv,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Ln(Xt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Ye("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new gv),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function Ex(){return new Ui(lt.comparator)}function gm(){return new Ui(lt.comparator)}const mm={asc:"ASCENDING",desc:"DESCENDING"},KP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class QP{constructor(t,e){this.databaseId=t,this.dt=e}}function _m(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ym(n,t){return n.dt?t.toBase64():t.toUint8Array()}function mv(n,t){return _m(n,t.toTimestamp())}function Lr(n){return zt(!!n),jt.fromTimestamp(function(t){const e=Nu(t);return new Ti(e.seconds,e.nanos)}(n))}function zw(n,t){return(e=n,new In(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Gw(n){const t=In.fromString(n);return zt(Jw(t)),t}function op(n,t){return zw(n.databaseId,t.path)}function ea(n,t){const e=Gw(t);if(e.get(1)!==n.databaseId.projectId)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new lt(JP(e))}function _v(n,t){return zw(n.databaseId,t)}function Ax(n){const t=Gw(n);return 4===t.length?In.emptyPath():JP(t)}function vm(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JP(n){return zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yv(n,t,e){return{name:op(n,t),fields:e.value.mapValue.fields}}function vv(n,t,e){const i=ea(n,t.name),r=Lr(t.updateTime),o=new Fr({mapValue:{fields:t.fields}}),a=ui.newFoundDocument(i,r,o);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function ph(n,t){let e;if(t instanceof tp)e={update:yv(n,t.key,t.value)};else if(t instanceof fh)e={delete:op(n,t.key)};else if(t instanceof Ra)e={update:yv(n,t.key,t.data),updateMask:eR(t.fieldMask)};else{if(!(t instanceof fv))return Ct();e={verify:op(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Jf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),increment:a._t};throw Ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:mv(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ct()),e;var r}function Ww(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Vi.updateTime(Lr(r.updateTime)):void 0!==r.exists?Vi.exists(r.exists):Vi.none():Vi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let u=null;"setToServerValue"in a?(zt("REQUEST_TIME"===a.setToServerValue),u=new Jf):"appendMissingElements"in a?u=new dh(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Bu(a.removeAllFromArray.values||[]):"increment"in a?u=new Cc(o,a.increment):Ct();const h=dr.fromServerFormat(a.fieldPath);return new hh(h,u)}(n,r)):[];var r;if(t.update){const r=ea(n,t.update.name),o=new Fr({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new Co((t.updateMask.fieldPaths||[]).map(p=>dr.fromServerFormat(p)));return new Ra(r,o,a,e,i)}return new tp(r,o,e,i)}if(t.delete){const r=ea(n,t.delete);return new fh(r,e)}if(t.verify){const r=ea(n,t.verify);return new fv(r,e)}return Ct()}function xx(n,t){return{documents:[_v(n,t.path)]}}function Ix(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=_v(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=_v(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const p=h.map(m=>function(v){if("=="===v.op){if(Fw(v.value))return{unaryFilter:{field:gh(v.field),op:"IS_NAN"}};if(XT(v.value))return{unaryFilter:{field:gh(v.field),op:"IS_NULL"}}}else if("!="===v.op){if(Fw(v.value))return{unaryFilter:{field:gh(v.field),op:"IS_NOT_NAN"}};if(XT(v.value))return{unaryFilter:{field:gh(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gh(v.field),op:Dx(v.op),value:v.value}}}(m));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(h){if(0!==h.length)return h.map(p=>{return{field:gh((m=p).field),direction:Sx(m.dir)};var m})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=(p=t.limit,n.dt||qf(p)?p:{value:p});var p,u,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function Yw(n){let t=Ax(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){zt(1===i);const m=e.from[0];m.allDescendants?r=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=Qw(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(m=>{return new $f(ap((v=m).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let u=null;e.limit&&(u=function(m){let v;return v="object"==typeof m?m.value:m,qf(v)?null:v}(e.limit));let h=null;var m;e.startAt&&(h=new Uu((m=e.startAt).values||[],!!m.before));let p=null;return e.endAt&&(p=function(m){return new Uu(m.values||[],!m.before)}(e.endAt)),av(t,r,a,o,u,"F",h,p)}function Qw(n){return n?void 0!==n.unaryFilter?[Px(n)]:void 0!==n.fieldFilter?[Mx(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Qw(t)).reduce((t,e)=>t.concat(e)):Ct():[]}function Sx(n){return mm[n]}function Dx(n){return KP[n]}function gh(n){return{fieldPath:n.canonicalString()}}function ap(n){return dr.fromServerFormat(n.fieldPath)}function Mx(n){return Jr.create(ap(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function Px(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ap(n.unaryFilter.field);return Jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ap(n.unaryFilter.field);return Jr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ap(n.unaryFilter.field);return Jr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ap(n.unaryFilter.field);return Jr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}function eR(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Jw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function us(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=mh(t)),t=Ms(n.get(e),t);return mh(t)}function Ms(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function mh(n){return n+"\x01\x01"}function Sl(n){const t=n.length;if(zt(t>=2),2===t)return zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),In.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const a=n.indexOf("\x01",o);switch((a<0||a>e)&&Ct(),n.charAt(a+1)){case"\x01":const u=n.substring(o,a);let h;0===r.length?h=u:(r+=u,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(o,a),r+="\0";break;case"\x11":r+=n.substring(o,a+1);break;default:Ct()}o=a+2}return new In(i)}const Rx=["userId","batchId"];function Xw(n,t){return[n,us(t)]}function tR(n,t,e){return[n,us(t),e]}const Nx={},kx=["prefixPath","collectionGroup","readTime","documentId"],bm=["prefixPath","collectionGroup","documentId"],nR=["collectionGroup","readTime","prefixPath","documentId"],eC=["canonicalId","targetId"],iR=["targetId","path"],Ox=["path","targetId"],rR=["collectionId","parent"],sR=["indexId","uid"],lp=["uid","sequenceNumber"],oR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tC=["indexId","uid","orderedDocumentKey"],Fx=["userId","collectionPath","documentId"],Lx=["userId","collectionPath","largestBatchId"],bv=["userId","collectionGroup","largestBatchId"],wv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kF=[...wv,"documentOverlays"],nC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ux=nC,Bx=[...Ux,"indexConfiguration","indexState","indexEntries"];class Hu extends Li{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Ur(n,t){const e=pt(n);return Xo.N(e.ee,t)}class Cv{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&GP(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=dm(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=dm(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=jw();return this.mutations.forEach(r=>{const o=t.get(r.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=e.has(r.key)?null:u;const h=zP(a,u);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(jt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),on())}isEqual(t){return this.batchId===t.batchId&&Mu(this.mutations,t.mutations,(e,i)=>hv(e,i))&&Mu(this.baseMutations,t.baseMutations,(e,i)=>hv(e,i))}}class wm{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){zt(t.mutations.length===i.length);let r=wx;const o=t.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new wm(t,e,i,r)}}class Vx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zu{constructor(t,e,i,r,o=jt.min(),a=jt.min(),u=hr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(t){return new Zu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class aR{constructor(t){this.ne=t}}function Hx(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Ev(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:op(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:_m(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:qu(t.version)};else{if(!t.isUnknownDocument())return Ct();i.unknownDocument={path:e.path.toArray(),version:qu(t.version)}}var r,o;return i}function Ev(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function qu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ju(n){const t=new Ti(n.seconds,n.nanoseconds);return jt.fromTimestamp(t)}function _h(n,t){const e=(t.baseMutations||[]).map(o=>Ww(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const a=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(a.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>Ww(n.ne,o)),r=Ti.fromMillis(t.localWriteTimeMs);return new Cv(t.batchId,r,e,i)}function cp(n){const t=ju(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ju(n.lastLimboFreeSnapshotVersion):jt.min();let i;var r;return void 0!==n.query.documents?(zt(1===(r=n.query).documents.length),i=Eo(Wf(Ax(r.documents[0])))):i=Eo(Yw(n.query)),new Zu(i,n.targetId,0,n.lastListenSequenceNumber,t,e,hr.fromBase64String(n.resumeToken))}function iC(n,t){const e=qu(t.snapshotVersion),i=qu(t.lastLimboFreeSnapshotVersion);let r;r=iv(t.target)?xx(n.ne,t.target):Ix(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bc(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function rC(n){const t=Yw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?HP(t,t.limit,"L"):t}function sC(n,t){return new Vx(t.largestBatchId,Ww(n.ne,t.overlayMutation))}function oC(n,t){const e=t.path.lastSegment();return[n,us(t.path.popLast()),e]}function Zx(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:qu(i.readTime),documentKey:us(i.documentKey.path),largestBatchId:i.largestBatchId}}class qx{getBundleMetadata(t,e){return aC(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ju(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return aC(t).put({bundleId:(i=e).id,createTime:qu(Lr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return lC(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:rC(r.bundledQuery),readTime:ju(r.readTime)};var r})}saveNamedQuery(t,e){return lC(t).put({name:(i=e).name,readTime:qu(Lr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function aC(n){return Ur(n,"bundles")}function lC(n){return Ur(n,"namedQueries")}class Cm{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new Cm(t,e.uid||"")}getOverlay(t,e){return Em(t).get(oC(this.userId,e)).next(i=>i?sC(this.wt,i):null)}getOverlays(t,e){const i=Na();return ye.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,a)=>{const u=new Vx(e,a);r.push(this.ie(t,u))}),ye.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(us(a.getCollectionPath())));const o=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(Em(t).W("collectionPathOverlayIndex",u))}),ye.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Na(),o=us(e),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Em(t).K("collectionPathOverlayIndex",a).next(u=>{for(const h of u){const p=sC(this.wt,h);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Na();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Em(t).J({index:"collectionGroupOverlayIndex",range:u},(h,p,m)=>{const v=sC(this.wt,p);o.size()<r||v.largestBatchId===a?(o.set(v.getKey(),v),a=v.largestBatchId):m.done()}).next(()=>o)}ie(t,e){return Em(t).put(function(i,r,o){const[a,u,h]=oC(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ph(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function Em(n){return Ur(n,"documentOverlays")}class yh{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Bi(t.integerValue));else if("doubleValue"in t){const i=Bi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),Ou(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(lh(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?ex(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):Ct()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),lt.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function OF(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function cC(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=OF(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}yh.ye=new yh;class FF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=cC(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=cC(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class LF{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class UF{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class Av{constructor(){this.Me=new FF,this.Fe=new LF(this.Me),this.$e=new UF(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class up{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new up(this.indexId,this.documentKey,this.arrayValue,i)}}function dp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=cR(n.arrayValue,t.arrayValue),0!==e?e:(e=cR(n.directionalValue,t.directionalValue),0!==e?e:lt.comparator(n.documentKey,t.documentKey)))}function cR(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class BF{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=jT(t);if(void 0!==e&&!this.Qe(e))return!1;const i=Pt(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const a=i[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[o++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],a))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class Tv{constructor(){this.ze=new jx}addToCollectionParentIndex(t,e){return this.ze.add(e),ye.resolve()}getCollectionParents(t,e){return ye.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return ye.resolve()}deleteFieldIndex(t,e){return ye.resolve()}getDocumentsMatchingTarget(t,e){return ye.resolve(null)}getIndexType(t,e){return ye.resolve(0)}getFieldIndexes(t,e){return ye.resolve([])}getNextCollectionGroupToUpdate(t){return ye.resolve(null)}getMinOffset(t,e){return ye.resolve(wo.min())}getMinOffsetFromCollectionGroup(t,e){return ye.resolve(wo.min())}updateCollectionGroup(t,e,i){return ye.resolve()}updateIndexEntries(t,e){return ye.resolve()}}class jx{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ln(In.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ln(In.comparator)).toArray()}}const Am=new Uint8Array(0);class xv{constructor(t,e){this.user=t,this.databaseId=e,this.He=new jx,this.Je=new Vu(i=>bc(i),(i,r)=>Gf(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:us(r)};return uC(t).put(o)}return ye.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Pu(e),""],!1,!0);return uC(t).K(r).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(Sl(a.parent))}return i})}addFieldIndex(t,e){const i=dC(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const a=vh(t);return o.next(u=>{a.put(Zx(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=dC(t),r=vh(t),o=hp(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=hp(t);let r=!0;const o=new Map;return ye.forEach(this.Ye(e),a=>this.Xe(t,a).next(u=>{r&&(r=!!u),o.set(a,u)})).next(()=>{if(r){let a=on();const u=[];return ye.forEach(o,(h,p)=>{var m;Ye("IndexedDbIndexManager",`Using index ${m=h,`id=${m.indexId}|cg=${m.collectionGroup}|f=${m.fields.map(he=>`${he.fieldPath}:${he.kind}`).join(",")}`} to execute ${bc(e)}`);const v=function(he,ne){const de=jT(ne);if(void 0===de)return null;for(const ke of rv(he,de.fieldPath))switch(ke.op){case"array-contains-any":return ke.value.arrayValue.values||[];case"array-contains":return[ke.value]}return null}(p,h),A=function(he,ne){const de=new Map;for(const ke of Pt(ne))for(const ze of rv(he,ke.fieldPath))switch(ze.op){case"==":case"in":de.set(ke.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return de.set(ke.fieldPath.canonicalString(),ze.value),Array.from(de.values())}return null}(p,h),I=function(he,ne){const de=[];let ke=!0;for(const ze of Pt(ne)){const ct=0===ze.kind?rx(he,ze.fieldPath,he.startAt):sx(he,ze.fieldPath,he.startAt);de.push(ct.value),ke&&(ke=ct.inclusive)}return new Uu(de,ke)}(p,h),M=function(he,ne){const de=[];let ke=!0;for(const ze of Pt(ne)){const ct=0===ze.kind?sx(he,ze.fieldPath,he.endAt):rx(he,ze.fieldPath,he.endAt);de.push(ct.value),ke&&(ke=ct.inclusive)}return new Uu(de,ke)}(p,h),R=this.Ze(h,p,I),L=this.Ze(h,p,M),q=this.tn(h,p,A),X=this.en(h.indexId,v,R,I.inclusive,L,M.inclusive,q);return ye.forEach(X,he=>i.j(he,e.limit).next(ne=>{ne.forEach(de=>{const ke=lt.fromSegments(de.documentKey);a.has(ke)||(a=a.add(ke),u.push(ke))})}))}).next(()=>u)}return ye.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,a,u){const h=(null!=e?e.length:1)*Math.max(i.length,o.length),p=h/(null!=e?e.length:1),m=[];for(let v=0;v<h;++v){const A=e?this.nn(e[v/p]):Am,I=this.sn(t,A,i[v%p],r),M=this.rn(t,A,o[v%p],a),R=u.map(L=>this.sn(t,A,L,!0));m.push(...this.createRange(I,M,R))}return m}sn(t,e,i,r){const o=new up(t,lt.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new up(t,lt.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new BF(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let a=null;for(const u of o)i.Ge(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;return ye.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(a){let u=new Ln(dr.comparator),h=!1;for(const p of a.filters){const m=p;m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:u=u.add(m.field))}for(const p of a.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new Av;for(const r of Pt(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const a=i.Be(r.kind);yh.ye.re(o,a)}return i.Oe()}nn(t){const e=new Av;return yh.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new Av;return yh.ye.re(ch(this.databaseId,e),i.Be(function(r){const o=Pt(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new Av);let o=0;for(const a of Pt(t)){const u=i[o++];for(const h of r)if(this.cn(e,a.fieldPath)&&Tl(u))r=this.an(r,a,u);else{const p=h.Be(a.kind);yh.ye.re(u,p)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const r=[...t],o=[];for(const a of i.arrayValue.values||[])for(const u of r){const h=new Av;h.seed(u.Oe()),yh.ye.re(a,h.Be(e.kind)),o.push(h)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof Jr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=dC(t),r=vh(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const a=[];return ye.forEach(o,u=>r.get([u.indexId,this.uid]).next(h=>{a.push(function(p,m){const v=m?new rm(m.sequenceNumber,new wo(ju(m.readTime),new lt(Sl(m.documentKey)),m.largestBatchId)):rm.empty(),A=p.fields.map(([I,M])=>new Yy(dr.fromServerFormat(I),M));return new im(p.indexId,p.collectionGroup,A,v)}(u,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Xt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=dC(t),o=vh(t);return this.ln(t).next(a=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ye.forEach(u,h=>o.put(Zx(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return ye.forEach(e,(r,o)=>{const a=i.get(r.collectionGroup);return(a?ye.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ye.forEach(u,h=>this.fn(t,r,h).next(p=>{const m=this.dn(o,h);return p.isEqual(m)?ye.resolve():this._n(t,o,h,p,m)}))))})}wn(t,e,i,r){return hp(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return hp(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=hp(t);let o=new Ln(dp);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(a,u)=>{o=o.add(new up(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}dn(t,e){let i=new Ln(dp);const r=this.on(e,t);if(null==r)return i;const o=jT(e);if(null!=o){const a=t.data.field(o.fieldPath);if(Tl(a))for(const u of a.arrayValue.values||[])i=i.add(new up(e.indexId,t.key,this.nn(u),r))}else i=i.add(new up(e.indexId,t.key,Am,r));return i}_n(t,e,i,r,o){Ye("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,h,p,m,v){const A=u.getIterator(),I=h.getIterator();let M=Zf(A),R=Zf(I);for(;M||R;){let L=!1,q=!1;if(M&&R){const X=p(M,R);X<0?q=!0:X>0&&(L=!0)}else null!=M?q=!0:L=!0;L?(m(R),R=Zf(I)):q?(v(M),M=Zf(A)):(M=Zf(A),R=Zf(I))}}(r,o,dp,u=>{a.push(this.wn(t,e,i,u))},u=>{a.push(this.mn(t,e,i,u))}),ye.waitFor(a)}ln(t){let e=1;return vh(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>dp(a,u)).filter((a,u,h)=>!u||0!==dp(a,h[u-1]));const r=[];r.push(t);for(const a of i){const u=dp(a,t),h=dp(a,e);if(0===u)r[0]=t.Le();else if(u>0&&h<0)r.push(a),r.push(a.Le());else if(h>0)break}r.push(e);const o=[];for(let a=0;a<r.length;a+=2)o.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,Am,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,Am,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(hC)}getMinOffset(t,e){return ye.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||Ct())).next(hC)}}function uC(n){return Ur(n,"collectionParents")}function hp(n){return Ur(n,"indexEntries")}function dC(n){return Ur(n,"indexConfiguration")}function vh(n){return Ur(n,"indexState")}function hC(n){zt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Vf(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new wo(t.readTime,t.documentKey,e)}const zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ps{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ps(t,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uR(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],a=IDBKeyRange.only(e.batchId);let u=0;const h=i.J({range:a},(m,v,A)=>(u++,A.delete()));o.push(h.next(()=>{zt(1===u)}));const p=[];for(const m of e.mutations){const v=tR(t,m.key.path,e.batchId);o.push(r.delete(v)),p.push(m.key)}return ye.waitFor(o).next(()=>p)}function Iv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Ct();t=n.noDocument}return JSON.stringify(t).length}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class Sv{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){zt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Sv(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ka(t).J({index:"userMutationsIndex",range:i},(r,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=fp(t),a=ka(t);return a.add({}).next(u=>{zt("number"==typeof u);const h=new Cv(u,e,i,r),p=function(A,I,M){const R=M.baseMutations.map(q=>ph(A.ne,q)),L=M.mutations.map(q=>ph(A.ne,q));return{userId:I,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:R,mutations:L}}(this.wt,this.userId,h),m=[];let v=new Ln((A,I)=>Xt(A.canonicalString(),I.canonicalString()));for(const A of r){const I=tR(this.userId,A.key.path,u);v=v.add(A.key.path.popLast()),m.push(a.put(p)),m.push(o.put(I,Nx))}return v.forEach(A=>{m.push(this.indexManager.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.gn[u]=h.keys()}),ye.waitFor(m).next(()=>h)})}lookupMutationBatch(t,e){return ka(t).get(e).next(i=>i?(zt(i.userId===this.userId),_h(this.wt,i)):null)}yn(t,e){return this.gn[e]?ye.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ka(t).J({index:"userMutationsIndex",range:r},(a,u,h)=>{u.userId===this.userId&&(zt(u.batchId>=i),o=_h(this.wt,u)),h.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ka(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ka(t).K("userMutationsIndex",e).next(i=>i.map(r=>_h(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Xw(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return fp(t).J({range:r},(a,u,h)=>{const[p,m,v]=a,A=Sl(m);if(p===this.userId&&e.path.isEqual(A))return ka(t).get(v).next(I=>{if(!I)throw Ct();zt(I.userId===this.userId),o.push(_h(this.wt,I))});h.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ln(Xt);const r=[];return e.forEach(o=>{const a=Xw(this.userId,o.path),u=IDBKeyRange.lowerBound(a),h=fp(t).J({range:u},(p,m,v)=>{const[A,I,M]=p,R=Sl(I);A===this.userId&&o.path.isEqual(R)?i=i.add(M):v.done()});r.push(h)}),ye.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=Xw(this.userId,i),a=IDBKeyRange.lowerBound(o);let u=new Ln(Xt);return fp(t).J({range:a},(h,p,m)=>{const[v,A,I]=h,M=Sl(A);v===this.userId&&i.isPrefixOf(M)?M.length===r&&(u=u.add(I)):m.done()}).next(()=>this.pn(t,u))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(ka(t).get(o).next(a=>{if(null===a)throw Ct();zt(a.userId===this.userId),i.push(_h(this.wt,a))}))}),ye.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return uR(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),ye.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ye.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return fp(t).J({range:i},(o,a,u)=>{if(o[0]===this.userId){const h=Sl(o[1]);r.push(h)}else u.done()}).next(()=>{zt(0===r.length)})})}containsKey(t,e){return Gx(t,this.userId,e)}Tn(t){return dR(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gx(n,t,e){const i=Xw(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return fp(n).J({range:o,H:!0},(u,h,p)=>{const[m,v,A]=u;m===t&&v===r&&(a=!0),p.done()}).next(()=>a)}function ka(n){return Ur(n,"mutations")}function fp(n){return Ur(n,"documentMutations")}function dR(n){return Ur(n,"mutationQueues")}class pp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new pp(0)}static Rn(){return new pp(-1)}}class VF{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new pp(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>jt.fromTimestamp(new Ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gp(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(zt(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return gp(t).J((a,u)=>{const h=cp(u);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,o.push(this.removeTargetData(t,h)))}).next(()=>ye.waitFor(o)).next(()=>r)}forEachTarget(t,e){return gp(t).J((i,r)=>{const o=cp(r);e(o)})}bn(t){return $x(t).get("targetGlobalKey").next(e=>(zt(null!==e),e))}Pn(t,e){return $x(t).put("targetGlobalKey",e)}vn(t,e){return gp(t).put(iC(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=bc(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return gp(t).J({range:r,index:"queryTargetsIndex"},(a,u,h)=>{const p=cp(u);Gf(e,p.target)&&(o=p,h.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=zu(t);return e.forEach(a=>{const u=us(a.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),ye.waitFor(r)}removeMatchingKeys(t,e,i){const r=zu(t);return ye.forEach(e,o=>{const a=us(o.path);return ye.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=zu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=zu(t);let o=on();return r.J({range:i,H:!0},(a,u,h)=>{const p=Sl(a[1]),m=new lt(p);o=o.add(m)}).next(()=>o)}containsKey(t,e){const i=us(e.path),r=IDBKeyRange.bound([i],[Pu(i)],!1,!0);let o=0;return zu(t).J({index:"documentTargetsIndex",H:!0,range:r},([a,u],h,p)=>{0!==a&&(o++,p.done())}).next(()=>o>0)}te(t,e){return gp(t).get(e).next(i=>i?cp(i):null)}}function gp(n){return Ur(n,"targets")}function $x(n){return Ur(n,"targetGlobal")}function zu(n){return Ur(n,"targetDocuments")}function hR([n,t],[e,i]){const r=Xt(n,e);return 0===r?Xt(t,i):r}class fR{constructor(t){this.Sn=t,this.buffer=new Ln(hR),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();hR(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fC{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Ye("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ie.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){vc(i)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sh(i)}yield e.kn(3e5)}))}}class pR{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ye.resolve(Ks.ot);const i=new fR(e);return this.On.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(zx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zx):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,r,o,a,u,h,p;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,a=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(p=Date.now(),Sw()<=$o.in.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-m}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${o} targets in `+(h-u)+`ms\n\tRemoved ${v} documents in `+(p-h)+`ms\nTotal Duration: ${p-m}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}class Ao{constructor(t,e){this.db=t,this.garbageCollector=new pR(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return Dv(t,i)}removeReference(t,e,i){return Dv(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Dv(t,e)}Un(t,e){return function(i,r){let o=!1;return dR(i).Y(a=>Gx(i,a,r).next(u=>(u&&(o=!0),ye.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(a,u)=>{if(u<=e){const h=this.Un(t,a).next(p=>{if(!p)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a,jt.min()),zu(t).delete([0,us(a.path)])))});r.push(h)}}).next(()=>ye.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Dv(t,e)}Ln(t,e){const i=zu(t);let r,o=Ks.ot;return i.J({index:"documentTargetsIndex"},([a,u],{path:h,sequenceNumber:p})=>{0===a?(o!==Ks.ot&&e(new lt(Sl(r)),o),o=p,r=h):o=Ks.ot}).next(()=>{o!==Ks.ot&&e(new lt(Sl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Dv(n,t){return zu(n).put((i=n.currentSequenceNumber,{targetId:0,path:us(t.path),sequenceNumber:i}));var i}class Mv{constructor(){this.changes=new Vu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ye.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gR{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Gu(t).put(i)}removeEntry(t,e,i){return Gu(t).delete(function(r,o){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ev(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=ui.newInvalidDocument(e);return Gu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Tm(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:ui.newInvalidDocument(e)};return Gu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Tm(e))},(r,o)=>{i={document:this.Kn(e,o),size:Iv(o)}}).next(()=>i)}getEntries(t,e){let i=Qs();return this.Qn(t,e,(r,o)=>{const a=this.Kn(r,o);i=i.insert(r,a)}).next(()=>i)}jn(t,e){let i=Qs(),r=new Ui(lt.comparator);return this.Qn(t,e,(o,a)=>{const u=this.Kn(o,a);i=i.insert(o,u),r=r.insert(o,Iv(a))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return ye.resolve();let r=new Ln(_C);e.forEach(h=>r=r.add(h));const o=IDBKeyRange.bound(Tm(r.first()),Tm(r.last())),a=r.getIterator();let u=a.getNext();return Gu(t).J({index:"documentKeyIndex",range:o},(h,p,m)=>{const v=lt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&_C(u,v)<0;)i(u,null),u=a.getNext();u&&u.isEqual(v)&&(i(u,p),u=a.hasNext()?a.getNext():null),u?m.q(Tm(u)):m.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),Ev(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gu(t).K(IDBKeyRange.bound(r,o,!0)).next(a=>{let u=Qs();for(const h of a){const p=this.Kn(lt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);u=u.insert(p.key,p)}return u})}getAllFromCollectionGroup(t,e,i,r){let o=Qs();const a=mC(e,i),u=mC(e,wo.max());return Gu(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(h,p,m)=>{const v=this.Kn(lt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(v.key,v),o.size===r&&m.done()}).next(()=>o)}newChangeBuffer(t){return new pC(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return gC(t).get("remoteDocumentGlobalKey").next(e=>(zt(!!e),e))}qn(t,e){return gC(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function lR(n,t){let e;if(t.document)e=vv(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=lt.fromSegments(t.noDocument.path),r=ju(t.noDocument.readTime);e=ui.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ct();{const i=lt.fromSegments(t.unknownDocument.path),r=ju(t.unknownDocument.version);e=ui.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ti(i[0],i[1]);return jt.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(jt.min()))return i}return ui.newInvalidDocument(t)}}function Wx(n){return new gR(n)}class pC extends Mv{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new Vu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ln((o,a)=>Xt(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const u=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,u.readTime)),a.isValidDocument()){const h=Hx(this.zn.wt,a);r=r.add(o.path.popLast()),i+=Iv(h)-u.size,e.push(this.zn.addEntry(t,o,h))}else if(i-=u.size,this.trackRemovals){const h=Hx(this.zn.wt,a.convertToNoDocument(jt.min()));e.push(this.zn.addEntry(t,o,h))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),ye.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,a)=>{this.Hn.set(o,{size:a,readTime:i.get(o).readTime})}),i))}}function gC(n){return Ur(n,"remoteDocumentGlobal")}function Gu(n){return Ur(n,"remoteDocumentsV14")}function Tm(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mC(n,t){const e=t.documentKey.path.toArray();return[n,Ev(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function _C(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Xt(e[o],i[o]),r)return r;return r=Xt(e.length,i.length),r||(r=Xt(e[e.length-2],i[i.length-2]),r||Xt(e[e.length-1],i[i.length-1]))}class mR{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class yC{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&dm(i.mutation,r,Co.empty(),Ti.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,on()).next(()=>i))}getLocalViewOfDocuments(t,e,i=on()){const r=Na();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let a=ip();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Na();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,on()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let o=Qs();const a=rp(),u=rp();return e.forEach((h,p)=>{const m=i.get(p.key);r.has(p.key)&&(void 0===m||m.mutation instanceof Ra)?o=o.insert(p.key,p):void 0!==m&&(a.set(p.key,m.mutation.getFieldMask()),dm(m.mutation,p,m.mutation.getFieldMask(),Ti.now()))}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((p,m)=>a.set(p,m)),e.forEach((p,m)=>{var v;return u.set(p,new mR(m,null!==(v=a.get(p))&&void 0!==v?v:null))}),u))}recalculateAndSaveOverlays(t,e){const i=rp();let r=new Ui((a,u)=>a-u),o=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(h=>{const p=e.get(h);if(null===p)return;let m=i.get(h)||Co.empty();m=u.applyToLocalView(p,m),i.set(h,m);const v=(r.get(u.batchId)||on()).add(h);r=r.insert(u.batchId,v)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,v=jw();m.forEach(A=>{if(!o.has(A)){const I=zP(e.get(A),i.get(A));null!==I&&v.set(A,I),o=o.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(t,p,v))}return ye.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return lt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):lv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ye.resolve(Na());let u=-1,h=o;return a.next(p=>ye.forEach(p,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?ye.resolve():this.getBaseDocument(t,m,v).next(A=>{h=h.insert(m,A)}))).next(()=>this.populateOverlays(t,p,o)).next(()=>this.computeViews(t,h,p,on())).next(m=>({batchId:u,changes:qw(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new lt(e)).next(i=>{let r=ip();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=ip();return this.indexManager.getCollectionParents(t,r).next(a=>ye.forEach(a,u=>{const h=(p=e,m=u.child(r),new xl(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,m;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(p=>{p.forEach((m,v)=>{o=o.insert(m,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((u,h)=>{const p=h.getKey();null===r.get(p)&&(r=r.insert(p,ui.newInvalidDocument(p)))});let a=ip();return r.forEach((u,h)=>{const p=o.get(u);void 0!==p&&dm(p.mutation,h,Co.empty(),Ti.now()),cv(e,h)&&(a=a.insert(u,h))}),a})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ye.resolve(ui.newInvalidDocument(e))}}class _R{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return ye.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Lr(i.createTime)}),ye.resolve()}getNamedQuery(t,e){return ye.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:rC(i.bundledQuery),readTime:Lr(i.readTime)}),ye.resolve();var i}}class vC{constructor(){this.overlays=new Ui(lt.comparator),this.Xn=new Map}getOverlay(t,e){return ye.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Na();return ye.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),ye.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),ye.resolve()}getOverlaysForCollection(t,e,i){const r=Na(),o=e.length+1,a=new lt(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return ye.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ui((p,m)=>p-m);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let m=o.get(p.largestBatchId);null===m&&(m=Na(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Na(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=r)););return ye.resolve(u)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Vx(e,i));let o=this.Xn.get(e);void 0===o&&(o=on(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class Dl{constructor(){this.Zn=new Ln(Ar.ts),this.es=new Ln(Ar.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Ar(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Ar(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new lt(new In([])),i=new Ar(e,t),r=new Ar(e,t+1),o=[];return this.es.forEachInRange([i,r],a=>{this.rs(a),o.push(a.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new lt(new In([])),i=new Ar(e,t),r=new Ar(e,t+1);let o=on();return this.es.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new Ar(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ar{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return lt.comparator(t.key,e.key)||Xt(t.ls,e.ls)}static ns(t,e){return Xt(t.ls,e.ls)||lt.comparator(t.key,e.key)}}class bC{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Ln(Ar.ts)}checkEmpty(t){return ye.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const a=new Cv(o,e,i,r);this.mutationQueue.push(a);for(const u of r)this.ds=this.ds.add(new Ar(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ye.resolve(a)}lookupMutationBatch(t,e){return ye.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ar(e,0),r=new Ar(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],a=>{const u=this._s(a.ls);o.push(u)}),ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ln(Xt);return e.forEach(r=>{const o=new Ar(r,0),a=new Ar(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,a],u=>{i=i.add(u.ls)})}),ye.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;lt.isDocumentKey(o)||(o=o.child(""));const a=new Ar(new lt(o),0);let u=new Ln(Xt);return this.ds.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(u=u.add(h.ls)),!0)},a),ye.resolve(this.gs(u))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){zt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return ye.forEach(e.mutations,r=>{const o=new Ar(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Ar(e,0),r=this.ds.firstAfterOrEqual(i);return ye.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ye.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Ec{constructor(t){this.ps=t,this.docs=new Ui(lt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ye.resolve(i?i.document.mutableCopy():ui.newInvalidDocument(e))}getEntries(t,e){let i=Qs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ui.newInvalidDocument(r))}),ye.resolve(i)}getAllFromCollection(t,e,i){let r=Qs();const o=new lt(e.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:u,value:{document:h}}=a.getNext();if(!e.isPrefixOf(u.path))break;u.path.length>e.length+1||Vf(rh(h),i)<=0||(r=r.insert(h.key,h.mutableCopy()))}return ye.resolve(r)}getAllFromCollectionGroup(t,e,i,r){Ct()}Is(t,e){return ye.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new yR(this)}getSize(t){return ye.resolve(this.size)}}class yR extends Mv{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),ye.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class HF{constructor(t){this.persistence=t,this.Ts=new Vu(e=>bc(e),Gf),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Es=0,this.As=new Dl,this.targetCount=0,this.Rs=pp.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),ye.resolve()}getLastRemoteSnapshotVersion(t){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ye.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),ye.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new pp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,ye.resolve()}updateTargetData(t,e){return this.vn(e),ye.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,ye.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.Ts.delete(a),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ye.waitFor(o).next(()=>r)}getTargetCount(t){return ye.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return ye.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),ye.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(a=>{o.push(r.markPotentiallyOrphaned(t,a))}),ye.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),ye.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return ye.resolve(i)}containsKey(t,e){return ye.resolve(this.As.containsKey(e))}}class Yx{constructor(t,e){this.bs={},this.overlays={},this.Ps=new Ks(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new HF(this),this.indexManager=new Tv,this.remoteDocumentCache=new Ec(i=>this.referenceDelegate.Ss(i)),this.wt=new aR(e),this.Ds=new _R(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new vC,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new bC(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Ye("MemoryPersistence","Starting transaction:",t);const r=new vR(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return ye.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class vR extends Li{constructor(t){super(),this.currentSequenceNumber=t}}class Pv{constructor(t){this.persistence=t,this.ks=new Dl,this.Os=null}static Ms(t){return new Pv(t)}get Fs(){if(this.Os)return this.Os;throw Ct()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),ye.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),ye.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Fs,i=>{const r=lt.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,jt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return ye.or([()=>ye.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class bR{constructor(t){this.wt=t}O(t,e,i,r){const o=new Qy("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rx,{unique:!0}),u.createObjectStore("documentMutations"),wC(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=ye.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),wC(t)),a=a.next(()=>function(u){const h=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(o))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,h){return h.store("mutations").K().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rx,{unique:!0});const m=h.store("mutations"),v=p.map(A=>m.put(A));return ye.waitFor(v)})}(t,o))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Bs(o))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(a=a.next(()=>this.Us(o))),i<8&&r>=8&&(a=a.next(()=>this.qs(t,o))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.Ks(o))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:Fx});h.createIndex("collectionPathOverlayIndex",Lx,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",bv,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:kx});h.createIndex("documentKeyIndex",bm),h.createIndex("collectionGroupIndex",nR)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.Qs(t,o))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:sR}).createIndex("sequenceNumberIndex",lp,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:oR}).createIndex("documentKeyIndex",tC,{unique:!1})}(t))),a}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=Iv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>ye.forEach(r,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",a).next(u=>ye.forEach(u,h=>{zt(h.userId===o.userId);const p=_h(this.wt,h);return uR(t,o.userId,p).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((a,u)=>{const h=new In(a),p=[0,us(h)];o.push(e.get(p).next(m=>m?ye.resolve():e.put({targetId:0,path:us(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ye.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:rR});const i=e.store("collectionParents"),r=new jx,o=a=>{if(r.add(a)){const u=a.lastSegment(),h=a.popLast();return i.put({collectionId:u,parent:us(h)})}};return e.store("remoteDocuments").J({H:!0},(a,u)=>{const h=new In(a);return o(h.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([a,u,h],p)=>{const m=Sl(u);return o(m.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=cp(r),a=iC(this.wt,o);return e.put(a)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,a)=>{const u=e.store("remoteDocumentsV14"),h=(p=a,p.document?new lt(In.fromString(p.document.name).popFirst(5)):p.noDocument?lt.fromSegments(p.noDocument.path):p.unknownDocument?lt.fromSegments(p.unknownDocument.path):Ct()).path.toArray();var p;const m={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(m))}).next(()=>ye.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=Wx(this.wt),o=new Yx(Pv.Ms,this.wt.ne);return i.K().next(a=>{const u=new Map;return a.forEach(h=>{var p;let m=null!==(p=u.get(h.userId))&&void 0!==p?p:on();_h(this.wt,h).keys().forEach(v=>m=m.add(v)),u.set(h.userId,m)}),ye.forEach(u,(h,p)=>{const m=new kr(p),v=Cm.se(this.wt,m),A=o.getIndexManager(m),I=Sv.se(m,this.wt,A,o.referenceDelegate);return new yC(r,I,v,A).recalculateAndSaveOverlaysForDocumentKeys(new Hu(e,Ks.ot),h).next()})})}}function wC(n){n.createObjectStore("targetDocuments",{keyPath:iR}).createIndex("documentTargetsIndex",Ox,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eC,{unique:!0}),n.createObjectStore("targetGlobal")}const Kx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rv{constructor(t,e,i,r,o,a,u,h,p,m,v=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=a,this.document=u,this.Ws=p,this.zs=m,this.Hs=v,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=A=>Promise.resolve(),!Rv.V())throw new Ge(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ao(this,r),this.ei=e+"main",this.wt=new aR(h),this.ni=new Xo(this.ei,this.Hs,new bR(this.wt)),this.Vs=new VF(this.referenceDelegate,this.wt),this.remoteDocumentCache=Wx(this.wt),this.Ds=new qx,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===m&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Ce.FAILED_PRECONDITION,Kx);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new Ks(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,Ie.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,Ie.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Im(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(vc(t))return Ye("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return xm(t).get("owner").next(e=>ye.resolve(this.di(e)))}_i(t){return Im(t).delete(this.clientId)}wi(){var t=this;return(0,Ie.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ur(i,"clientMetadata");return r.K().next(o=>{const a=t.gi(o,18e5),u=o.filter(h=>-1===a.indexOf(h));return ye.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?ye.resolve(!0):xm(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ge(Ce.FAILED_PRECONDITION,Kx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Im(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ye("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ie.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Hu(e,Ks.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>Im(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return Sv.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new xv(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return Cm.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Ye("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(a=this.Hs)?Bx:14===a?Ux:13===a?nC:12===a?kF:11===a?wv:void Ct();var a;let u;return this.ni.runTransaction(t,r,o,h=>(u=new Hu(h,this.Ps?this.Ps.next():Ks.ot),"readwrite-primary"===e?this.ai(u).next(p=>!!p||this.hi(u)).next(p=>{if(!p)throw ur(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ge(Ce.FAILED_PRECONDITION,sm);return i(u)}).next(p=>this.fi(u).next(()=>p)):this.bi(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}bi(t){return xm(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ge(Ce.FAILED_PRECONDITION,Kx)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xm(t).put("owner",e)}static V(){return Xo.V()}li(t){const e=xm(t);return e.get("owner").next(i=>this.di(i)?(Ye("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ye.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ur(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,U.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Ye("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ur("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){ur("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function xm(n){return Ur(n,"owner")}function Im(n){return Ur(n,"clientMetadata")}function Qx(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Sm{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=on(),r=on();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Sm(t,e.fromCache,i,r)}}class CC{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){return ye.resolve(null)}xi(t,e,i,r){return function VP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(jt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const a=this.ki(e,o);return this.Oi(e,a,i,r)?this.Ni(t,e):(Sw()<=$o.in.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wc(e)),this.Mi(t,a,e,zT(r,-1)))})}ki(t,e){let i=new Ln(Vw(t));return e.forEach((r,o)=>{cv(t,o)&&(i=i.add(o))}),i}Oi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return Sw()<=$o.in.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",wc(e)),this.Di.getDocumentsMatchingQuery(t,e,wo.min())}Mi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}class Jx{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new Ui(Xt),this.Bi=new Vu(o=>bc(o),Gf),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yC(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function Xx(n,t,e,i){return new Jx(n,t,e,i)}function EC(n,t){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,Ie.Z)(function*(n,t){const e=pt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let h=on();for(const p of r){a.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return e.localDocuments.getDocuments(i,h).next(p=>({Ki:p,removedBatchIds:a,addedBatchIds:u}))})})}),Nv.apply(this,arguments)}function kv(n,t){const e=pt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(a,u,h,p){const m=h.batch,v=m.keys();let A=ye.resolve();return v.forEach(I=>{A=A.next(()=>p.getEntry(u,I)).next(M=>{const R=h.docVersions.get(I);zt(null!==R),M.version.compareTo(R)<0&&(m.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),p.addEntry(M)))})}),A.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=on();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Dm(n){const t=pt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function eI(n,t){const e=pt(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const u=[];t.targetChanges.forEach((m,v)=>{const A=r.get(v);if(!A)return;u.push(e.Vs.removeMatchingKeys(o,m.removedDocuments,v).next(()=>e.Vs.addMatchingKeys(o,m.addedDocuments,v)));let I=A.withSequenceNumber(o.currentSequenceNumber);var M,R,L;t.targetMismatches.has(v)?I=I.withResumeToken(hr.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,i)),r=r.insert(v,I),R=I,L=m,(0===(M=A).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&u.push(e.Vs.updateTargetData(o,I))});let h=Qs(),p=on();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(tI(o,a,t.documentUpdates).next(m=>{h=m.Gi,p=m.Qi})),!i.isEqual(jt.min())){const m=e.Vs.getLastRemoteSnapshotVersion(o).next(v=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return ye.waitFor(u).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(e.$i=r,o))}function tI(n,t,e){let i=on(),r=on();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let a=Qs();return e.forEach((u,h)=>{const p=o.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(jt.min())?(t.removeEntry(u,h.readTime),a=a.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),a=a.insert(u,h)):Ye("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{Gi:a,Qi:r}})}function nI(n,t){const e=pt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function bh(n,t){const e=pt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,ye.resolve(r)):e.Vs.allocateTargetId(i).next(a=>(r=new Zu(t,a,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function mp(n,t,e){return AC.apply(this,arguments)}function AC(){return AC=(0,Ie.Z)(function*(n,t,e){const i=pt(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!vc(a))throw a;Ye("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),AC.apply(this,arguments)}function TC(n,t,e){const i=pt(n);let r=jt.min(),o=on();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,p){const m=pt(u),v=m.Bi.get(p);return void 0!==v?ye.resolve(m.$i.get(v)):m.Vs.getTargetData(h,p)}(i,a,Eo(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>i.Fi.getDocumentsMatchingQuery(a,t,e?r:jt.min(),e?o:on())).next(u=>(iI(i,lx(t),u),{documents:u,ji:o})))}function wR(n,t){const e=pt(n),i=pt(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(a=>a?a.target:null))}function xC(n,t){const e=pt(n),i=e.Li.get(t)||jt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,zT(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(iI(e,t,r),r))}function iI(n,t,e){let i=jt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function IC(){return IC=(0,Ie.Z)(function*(n,t,e,i){const r=pt(n);let o=on(),a=Qs();for(const p of e){const m=t.Wi(p.metadata.name);p.document&&(o=o.add(m));const v=t.zi(p);v.setReadTime(t.Hi(p.metadata.readTime)),a=a.insert(m,v)}const u=r.Ui.newChangeBuffer({trackRemovals:!0}),h=yield bh(r,(p=i,Eo(Wf(In.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>tI(p,u,a).next(m=>(u.apply(p),m)).next(m=>r.Vs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>r.Vs.addMatchingKeys(p,o,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,m.Gi,m.Qi)).next(()=>m.Gi)))}),IC.apply(this,arguments)}function ZF(n,t){return rI.apply(this,arguments)}function rI(){return rI=(0,Ie.Z)(function*(n,t,e=on()){const i=yield bh(n,Eo(rC(t.bundledQuery))),r=pt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const a=Lr(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ds.saveNamedQuery(o,t);const u=i.withResumeToken(hr.EMPTY_BYTE_STRING,a);return r.$i=r.$i.insert(u.targetId,u),r.Vs.updateTargetData(o,u).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),rI.apply(this,arguments)}function ER(n,t){return`firestore_clients_${n}_${t}`}function AR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function sI(n,t){return`firestore_targets_${n}_${t}`}class Ov{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new Ge(r.error.code,r.error.message))),a?new Ov(t,e,r.state,o):(ur("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $u{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ge(i.error.code,i.error.message))),o?new $u(t,i.state,r):(ur("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fv{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=hm();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=QT(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new Fv(t,o):(ur("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class SC{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new SC(e.clientId,e.onlineState):(ur("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Lv{constructor(){this.activeTargetIds=hm()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ac{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ui(Xt),this.started=!1,this.ir=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=ER(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Lv),this.cr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(ER(t.persistenceKey,r));if(o){const a=Fv.Ji(r,o);a&&(t.sr=t.sr.insert(a.clientId,a))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(sI(this.persistenceKey,t));if(i){const r=$u.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(sI(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ye("SharedClientState","READ",t,e),e}setItem(t,e){Ye("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ye("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ye("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ie.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let a=Ks.ot;if(null!=o)try{const u=JSON.parse(o);zt("number"==typeof u),a=u}catch(u){ur("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==Ks.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new Ov(this.currentUser,t,e,i),o=AR(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=AR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=sI(this.persistenceKey,t),o=new $u(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return Fv.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return Ov.Ji(new kr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return $u.Ji(r,e)}wr(t){return SC.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,Ie.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Ye("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),a=[],u=[];return o.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{o.has(h)||u.push(h)}),this.syncEngine.Mr(a,u).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=hm();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class DC{constructor(){this.Fr=new Lv,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new Lv,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MC{Br(t){}shutdown(){}}class Uv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PC{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class RC extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const a=this.oo(t,e);Ye("RestConnection","Sending: ",a,i);const u={};return this.uo(u,r,o),this.co(t,a,u,i).then(h=>(Ye("RestConnection","Received: ",h),h),h=>{throw nm("RestConnection",`${t} failed with error: `,h,"url: ",a,"request:",i),h})}ao(t,e,i,r,o,a){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Bf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${TR[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,a)=>{const u=new FT;u.listenOnce(NT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case em.NO_ERROR:const p=u.getResponseJson();Ye("Connection","XHR received:",JSON.stringify(p)),o(p);break;case em.TIMEOUT:Ye("Connection",'RPC "'+t+'" timed out'),a(new Ge(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const m=u.getStatus();if(Ye("Connection",'RPC "'+t+'" failed with status:',m,"response text:",u.getResponseText()),m>0){const v=u.getResponseJson().error;if(v&&v.status&&v.message){const A=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(M)>=0?M:Ce.UNKNOWN}(v.status);a(new Ge(A,v.message))}else a(new Ge(Ce.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ge(Ce.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{Ye("Connection",'RPC "'+t+'" completed.')}});const h=JSON.stringify(r);u.send(e,"POST",h,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Tw(),a=Wy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new OT({})),this.uo(u.initMessageHeaders,e,i),(0,U.uI)()||(0,U.b$)()||(0,U.d)()||(0,U.w1)()||(0,U.Mn)()||(0,U.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const h=r.join("");Ye("Connection","Creating WebChannel: "+h,u);const p=o.createWebChannel(h,u);let m=!1,v=!1;const A=new PC({jr:M=>{v?Ye("Connection","Not sending because WebChannel is closed:",M):(m||(Ye("Connection","Opening WebChannel transport."),p.open(),m=!0),Ye("Connection","WebChannel sending:",M),p.send(M))},Wr:()=>p.close()}),I=(M,R,L)=>{M.listen(R,q=>{try{L(q)}catch(X){setTimeout(()=>{throw X},0)}})};return I(p,tm.EventType.OPEN,()=>{v||Ye("Connection","WebChannel transport opened.")}),I(p,tm.EventType.CLOSE,()=>{v||(v=!0,Ye("Connection","WebChannel transport closed"),A.eo())}),I(p,tm.EventType.ERROR,M=>{v||(v=!0,nm("Connection","WebChannel transport errored:",M),A.eo(new Ge(Ce.UNAVAILABLE,"The operation could not be completed")))}),I(p,tm.EventType.MESSAGE,M=>{var R;if(!v){const L=M.data[0];zt(!!L);const q=L,X=q.error||(null===(R=q[0])||void 0===R?void 0:R.error);if(X){Ye("Connection","WebChannel received error:",X);const he=X.status;let ne=function(ke){const ze=rr[ke];if(void 0!==ze)return bx(ze)}(he),de=X.message;void 0===ne&&(ne=Ce.INTERNAL,de="Unknown error status: "+he+" with message "+X.message),v=!0,A.eo(new Ge(ne,de)),p.close()}else Ye("Connection","WebChannel received:",L),A.no(L)}}),I(a,kT.STAT_EVENT,M=>{M.stat===xw.PROXY?Ye("Connection","Detected buffering proxy"):M.stat===xw.NOPROXY&&Ye("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.Zr()},0),A}}function Mm(){return typeof window<"u"?window:null}function NC(){return typeof document<"u"?document:null}function Bv(n){return new QP(n,!0)}class oI{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class xR{constructor(t,e,i,r,o,a,u,h){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new oI(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Ie.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,Ie.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,Ie.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===Ce.RESOURCE_EXHAUSTED?(ur(e.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===Ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ge(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,Ie.Z)(function*(){t.state=0,t.start()}))}qo(t){return Ye("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aI extends xR{constructor(t,e,i,r,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function $w(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:Ct(),r=t.targetChange.targetIds||[],o=function(h,p){return h.dt?(zt(void 0===p||"string"==typeof p),hr.fromBase64String(p||"")):(zt(void 0===p||p instanceof Uint8Array),hr.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(h){const p=void 0===h.code?Ce.UNKNOWN:bx(h.code);return new Ge(p,h.message||"")}(a);e=new Cx(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=ea(n,i.document.name),o=Lr(i.document.updateTime),a=new Fr({mapValue:{fields:i.document.fields}}),u=ui.newFoundDocument(r,o,a);e=new pv(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const i=t.documentDelete,r=ea(n,i.document),o=i.readTime?Lr(i.readTime):jt.min(),a=ui.newNoDocument(r,o);e=new pv([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=ea(n,i.document);e=new pv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ct();{const i=t.filter,o=new yx(i.count||0);e=new sp(i.targetId,o)}}var h;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return jt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?jt.min():o.readTime?Lr(o.readTime):jt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=vm(this.wt),e.addTarget=function(r,o){let a;const u=o.target;return a=iv(u)?{documents:xx(r,u)}:{query:Ix(r,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=ym(r,o.resumeToken):o.snapshotVersion.compareTo(jt.min())>0&&(a.readTime=_m(r,o.snapshotVersion.toTimestamp())),a}(this.wt,t);const i=function Kw(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=vm(this.wt),e.removeTarget=t,this.Mo(e)}}class IR extends xR{constructor(t,e,i,r,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function XP(n,t){return n&&n.length>0?(zt(void 0!==t),n.map(e=>function(i,r){let o=Lr(i.updateTime?i.updateTime:r);return o.isEqual(jt.min())&&(o=Lr(r)),new jP(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Lr(t.commitTime);return this.listener.Jo(i,e)}return zt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=vm(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ph(this.wt,i))};this.Mo(e)}}class SR extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ge(Ce.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.bo.ao(t,e,i,o,a,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Ce.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class DR{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ur(e),this.su=!1):Ye("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class MR{constructor(t,e,i,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(u=>{i.enqueueAndForget((0,Ie.Z)(function*(){var h;Wu(a)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,Ie.Z)(function*(p){const m=pt(p);m.lu.add(4),yield wh(m),m._u.set("Unknown"),m.lu.delete(4),yield _p(m)}),function(p){return h.apply(this,arguments)})(a))}))}),this._u=new DR(i,r)}}function _p(n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,Ie.Z)(function*(n){if(Wu(n))for(const t of n.fu)yield t(!0)}),Vv.apply(this,arguments)}function wh(n){return kC.apply(this,arguments)}function kC(){return kC=(0,Ie.Z)(function*(n){for(const t of n.fu)yield t(!1)}),kC.apply(this,arguments)}function Hv(n,t){const e=pt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),Rm(e)?Zv(e):K(e).Co()&&Pm(e,t))}function yp(n,t){const e=pt(n),i=K(e);e.hu.delete(t),i.Co()&&PR(e,t),0===e.hu.size&&(i.Co()?i.ko():Wu(e)&&e._u.set("Unknown"))}function Pm(n,t){n.wu.Nt(t.targetId),K(n).Qo(t)}function PR(n,t){n.wu.Nt(t),K(n).jo(t)}function Zv(n){n.wu=new Il({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),K(n).start(),n._u.iu()}function Rm(n){return Wu(n)&&!K(n).Do()&&n.hu.size>0}function Wu(n){return 0===pt(n).lu.size}function lI(n){n.wu=void 0}function qF(n){return cI.apply(this,arguments)}function cI(){return cI=(0,Ie.Z)(function*(n){n.hu.forEach((t,e)=>{Pm(n,t)})}),cI.apply(this,arguments)}function RR(n,t){return OC.apply(this,arguments)}function OC(){return OC=(0,Ie.Z)(function*(n,t){lI(n),Rm(n)?(n._u.uu(t),Zv(n)):n._u.set("Unknown")}),OC.apply(this,arguments)}function NR(n,t,e){return uI.apply(this,arguments)}function uI(){return uI=(0,Ie.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof Cx&&2===t.state&&t.cause)try{yield(i=(0,Ie.Z)(function*(r,o){const a=o.cause;for(const u of o.targetIds)r.hu.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.hu.delete(u),r.wu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ye("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield FC(n,i)}else if(t instanceof pv?n.wu.Ut(t):t instanceof sp?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(jt.min()))try{const i=yield Dm(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const a=r.wu.Yt(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=r.hu.get(h);p&&r.hu.set(h,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach(u=>{const h=r.hu.get(u);if(!h)return;r.hu.set(u,h.withResumeToken(hr.EMPTY_BYTE_STRING,h.snapshotVersion)),PR(r,u);const p=new Zu(h.target,u,1,h.sequenceNumber);Pm(r,p)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ye("RemoteStore","Failed to raise snapshot:",i),yield FC(n,i)}var i}),uI.apply(this,arguments)}function FC(n,t,e){return dI.apply(this,arguments)}function dI(){return dI=(0,Ie.Z)(function*(n,t,e){if(!vc(t))throw t;n.lu.add(1),yield wh(n),n._u.set("Offline"),e||(e=()=>Dm(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield _p(n)}))}),dI.apply(this,arguments)}function kR(n,t){return t().catch(e=>FC(n,e,t))}function Nm(n){return LC.apply(this,arguments)}function LC(){return LC=(0,Ie.Z)(function*(n){const t=pt(n),e=se(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;jF(t);)try{const r=yield nI(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,zF(t,r)}catch(r){yield FC(t,r)}OR(t)&&FR(t)}),LC.apply(this,arguments)}function jF(n){return Wu(n)&&n.au.length<10}function zF(n,t){n.au.push(t);const e=se(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function OR(n){return Wu(n)&&!se(n).Do()&&n.au.length>0}function FR(n){se(n).start()}function l(n){return c.apply(this,arguments)}function c(){return c=(0,Ie.Z)(function*(n){se(n).Xo()}),c.apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return f=(0,Ie.Z)(function*(n){const t=se(n);for(const e of n.au)t.Ho(e.mutations)}),f.apply(this,arguments)}function g(n,t,e){return _.apply(this,arguments)}function _(){return _=(0,Ie.Z)(function*(n,t,e){const i=n.au.shift(),r=wm.from(i,t,e);yield kR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Nm(n)}),_.apply(this,arguments)}function w(n,t){return E.apply(this,arguments)}function E(){return E=(0,Ie.Z)(function*(n,t){var e;t&&se(n).zo&&(yield(e=(0,Ie.Z)(function*(i,r){if(vx(o=r.code)&&o!==Ce.ABORTED){const a=i.au.shift();se(i).No(),yield kR(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Nm(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),OR(n)&&FR(n)}),E.apply(this,arguments)}function x(n,t){return P.apply(this,arguments)}function P(){return P=(0,Ie.Z)(function*(n,t){const e=pt(n);e.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const i=Wu(e);e.lu.add(3),yield wh(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield _p(e)}),P.apply(this,arguments)}function O(n,t){return H.apply(this,arguments)}function H(){return H=(0,Ie.Z)(function*(n,t){const e=pt(n);t?(e.lu.delete(2),yield _p(e)):t||(e.lu.add(2),yield wh(e),e._u.set("Unknown"))}),H.apply(this,arguments)}function K(n){return n.mu||(n.mu=function(t,e,i){const r=pt(t);return r.tu(),new aI(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:qF.bind(null,n),Jr:RR.bind(null,n),Go:NR.bind(null,n)}),n.fu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.mu.No(),Rm(n)?Zv(n):n._u.set("Unknown")):(yield n.mu.stop(),lI(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function se(n){return n.gu||(n.gu=function(t,e,i){const r=pt(t);return r.tu(),new IR(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:l.bind(null,n),Jr:w.bind(null,n),Yo:d.bind(null,n),Jo:g.bind(null,n)}),n.fu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.gu.No(),yield Nm(n)):(yield n.gu.stop(),n.au.length>0&&(Ye("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class Ne{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,o){const a=Date.now()+i,u=new Ne(t,e,a,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $e(n,t){if(ur("AsyncQueue",`${t}: ${n}`),vc(n))return new Ge(Ce.UNAVAILABLE,`${t}: ${n}`);throw n}class ot{constructor(t){this.comparator=t?(e,i)=>t(e,i)||lt.comparator(e.key,i.key):(e,i)=>lt.comparator(e.key,i.key),this.keyedMap=ip(),this.sortedSet=new Ui(this.comparator)}static emptySet(t){return new ot(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ot)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new ot;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class vt{constructor(){this.yu=new Ui(lt.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):Ct():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Rt{constructor(t,e,i,r,o,a,u,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Rt(t,e,ot.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&um(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class je{constructor(){this.Iu=void 0,this.listeners=[]}}class Nt{constructor(){this.queries=new Vu(t=>Kf(t),um),this.onlineState="Unknown",this.Tu=new Set}}function vn(n,t){return ii.apply(this,arguments)}function ii(){return ii=(0,Ie.Z)(function*(n,t){const e=pt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new je),r)try{o.Iu=yield e.onListen(i)}catch(a){const u=$e(a,`Initialization of query '${wc(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&Om(e)}),ii.apply(this,arguments)}function Tc(n,t){return km.apply(this,arguments)}function km(){return km=(0,Ie.Z)(function*(n,t){const e=pt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),km.apply(this,arguments)}function UC(n,t){const e=pt(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.Au(r)&&(i=!0);a.Iu=r}}i&&Om(e)}function BC(n,t,e){const i=pt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function Om(n){n.Tu.forEach(t=>{t.next()})}class Fm{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Rt(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Rt.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class VC{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class qv{constructor(t){this.wt=t}Wi(t){return ea(this.wt,t)}zi(t){return t.metadata.exists?vv(this.wt,t.document,!1):ui.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Lr(t)}}class HC{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jv(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=In.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new qv(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||on()).add(o);e.set(a,u)}}return e}complete(){var t=this;return(0,Ie.Z)(function*(){const e=yield function CR(n,t,e,i){return IC.apply(this,arguments)}(t.localStore,new qv(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield ZF(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function jv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GF{constructor(t){this.key=t}}class $F{constructor(t){this.key=t}}class WF{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=on(),this.mutatedKeys=on(),this.Lu=Vw(t),this.Uu=new ot(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new vt,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((m,v)=>{const A=r.get(m),I=cv(this.query,v)?v:null,M=!!A&&this.mutatedKeys.has(A.key),R=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;A&&I?A.data.isEqual(I.data)?M!==R&&(i.track({type:3,doc:I}),L=!0):this.Qu(A,I)||(i.track({type:2,doc:I}),L=!0,(h&&this.Lu(I,h)>0||p&&this.Lu(I,p)<0)&&(u=!0)):!A&&I?(i.track({type:0,doc:I}),L=!0):A&&!I&&(i.track({type:1,doc:A}),L=!0,(h||p)&&(u=!0)),L&&(I?(a=a.add(I),o=R?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const m="F"===this.query.limitType?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{Uu:a,Gu:i,Oi:u,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((p,m)=>function(v,A){const I=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return I(v)-I(A)}(p.type,m.type)||this.Lu(p.doc,m.doc)),this.ju(i);const a=e?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,h=u!==this.$u;return this.$u=u,0!==o.length||h?{snapshot:new Rt(this.query,t.Uu,r,o,t.mutatedKeys,0===u,h,!1),zu:a}:{zu:a}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new vt,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=on(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new $F(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new GF(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=on();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Rt.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class mq{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class _q{constructor(t){this.key=t,this.Xu=!1}}class yq{constructor(t,e,i,r,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Zu={},this.tc=new Vu(u=>Kf(u),um),this.ec=new Map,this.nc=new Set,this.sc=new Ui(lt.comparator),this.ic=new Map,this.rc=new Dl,this.oc={},this.uc=new Map,this.cc=pp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function vq(n,t){return LR.apply(this,arguments)}function LR(){return LR=(0,Ie.Z)(function*(n,t){const e=oN(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const a=yield bh(e.localStore,Eo(t));e.isPrimaryClient&&Hv(e.remoteStore,a);const u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield UR(e,t,i,"current"===u)}return r}),LR.apply(this,arguments)}function UR(n,t,e,i){return BR.apply(this,arguments)}function BR(){return BR=(0,Ie.Z)(function*(n,t,e,i){n.hc=(m,v,A)=>{return(I=(0,Ie.Z)(function*(M,R,L,q){let X=R.view.Ku(L);X.Oi&&(X=yield TC(M.localStore,R.query,!1).then(({documents:de})=>R.view.Ku(de,X)));const he=q&&q.targetChanges.get(R.targetId),ne=R.view.applyChanges(X,M.isPrimaryClient,he);return YR(M,R.targetId,ne.zu),ne.snapshot}),function(M,R,L,q){return I.apply(this,arguments)})(n,m,v,A);var I};const r=yield TC(n.localStore,t,!0),o=new WF(t,r.ji),a=o.Ku(r.documents),u=pm.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),h=o.applyChanges(a,n.isPrimaryClient,u);YR(n,e,h.zu);const p=new mq(t,e,o);return n.tc.set(t,p),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),h.snapshot}),BR.apply(this,arguments)}function bq(n,t){return VR.apply(this,arguments)}function VR(){return VR=(0,Ie.Z)(function*(n,t){const e=pt(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!um(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mp(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),yp(e.remoteStore,i.targetId),zv(e,i.targetId)}).catch(sh))):(zv(e,i.targetId),yield mp(e.localStore,i.targetId,!0))}),VR.apply(this,arguments)}function HR(){return HR=(0,Ie.Z)(function*(n,t,e){const i=aN(n);try{const r=yield function(o,a){const u=pt(o),h=Ti.now(),p=a.reduce((A,I)=>A.add(I.key),on());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=Qs(),M=on();return u.Ui.getEntries(A,p).next(R=>{I=R,I.forEach((L,q)=>{q.isValidDocument()||(M=M.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(A,I)).next(R=>{m=R;const L=[];for(const q of a){const X=px(q,m.get(q.key).overlayedDocument);null!=X&&L.push(new Ra(q.key,X,Lw(X.value.mapValue),Vi.exists(!0)))}return u.mutationQueue.addMutationBatch(A,h,L,a)}).next(R=>{v=R;const L=R.applyToLocalDocumentSet(m,M);return u.documentOverlayCache.saveOverlays(A,R.batchId,L)})}).then(()=>({batchId:v.batchId,changes:qw(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let h=o.oc[o.currentUser.toKey()];h||(h=new Ui(Xt)),h=h.insert(a,u),o.oc[o.currentUser.toKey()]=h}(i,r.batchId,e),yield Ch(i,r.changes),yield Nm(i.remoteStore)}catch(r){const o=$e(r,"Failed to persist write");e.reject(o)}}),HR.apply(this,arguments)}function YF(n,t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Ie.Z)(function*(n,t){const e=pt(n);try{const i=yield eI(e.localStore,t);t.targetChanges.forEach((r,o)=>{const a=e.ic.get(o);a&&(zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.Xu=!0:r.modifiedDocuments.size>0?zt(a.Xu):r.removedDocuments.size>0&&(zt(a.Xu),a.Xu=!1))}),yield Ch(e,i,t)}catch(i){yield sh(i)}}),ZR.apply(this,arguments)}function KF(n,t,e){const i=pt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,a)=>{const u=a.view.Eu(t);u.snapshot&&r.push(u.snapshot)}),function(o,a){const u=pt(o);u.onlineState=a;let h=!1;u.queries.forEach((p,m)=>{for(const v of m.listeners)v.Eu(a)&&(h=!0)}),h&&Om(u)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Cq(n,t,e){return qR.apply(this,arguments)}function qR(){return qR=(0,Ie.Z)(function*(n,t,e){const i=pt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let a=new Ui(lt.comparator);a=a.insert(o,ui.newNoDocument(o,jt.min()));const u=on().add(o),h=new fm(jt.min(),new Map,new Ln(Xt),a,u);yield YF(i,h),i.sc=i.sc.remove(o),i.ic.delete(t),KR(i)}else yield mp(i.localStore,t,!1).then(()=>zv(i,t,e)).catch(sh)}),qR.apply(this,arguments)}function Eq(n,t){return jR.apply(this,arguments)}function jR(){return jR=(0,Ie.Z)(function*(n,t){const e=pt(n),i=t.batch.batchId;try{const r=yield kv(e.localStore,t);WR(e,i,null),$R(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ch(e,r)}catch(r){yield sh(r)}}),jR.apply(this,arguments)}function Aq(n,t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,Ie.Z)(function*(n,t,e){const i=pt(n);try{const r=yield function(o,a){const u=pt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,a).next(m=>(zt(null!==m),p=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(i.localStore,t);WR(i,t,e),$R(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ch(i,r)}catch(r){yield sh(r)}}),zR.apply(this,arguments)}function GR(){return GR=(0,Ie.Z)(function*(n,t){const e=pt(n);Wu(e.remoteStore)||Ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=pt(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=$e(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),GR.apply(this,arguments)}function $R(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function WR(n,t,e){const i=pt(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function zv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||QF(n,i)})}function QF(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(yp(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),KR(n))}function YR(n,t,e){for(const i of e)i instanceof GF?(n.rc.addReference(i.key,t),xq(n,i)):i instanceof $F?(Ye("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||QF(n,i.key)):Ct()}function xq(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Ye("SyncEngine","New document in limbo: "+e),n.nc.add(i),KR(n))}function KR(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new lt(In.fromString(t)),i=n.cc.next();n.ic.set(i,new _q(e)),n.sc=n.sc.insert(e,i),Hv(n.remoteStore,new Zu(Eo(Wf(e.path)),i,2,Ks.ot))}}function Ch(n,t,e){return QR.apply(this,arguments)}function QR(){return QR=(0,Ie.Z)(function*(n,t,e){const i=pt(n),r=[],o=[],a=[];var u;i.tc.isEmpty()||(i.tc.forEach((u,h)=>{a.push(i.hc(h,t,e).then(p=>{if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),r.push(p);const m=Sm.Vi(h.targetId,p);o.push(m)}}))}),yield Promise.all(a),i.Zu.Go(r),yield(u=(0,Ie.Z)(function*(h,p){const m=pt(h);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ye.forEach(p,A=>ye.forEach(A.Pi,I=>m.persistence.referenceDelegate.addReference(v,A.targetId,I)).next(()=>ye.forEach(A.vi,I=>m.persistence.referenceDelegate.removeReference(v,A.targetId,I)))))}catch(v){if(!vc(v))throw v;Ye("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const A=v.targetId;if(!v.fromCache){const I=m.$i.get(A),R=I.withLastLimboFreeSnapshotVersion(I.snapshotVersion);m.$i=m.$i.insert(A,R)}}}),function(h,p){return u.apply(this,arguments)})(i.localStore,o))}),QR.apply(this,arguments)}function Iq(n,t){return JR.apply(this,arguments)}function JR(){return JR=(0,Ie.Z)(function*(n,t){const e=pt(n);if(!e.currentUser.isEqual(t)){Ye("SyncEngine","User change. New user:",t.toKey());const i=yield EC(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(a=>{a.forEach(u=>{u.reject(new Ge(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ch(e,i.Ki)}var r}),JR.apply(this,arguments)}function Sq(n,t){const e=pt(n),i=e.ic.get(t);if(i&&i.Xu)return on().add(i.key);{let r=on();const o=e.ec.get(t);if(!o)return r;for(const a of o){const u=e.tc.get(a);r=r.unionWith(u.view.qu)}return r}}function Dq(n,t){return XR.apply(this,arguments)}function XR(){return XR=(0,Ie.Z)(function*(n,t){const e=pt(n),i=yield TC(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&YR(e,t.targetId,r.zu),r}),XR.apply(this,arguments)}function Mq(n,t){return eN.apply(this,arguments)}function eN(){return eN=(0,Ie.Z)(function*(n,t){const e=pt(n);return xC(e.localStore,t).then(i=>Ch(e,i))}),eN.apply(this,arguments)}function Pq(n,t,e,i){return tN.apply(this,arguments)}function tN(){return tN=(0,Ie.Z)(function*(n,t,e,i){const r=pt(n),o=yield function(a,u){const h=pt(a),p=pt(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",m=>p.yn(m,u).next(v=>v?h.localDocuments.getDocuments(m,v):ye.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield Nm(r.remoteStore):"acknowledged"===e||"rejected"===e?(WR(r,t,i||null),$R(r,t),u=t,pt(pt(r.localStore).mutationQueue).In(u)):Ct(),yield Ch(r,o)):Ye("SyncEngine","Cannot apply mutation batch with id: "+t)}),tN.apply(this,arguments)}function nN(){return nN=(0,Ie.Z)(function*(n,t){const e=pt(n);if(oN(e),aN(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield JF(e,i.toArray());e.ac=!0,yield O(e.remoteStore,!0);for(const o of r)Hv(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(zv(e,a),mp(e.localStore,a,!0))),yp(e.remoteStore,a)}),yield r,yield JF(e,i),function(o){const a=pt(o);a.ic.forEach((u,h)=>{yp(a.remoteStore,h)}),a.rc.cs(),a.ic=new Map,a.sc=new Ui(lt.comparator)}(e),e.ac=!1,yield O(e.remoteStore,!1)}}),nN.apply(this,arguments)}function JF(n,t,e){return iN.apply(this,arguments)}function iN(){return iN=(0,Ie.Z)(function*(n,t,e){const i=pt(n),r=[],o=[];for(const a of t){let u;const h=i.ec.get(a);if(h&&0!==h.length){u=yield bh(i.localStore,Eo(h[0]));for(const p of h){const m=i.tc.get(p),v=yield Dq(i,m);v.snapshot&&o.push(v.snapshot)}}else{const p=yield wR(i.localStore,a);u=yield bh(i.localStore,p),yield UR(i,XF(p),a,!1)}r.push(u)}return i.Zu.Go(o),r}),iN.apply(this,arguments)}function XF(n){return av(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Nq(n){const t=pt(n);return pt(pt(t.localStore).persistence).Ri()}function kq(n,t,e,i){return rN.apply(this,arguments)}function rN(){return rN=(0,Ie.Z)(function*(n,t,e,i){const r=pt(n);if(r.ac)return void Ye("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const a=yield xC(r.localStore,lx(o[0])),u=fm.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ch(r,a,u);break}case"rejected":yield mp(r.localStore,t,!0),zv(r,t,i);break;default:Ct()}}),rN.apply(this,arguments)}function Oq(n,t,e){return sN.apply(this,arguments)}function sN(){return sN=(0,Ie.Z)(function*(n,t,e){const i=oN(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Ye("SyncEngine","Adding an already active target "+r);continue}const o=yield wR(i.localStore,r),a=yield bh(i.localStore,o);yield UR(i,XF(o),a.targetId,!1),Hv(i.remoteStore,a)}for(const r of e)i.ec.has(r)&&(yield mp(i.localStore,r,!1).then(()=>{yp(i.remoteStore,r),zv(i,r)}).catch(sh))}}),sN.apply(this,arguments)}function oN(n){const t=pt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=YF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cq.bind(null,t),t.Zu.Go=UC.bind(null,t.eventManager),t.Zu.lc=BC.bind(null,t.eventManager),t}function aN(n){const t=pt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Aq.bind(null,t),t}class eL{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ie.Z)(function*(){e.wt=Bv(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return Xx(this.persistence,new CC,t.initialUser,this.wt)}_c(t){return new Yx(Pv.Ms,this.wt)}dc(t){return new DC}terminate(){var t=this;return(0,Ie.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class tL extends eL{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield aN(i.yc.syncEngine),yield Nm(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return Xx(this.persistence,new CC,t.initialUser,this.wt)}mc(t,e){return new fC(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new DP(e,this.persistence);return new SP(t.asyncQueue,i)}_c(t){const e=Qx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new Rv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Mm(),NC(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new DC}}class Lq extends tL{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof Ac&&(i.sharedClientState.syncEngine={kr:Pq.bind(null,r),Or:kq.bind(null,r),Mr:Oq.bind(null,r),Ri:Nq.bind(null,r),Nr:Mq.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,Ie.Z)(function*(a){yield function Rq(n,t){return nN.apply(this,arguments)}(i.yc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}dc(t){const e=Mm();if(!Ac.V(e))throw new Ge(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Qx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ac(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class lN{initialize(t,e){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>KF(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Iq.bind(null,i.syncEngine),yield O(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Nt}createDatastore(t){const e=Bv(t.databaseInfo.databaseId),i=new RC(t.databaseInfo);return new SR(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>KF(this.syncEngine,u,0),a=Uv.V()?new Uv:new MC,new MR(e,i,r,o,a);var e,i,r,o,a}createSyncEngine(t,e){return function(i,r,o,a,u,h,p){const m=new yq(i,r,o,a,u,h);return p&&(m.ac=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ie.Z)(function*(e){const i=pt(e);Ye("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield wh(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function nL(n,t=10240){let e=0;return{read:()=>(0,Ie.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Uq{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Or,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,Ie.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,Ie.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new VC(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,Ie.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,Ie.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Bq{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ge(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ie.Z)(function*(o,a){const u=pt(o),h=vm(u.wt)+"/documents",p={documents:a.map(I=>op(u.wt,I))},m=yield u.ao("BatchGetDocuments",h,p,a.length),v=new Map;m.forEach(I=>{const M=function Tx(n,t){return"found"in t?function(e,i){zt(!!i.found);const r=ea(e,i.found.name),o=Lr(i.found.updateTime),a=new Fr({mapValue:{fields:i.found.fields}});return ui.newFoundDocument(r,o,a)}(n,t):"missing"in t?function(e,i){zt(!!i.missing),zt(!!i.readTime);const r=ea(e,i.missing),o=Lr(i.readTime);return ui.newNoDocument(r,o)}(n,t):Ct()}(u.wt,I);v.set(M.key.toString(),M)});const A=[];return a.forEach(I=>{const M=v.get(I.toString());zt(!!M),A.push(M)}),A}),function(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new fh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=lt.fromPath(r);t.mutations.push(new fv(o,t.precondition(o)))}),yield(i=(0,Ie.Z)(function*(r,o){const a=pt(r),u=vm(a.wt)+"/documents",h={writes:o.map(p=>ph(a.wt,p))};yield a.ro("Commit",u,h)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ct();e=jt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ge(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Vi.updateTime(e):Vi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(jt.min()))throw new Ge(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(e)}return Vi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Vq{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new oI(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,Ie.Z)(function*(){const e=new Bq(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!qf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!vx(e)}return!1}}class Hq{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=Pw.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,Ie.Z)(function*(u){Ye("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ye("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,Ie.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=$e(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function iL(n,t){return cN.apply(this,arguments)}function cN(){return cN=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ie.Z)(function*(o){i.isEqual(o)||(yield EC(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),cN.apply(this,arguments)}function rL(n,t){return uN.apply(this,arguments)}function uN(){return uN=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield dN(n);Ye("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>x(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>x(t.remoteStore,o)),n.onlineComponents=t}),uN.apply(this,arguments)}function dN(n){return hN.apply(this,arguments)}function hN(){return hN=(0,Ie.Z)(function*(n){return n.offlineComponents||(Ye("FirestoreClient","Using default OfflineComponentProvider"),yield iL(n,new eL)),n.offlineComponents}),hN.apply(this,arguments)}function fI(n){return fN.apply(this,arguments)}function fN(){return fN=(0,Ie.Z)(function*(n){return n.onlineComponents||(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield rL(n,new lN)),n.onlineComponents}),fN.apply(this,arguments)}function sL(n){return dN(n).then(t=>t.persistence)}function pN(n){return dN(n).then(t=>t.localStore)}function oL(n){return fI(n).then(t=>t.remoteStore)}function gN(n){return fI(n).then(t=>t.syncEngine)}function Gv(n){return mN.apply(this,arguments)}function mN(){return mN=(0,Ie.Z)(function*(n){const t=yield fI(n),e=t.eventManager;return e.onListen=vq.bind(null,t.syncEngine),e.onUnlisten=bq.bind(null,t.syncEngine),e}),mN.apply(this,arguments)}function aL(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,o,a,u,h){const p=new hI({next:v=>{o.enqueueAndForget(()=>Tc(r,m));const A=v.docs.has(a);!A&&v.fromCache?h.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&v.fromCache&&u&&"server"===u.source?h.reject(new Ge(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new Fm(Wf(a.path),p,{includeMetadataChanges:!0,Du:!0});return vn(r,m)}(yield Gv(n),n.asyncQueue,t,e,i)})),i.promise}function lL(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,o,a,u,h){const p=new hI({next:v=>{o.enqueueAndForget(()=>Tc(r,m)),v.fromCache&&"server"===u.source?h.reject(new Ge(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new Fm(a,p,{includeMetadataChanges:!0,Du:!0});return vn(r,m)}(yield Gv(n),n.asyncQueue,t,e,i)})),i.promise}const cL=new Map;function _N(n,t,e){if(!e)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function uL(n,t,e,i){if(!0===t&&!0===i)throw new Ge(Ce.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dL(n){if(!lt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hL(n){if(lt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Ct()}function Sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ge(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=pI(n);throw new Ge(Ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function fL(n,t){if(t<=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class pL{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ge(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ZC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pL({}),this._settingsFrozen=!1,t instanceof ku?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ge(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pL(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new TP;switch(e.type){case"gapi":const i=e.client;return zt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new HT(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ge(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cL.get(t);e&&(Ye("ComponentProvider","Removing Datastore"),cL.delete(t),e.terminate())}(this),Promise.resolve()}}class Hi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hi(this.firestore,t,this._key)}}class Js{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Js(this.firestore,t,this._query)}}class Yu extends Js{constructor(t,e,i){super(t,e,Wf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hi(this.firestore,null,new lt(t))}withConverter(t){return new Yu(this.firestore,t,this._path)}}function gL(n,t,...e){if(n=(0,U.m9)(n),_N("collection","path",t),n instanceof ZC){const i=In.fromString(t,...e);return hL(i),new Yu(n,null,i)}{if(!(n instanceof Hi||n instanceof Yu))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return hL(i),new Yu(n.firestore,null,i)}}function gI(n,t,...e){if(n=(0,U.m9)(n),1===arguments.length&&(t=Pw.I()),_N("doc","path",t),n instanceof ZC){const i=In.fromString(t,...e);return dL(i),new Hi(n,null,new lt(i))}{if(!(n instanceof Hi||n instanceof Yu))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(t,...e));return dL(i),new Hi(n.firestore,n instanceof Yu?n.converter:null,new lt(i))}}function mL(n,t){return n=(0,U.m9)(n),t=(0,U.m9)(t),(n instanceof Hi||n instanceof Yu)&&(t instanceof Hi||t instanceof Yu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function _L(n,t){return n=(0,U.m9)(n),t=(0,U.m9)(t),n instanceof Js&&t instanceof Js&&n.firestore===t.firestore&&um(n._query,t._query)&&n.converter===t.converter}class Jq{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new oI(this,"async_queue_retry"),this.Kc=()=>{const e=NC();e&&Ye("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=NC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=NC();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Or;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,Ie.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!vc(e))throw e;Ye("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=Ne.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&Ct()}verifyOperationInProgress(){}zc(){var t=this;return(0,Ie.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function yN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Xq{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ki extends ZC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Jq,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yL(this),this._firestoreClient.terminate()}}function tj(n=(0,Yr.getApp)()){return(0,Yr._getProvider)(n,"firestore").getImmediate()}function Br(n){return n._firestoreClient||yL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yL(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new NF(n._databaseId,o,n._persistenceKey,(u=e).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var o,u;n._firestoreClient=new Hq(n._authCredentials,n._appCheckCredentials,n._queue,i)}function vL(n,t,e){const i=new Or;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield iL(n,e),yield rL(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(a=o).name?a.code===Ce.FAILED_PRECONDITION||a.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var a})).then(()=>i.promise)}function bL(n){if(n._initialized||n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Eh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ku{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ku(hr.fromBase64String(t))}catch(e){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ku(hr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Lm{constructor(t){this._methodName=t}}class mI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ge(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ge(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}const dj=/^__.*__$/;class hj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ra(t,this.data,this.fieldMask,e,this.fieldTransforms):new tp(t,this.data,e,this.fieldTransforms)}}class wL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ra(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function CL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class _I{constructor(t,e,i,r,o,a){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new _I(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return bI(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(CL(this.Zc)&&dj.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class fj{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||Bv(t)}aa(t,e,i,r=!1){return new _I({Zc:t,methodName:e,ca:i,path:dr.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Um(n){const t=n._freezeSettings(),e=Bv(n._databaseId);return new fj(n._databaseId,!!t.ignoreUndefinedProperties,e)}function yI(n,t,e,i,r,o={}){const a=n.aa(o.merge||o.mergeFields?2:0,t,e,r);CN("Data must be an object, but it was:",a,i);const u=TL(i,a);let h,p;if(o.merge)h=new Co(a.fieldMask),p=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const A=EN(t,v,e);if(!a.contains(A))throw new Ge(Ce.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);IL(m,A)||m.push(A)}h=new Co(m),p=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=a.fieldTransforms;return new hj(new Fr(u),h,p)}class qC extends Lm{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qC}}function EL(n,t,e){return new _I({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class vN extends Lm{_toFieldTransform(t){return new hh(t.path,new Jf)}isEqual(t){return t instanceof vN}}class pj extends Lm{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=EL(this,t,!0),i=this.ha.map(o=>Bm(o,e)),r=new dh(i);return new hh(t.path,r)}isEqual(t){return this===t}}class gj extends Lm{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=EL(this,t,!0),i=this.ha.map(o=>Bm(o,e)),r=new Bu(i);return new hh(t.path,r)}isEqual(t){return this===t}}class mj extends Lm{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Cc(t.wt,cx(t.wt,this.la));return new hh(t.path,e)}isEqual(t){return this===t}}function bN(n,t,e,i){const r=n.aa(1,t,e);CN("Data must be an object, but it was:",r,i);const o=[],a=Fr.empty();Ru(i,(h,p)=>{const m=vI(t,h,e);p=(0,U.m9)(p);const v=r.ia(m);if(p instanceof qC)o.push(m);else{const A=Bm(p,v);null!=A&&(o.push(m),a.set(m,A))}});const u=new Co(o);return new wL(a,u,r.fieldTransforms)}function wN(n,t,e,i,r,o){const a=n.aa(1,t,e),u=[EN(t,i,e)],h=[r];if(o.length%2!=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)u.push(EN(t,o[A])),h.push(o[A+1]);const p=[],m=Fr.empty();for(let A=u.length-1;A>=0;--A)if(!IL(p,u[A])){const I=u[A];let M=h[A];M=(0,U.m9)(M);const R=a.ia(I);if(M instanceof qC)p.push(I);else{const L=Bm(M,R);null!=L&&(p.push(I),m.set(I,L))}}const v=new Co(p);return new wL(m,v,a.fieldTransforms)}function AL(n,t,e,i=!1){return Bm(e,n.aa(i?4:3,t))}function Bm(n,t){if(xL(n=(0,U.m9)(n)))return CN("Unsupported field value:",t,n),TL(n,t);if(n instanceof Lm)return function(e,i){if(!CL(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const a of e){let u=Bm(a,i.ra(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,U.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cx(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ti.fromDate(e);return{timestampValue:_m(i.wt,r)}}if(e instanceof Ti){const r=new Ti(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_m(i.wt,r)}}if(e instanceof mI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ku)return{bytesValue:ym(i.wt,e._byteString)};if(e instanceof Hi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zw(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${pI(e)}`)}(n,t)}function TL(n,t){const e={};return Nw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ru(n,(i,r)=>{const o=Bm(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function xL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof mI||n instanceof Ku||n instanceof Hi||n instanceof Lm)}function CN(n,t,e){if(!xL(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=pI(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function EN(n,t,e){if((t=(0,U.m9)(t))instanceof Eh)return t._internalPath;if("string"==typeof t)return vI(n,t);throw bI("Field path arguments must be of type string or ",n,!1,void 0,e)}const _j=new RegExp("[~\\*/\\[\\]]");function vI(n,t,e){if(t.search(_j)>=0)throw bI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Eh(...t.split("."))._internalPath}catch{throw bI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bI(n,t,e,i,r){const o=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new Ge(Ce.INVALID_ARGUMENT,u+n+h)}function IL(n,t){return n.some(e=>e.isEqual(t))}class jC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class yj extends jC{data(){return super.data()}}function wI(n,t){return"string"==typeof t?vI(n,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}class Vm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ah extends jC{constructor(t,e,i,r,o,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new zC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(wI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class zC extends Ah{data(t={}){return super.data(t)}}class vp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new zC(this._firestore,this._userDataWriter,i.key,i,new Vm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ge(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new zC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new zC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return 0!==a.type&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:vj(a.type),doc:u,oldIndex:h,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}function SL(n,t){return n instanceof Ah&&t instanceof Ah?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof vp&&t instanceof vp&&n._firestore===t._firestore&&_L(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function DL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GC{}function bp(n,...t){for(const e of t)n=e._apply(n);return n}class bj extends GC{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Um(t.firestore),i=function(r,o,a,u,h,p,m){let v;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){OL(m,p);const I=[];for(const M of m)I.push(kL(u,r,M));v={arrayValue:{values:I}}}else v=kL(u,r,m)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||OL(m,p),v=AL(a,"where",m,"in"===p||"not-in"===p);const A=Jr.create(h,p,v);return function(I,M){if(M.ht()){const L=Bw(I);if(null!==L&&!L.isEqual(M.field))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${L.toString()}' and '${M.field.toString()}'`);const q=cm(I);null!==q&&FL(0,M.field,q)}const R=function(L,q){for(const X of L.filters)if(q.indexOf(X.op)>=0)return X.op;return null}(I,function(L){switch(L){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(M.op));if(null!==R)throw new Ge(Ce.INVALID_ARGUMENT,R===M.op?`Invalid query. You cannot use more than one '${M.op.toString()}' filter.`:`Invalid query. You cannot use '${M.op.toString()}' filters with '${R.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Js(t.firestore,t.converter,function(r,o){const a=r.filters.concat([o]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class Cj extends GC{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new $f(r,o);return function(u,h){if(null===cm(u)){const p=Bw(u);null!==p&&FL(0,p,h.field)}}(i,a),a}(t._query,this.fa,this.wa);return new Js(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new xl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ML extends GC{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new Js(t.firestore,t.converter,HP(t._query,this.ma,this.ga))}}class PL extends GC{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=NL(t,this.type,this.ya,this.pa);return new Js(t.firestore,t.converter,(r=e,new xl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class RL extends GC{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=NL(t,this.type,this.ya,this.pa);return new Js(t.firestore,t.converter,(r=e,new xl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function NL(n,t,e,i){if(e[0]=(0,U.m9)(e[0]),e[0]instanceof jC)return function(r,o,a,u,h){if(!u)throw new Ge(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const m of Yf(r))if(m.field.isKeyField())p.push(ch(o,u.key));else{const v=u.data.field(m.field);if(kw(v))throw new Ge(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===v){const A=m.field.canonicalString();throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}p.push(v)}return new Uu(p,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Um(n.firestore);return function(o,a,u,h,p,m){const v=o.explicitOrderBy;if(p.length>v.length)throw new Ge(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let I=0;I<p.length;I++){const M=p[I];if(v[I].field.isKeyField()){if("string"!=typeof M)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof M}`);if(!lv(o)&&-1!==M.indexOf("/"))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${M}' contains a slash.`);const R=o.path.child(In.fromString(M));if(!lt.isDocumentKey(R))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const L=new lt(R);A.push(ch(a,L))}else{const R=AL(u,h,M);A.push(R)}}return new Uu(A,m)}(n._query,n.firestore._databaseId,r,t,e,i)}}function kL(n,t,e){if("string"==typeof(e=(0,U.m9)(e))){if(""===e)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lv(t)&&-1!==e.indexOf("/"))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(In.fromString(e));if(!lt.isDocumentKey(i))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ch(n,new lt(i))}if(e instanceof Hi)return ch(n,e._key);throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pI(e)}.`)}function OL(n,t){if(!Array.isArray(n)||0===n.length)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function FL(n,t,e){if(!e.isEqual(t))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const Mj={maxAttempts:5};class AN{convertValue(t,e="none"){switch(Pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(lh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ct()}}convertObject(t,e){const i={};return Ru(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new mI(Bi(t.latitude),Bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=MP(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xy(t));default:return null}}convertTimestamp(t){const e=Nu(t);return new Ti(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=In.fromString(t);zt(Jw(i));const r=new ku(i.get(1),i.get(3)),o=new lt(i.popFirst(5));return r.isEqual(e)||ur(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function CI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Pj extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ku(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hi(this.firestore,null,e)}}class LL{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Um(t)}set(t,e,i){this._verifyNotCommitted();const r=wp(t,this._firestore),o=CI(r.converter,e,i),a=yI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Vi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=wp(t,this._firestore);let a;return a="string"==typeof(e=(0,U.m9)(e))||e instanceof Eh?wN(this._dataReader,"WriteBatch.update",o._key,e,i,r):bN(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,Vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=wp(t,this._firestore);return this._mutations=this._mutations.concat(new fh(e._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wp(n,t){if((n=(0,U.m9)(n)).firestore!==t)throw new Ge(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hm extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ku(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hi(this.firestore,null,e)}}function UL(n,t,e){n=Sn(n,Hi);const i=Sn(n.firestore,Ki),r=CI(n.converter,t,e);return $v(i,[yI(Um(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Vi.none())])}function BL(n,t,e,...i){n=Sn(n,Hi);const r=Sn(n.firestore,Ki),o=Um(r);let a;return a="string"==typeof(t=(0,U.m9)(t))||t instanceof Eh?wN(o,"updateDoc",n._key,t,e,i):bN(o,"updateDoc",n._key,t),$v(r,[a.toMutation(n._key,Vi.exists(!0))])}function VL(n,...t){var e,i,r;n=(0,U.m9)(n);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||yN(t[a])||(o=t[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(yN(t[a])){const v=t[a];t[a]=null===(e=v.next)||void 0===e?void 0:e.bind(v),t[a+1]=null===(i=v.error)||void 0===i?void 0:i.bind(v),t[a+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}let h,p,m;if(n instanceof Hi)p=Sn(n.firestore,Ki),m=Wf(n._key.path),h={next:v=>{t[a]&&t[a](TN(p,n,v))},error:t[a+1],complete:t[a+2]};else{const v=Sn(n,Js);p=Sn(v.firestore,Ki),m=v._query;const A=new Hm(p);h={next:I=>{t[a]&&t[a](new vp(p,A,v,I))},error:t[a+1],complete:t[a+2]},DL(n._query)}return function(v,A,I,M){const R=new hI(M),L=new Fm(A,R,I);return v.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return vn(yield Gv(v),L)})),()=>{R.Tc(),v.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return Tc(yield Gv(v),L)}))}}(Br(p),m,u,h)}function $v(n,t){return function(e,i){const r=new Or;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function wq(n,t,e){return HR.apply(this,arguments)}(yield gN(e),i,r)})),r.promise}(Br(n),t)}function TN(n,t,e){const i=e.docs.get(t._key),r=new Hm(n);return new Ah(n,r,t._key,i,new Vm(e.hasPendingWrites,e.fromCache),t.converter)}class Hj extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Um(t)}get(t){const e=wp(t,this._firestore),i=new Pj(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Ct();const o=r[0];if(o.isFoundDocument())return new jC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new jC(this._firestore,i,e._key,null,e.converter);throw Ct()})}set(t,e,i){const r=wp(t,this._firestore),o=CI(r.converter,e,i),a=yI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const o=wp(t,this._firestore);let a;return a="string"==typeof(e=(0,U.m9)(e))||e instanceof Eh?wN(this._dataReader,"Transaction.update",o._key,e,i,r):bN(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=wp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=wp(t,this._firestore),i=new Hm(this._firestore);return super.get(t).then(r=>new Ah(this._firestore,i,e._key,r._document,new Vm(!1,!1),e.converter))}}!function(n,t=!0){Bf=Yr.SDK_VERSION,(0,Yr._registerComponent)(new yo.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new Ki(r,new BT(e.getProvider("auth-internal")),new ZT(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Yr.registerVersion)(Iw,"3.4.11",n),(0,Yr.registerVersion)(Iw,"3.4.11","esm2017")}();var Wv=B(4986);function xN(){return(0,$n.e)((n,t)=>{let e,i=!1;n.subscribe((0,ni.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function EI(n,t=is.y){return n=n??Wj,(0,$n.e)((e,i)=>{let r,o=!0;e.subscribe((0,ni.x)(i,a=>{const u=t(a);(o||!n(r,u))&&(o=!1,r=u,i.next(a))}))})}function Wj(n,t){return n===t}B(5881);var IN=B(3942);function SN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function ZL(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function qL(){if(!function YT(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $C{constructor(t){this._delegate=t}static fromBase64String(t){return qL(),new $C(Ku.fromBase64String(t))}static fromUint8Array(t){return ZL(),new $C(Ku.fromUint8Array(t))}toBase64(){return qL(),this._delegate.toBase64()}toUint8Array(){return ZL(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DN(n){return function Qj(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Jj{enableIndexedDbPersistence(t,e){return function nj(n,t){bL(n=Sn(n,Ki));const e=Br(n),i=n._freezeSettings(),r=new lN;return vL(e,r,new tL(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function ij(n){bL(n=Sn(n,Ki));const t=Br(n),e=n._freezeSettings(),i=new lN;return vL(t,i,new Lq(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function rj(n){if(n._initialized&&!n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(e=(0,Ie.Z)(function*(i){if(!Xo.V())return Promise.resolve();const r=i+"main";yield Xo.delete(r)}),function(i){return e.apply(this,arguments)})(Qx(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class jL{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ku||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&nm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Kq(n,t,e,i={}){var r;const o=(n=Sn(n,ZC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&nm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=kr.MOCK_USER;else{a=(0,U.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ge(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kr(h)}n._authCredentials=new UT(new LT(a,u))}}(this._delegate,t,e,i)}enableNetwork(){return function oj(n){return function Zq(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield sL(n),e=yield oL(n);return t.setNetworkEnabled(!0),function(i){const r=pt(i);return r.lu.delete(0),_p(r)}(e)}))}(Br(n=Sn(n,Ki)))}(this._delegate)}disableNetwork(){return function aj(n){return function qq(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield sL(n),e=yield oL(n);return t.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(r){const o=pt(r);o.lu.add(0),yield wh(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Br(n=Sn(n,Ki)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,uL("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sj(n){return function(t){const e=new Or;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function Tq(n,t){return GR.apply(this,arguments)}(yield gN(t),e)})),e.promise}(Br(n=Sn(n,Ki)))}(this._delegate)}onSnapshotsInSync(t){return function Vj(n,t){return function Gq(n,t){const e=new hI(t);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield Gv(n),r=e,pt(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield Gv(n),r=e,void pt(i).Tu.delete(r);var i,r}))}}(Br(n=Sn(n,Ki)),yN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Yv(this,gL(this._delegate,t))}catch(e){throw To(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ml(this,gI(this._delegate,t))}catch(e){throw To(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new xo(this,function Qq(n,t){if(n=Sn(n,ZC),_N("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Js(n,null,(e=t,new xl(In.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw To(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Zj(n,t,e){n=Sn(n,Ki);const i=Object.assign(Object.assign({},Mj),e);return function(r){if(r.maxAttempts<1)throw new Ge(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function $q(n,t,e){const i=new Or;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const r=yield(o=n,fI(o).then(a=>a.datastore));var o;new Vq(n.asyncQueue,r,e,t,i).run()})),i.promise}(Br(n),r=>t(new Hj(n,r)),i)}(this._delegate,e=>t(new zL(this,e)))}batch(){return Br(this._delegate),new GL(new LL(this._delegate,t=>$v(this._delegate,t)))}loadBundle(t){return function lj(n,t){const e=Br(n=Sn(n,Ki)),i=new Xq;return function Wq(n,t,e,i){const r=function(o,a){let u;return u="string"==typeof o?(new TextEncoder).encode(o):o,h=function(h,p){if(h instanceof Uint8Array)return nL(h,p);if(h instanceof ArrayBuffer)return nL(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new Uq(h,a);var h}(e,Bv(t));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function Fq(n,t,e){const i=pt(n);var r;(r=(0,Ie.Z)(function*(o,a,u){try{const h=yield a.getMetadata();if(yield function(A,I){const M=pt(A),R=Lr(I.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",L=>M.Ds.getBundleMetadata(L,I.id)).then(L=>!!L&&L.createTime.compareTo(R)>=0)}(o.localStore,h))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(A=h).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);u._updateProgress(jv(h));const p=new HC(h,o.localStore,a.wt);let m=yield a.fc();for(;m;){const A=yield p.Nu(m);A&&u._updateProgress(A),m=yield a.fc()}const v=yield p.complete();return yield Ch(o,v.Mu,void 0),yield function(A,I){const M=pt(A);return M.persistence.runTransaction("Save bundle","readwrite",R=>M.Ds.saveBundleMetadata(R,I))}(o.localStore,h),u._completeWith(v.progress),Promise.resolve(v.Ou)}catch(h){return nm("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var A}),function(o,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield gN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function cj(n,t){return function Yq(n,t){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(e,i){const r=pt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield pN(n),t)}))}(Br(n=Sn(n,Ki)),t).then(e=>e?new Js(n,null,e.query):null)}(this._delegate,t).then(e=>e?new xo(this,e):null)}}class AI extends AN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $C(new Ku(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ml.forKey(e,this.firestore,null)}}class zL{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new AI(t)}get(t){const e=qm(t);return this._delegate.get(e).then(i=>new WC(this._firestore,new Ah(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=qm(t);return i?(SN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=qm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=qm(t);return this._delegate.delete(e),this}}class GL{constructor(t){this._delegate=t}set(t,e,i){const r=qm(t);return i?(SN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=qm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=qm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Zm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new zC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new YC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Zm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Zm(t,new AI(t),e),r.set(e,o)),o}}Zm.INSTANCES=new WeakMap;class Ml{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new AI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ml(e,new Hi(e._delegate,i,new lt(t)))}static forKey(t,e,i){return new Ml(e,new Hi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Yv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Yv(this.firestore,gL(this._delegate,t))}catch(e){throw To(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,U.m9)(t))instanceof Hi&&mL(this._delegate,t)}set(t,e){e=SN("DocumentReference.set",e);try{return e?UL(this._delegate,t,e):UL(this._delegate,t)}catch(i){throw To(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?BL(this._delegate,t):BL(this._delegate,t,e,...i)}catch(r){throw To(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Uj(n){return $v(Sn(n.firestore,Ki),[new fh(n._key,Vi.none())])}(this._delegate)}onSnapshot(...t){const e=$L(t),i=WL(t,r=>new WC(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return VL(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Nj(n){n=Sn(n,Hi);const t=Sn(n.firestore,Ki),e=Br(t),i=new Hm(t);return function jq(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,o,a){try{const u=yield function(h,p){const m=pt(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,p))}(r,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=$e(u,`Failed to get document '${o} from cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield pN(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ah(t,i,n._key,r,new Vm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function kj(n){n=Sn(n,Hi);const t=Sn(n.firestore,Ki);return aL(Br(t),n._key,{source:"server"}).then(e=>TN(t,n,e))}(this._delegate):function Rj(n){n=Sn(n,Hi);const t=Sn(n.firestore,Ki);return aL(Br(t),n._key).then(e=>TN(t,n,e))}(this._delegate),e.then(i=>new WC(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ml(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}function To(n,t,e){return n.message=n.message.replace(t,e),n}function $L(n){for(const t of n)if("object"==typeof t&&!DN(t))return t;return{}}function WL(n,t){var e,i;let r;return r=DN(n[0])?n[0]:DN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class WC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ml(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return SL(this._delegate,t._delegate)}}class YC extends WC{data(t){const e=this._delegate.data(t);return function AP(n,t){n||Ct()}(void 0!==e),e}}class xo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new AI(t)}where(t,e,i){try{return new xo(this.firestore,bp(this._delegate,function wj(n,t,e){const i=t,r=wI("where",n);return new bj(r,i,e)}(t,e,i)))}catch(r){throw To(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new xo(this.firestore,bp(this._delegate,function Ej(n,t="asc"){const e=t,i=wI("orderBy",n);return new Cj(i,e)}(t,e)))}catch(i){throw To(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new xo(this.firestore,bp(this._delegate,function Aj(n){return fL("limit",n),new ML("limit",n,"F")}(t)))}catch(e){throw To(e,"limit()","Query.limit()")}}limitToLast(t){try{return new xo(this.firestore,bp(this._delegate,function Tj(n){return fL("limitToLast",n),new ML("limitToLast",n,"L")}(t)))}catch(e){throw To(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new xo(this.firestore,bp(this._delegate,function xj(...n){return new PL("startAt",n,!0)}(...t)))}catch(e){throw To(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new xo(this.firestore,bp(this._delegate,function Ij(...n){return new PL("startAfter",n,!1)}(...t)))}catch(e){throw To(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new xo(this.firestore,bp(this._delegate,function Sj(...n){return new RL("endBefore",n,!1)}(...t)))}catch(e){throw To(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new xo(this.firestore,bp(this._delegate,function Dj(...n){return new RL("endAt",n,!0)}(...t)))}catch(e){throw To(e,"endAt()","Query.endAt()")}}isEqual(t){return _L(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Fj(n){n=Sn(n,Js);const t=Sn(n.firestore,Ki),e=Br(t),i=new Hm(t);return function zq(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,o,a){try{const u=yield TC(r,o,!0),h=new WF(o,u.ji),p=h.Ku(u.documents),m=h.applyChanges(p,!1);a.resolve(m.snapshot)}catch(u){const h=$e(u,`Failed to execute query '${o} against cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield pN(n),t,e);var i})),e.promise}(e,n._query).then(r=>new vp(t,i,n,r))}(this._delegate):"server"===t?.source?function Lj(n){n=Sn(n,Js);const t=Sn(n.firestore,Ki),e=Br(t),i=new Hm(t);return lL(e,n._query,{source:"server"}).then(r=>new vp(t,i,n,r))}(this._delegate):function Oj(n){n=Sn(n,Js);const t=Sn(n.firestore,Ki),e=Br(t),i=new Hm(t);return DL(n._query),lL(e,n._query).then(r=>new vp(t,i,n,r))}(this._delegate),e.then(i=>new MN(this.firestore,new vp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=$L(t),i=WL(t,r=>new MN(this.firestore,new vp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return VL(this._delegate,e,i)}withConverter(t){return new xo(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}class e8{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new YC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new xo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new YC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new e8(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new YC(this._firestore,i))})}isEqual(t){return SL(this._delegate,t._delegate)}}class Yv extends xo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ml(this.firestore,t):null}doc(t){try{return new Ml(this.firestore,void 0===t?gI(this._delegate):gI(this._delegate,t))}catch(e){throw To(e,"doc()","CollectionReference.doc()")}}add(t){return function Bj(n,t){const e=Sn(n.firestore,Ki),i=gI(n),r=CI(n.converter,t);return $v(e,[yI(Um(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Vi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ml(this.firestore,e))}isEqual(t){return mL(this._delegate,t._delegate)}withConverter(t){return new Yv(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}function qm(n){return Sn(n,Hi)}class PN{constructor(...t){this._delegate=new Eh(...t)}static documentId(){return new PN(dr.keyField().canonicalString())}isEqual(t){return(t=(0,U.m9)(t))instanceof Eh&&this._delegate._internalPath.isEqual(t._internalPath)}}class jm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function jj(){return new vN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new jm(t)}static delete(){const t=function qj(){return new qC("deleteField")}();return t._methodName="FieldValue.delete",new jm(t)}static arrayUnion(...t){const e=function zj(...n){return new pj("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new jm(e)}static arrayRemove(...t){const e=function Gj(...n){return new gj("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new jm(e)}static increment(t){const e=function $j(n){return new mj("increment",n)}(t);return e._methodName="FieldValue.increment",new jm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const t8={Firestore:jL,GeoPoint:mI,Timestamp:Ti,Blob:$C,Transaction:zL,WriteBatch:GL,DocumentReference:Ml,DocumentSnapshot:WC,Query:xo,QueryDocumentSnapshot:YC,QuerySnapshot:MN,CollectionReference:Yv,FieldPath:PN,FieldValue:jm,setLogLevel:function Xj(n){!function EP(n){Du.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function YL(n,t){return function r8(n,t=Wv.z){return new ti.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function RN(n,t){return YL(n,t).pipe((0,gt.U)(e=>({payload:e,type:"query"})))}function TI(n,t){return RN(n,t).pipe(jr(void 0),xN(),(0,gt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const h=r.find(m=>m.doc.ref.isEqual(a.ref)),p=e?.payload.docs.find(m=>m.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function KL(n,t,e){return TI(n,e).pipe(As((i,r)=>function o8(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function a8(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return NN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return NN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return NN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),EI(),(0,gt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function NN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function QL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function i8(n){(function n8(n,t){n.INTERNAL.registerComponent(new yo.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},t8)))})(n,(t,e)=>new jL(t,e,new Jj)),n.registerVersion("@firebase/firestore-compat","0.1.20")}(IN.Z);class JL{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=TI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,gt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(jr(void 0),xN(),ci(([i,r])=>r.length>0||!i),(0,gt.U)(([i,r])=>r),Wt.iC)}auditTrail(t){return this.stateChanges(t).pipe(As((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=QL(t);return KL(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(t={}){return RN(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Wt.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(Wt.iC)}add(t){return this.ref.add(t)}doc(t){return new XL(this.ref.doc(t),this.afs)}}class XL{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=i6(i,e);return new JL(r,o,this.afs)}snapshotChanges(){return function s8(n,t){return YL(n,t).pipe(jr(void 0),xN(),(0,gt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,On.D)(this.ref.get(t)).pipe(Wt.iC)}}class l8{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?TI(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ci(e=>e.length>0),Wt.iC):TI(this.query,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}auditTrail(t){return this.stateChanges(t).pipe(As((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=QL(t);return KL(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(t={}){return RN(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Wt.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(Wt.iC)}}const e6=new s.OlP("angularfire2.enableFirestorePersistence"),t6=new s.OlP("angularfire2.firestore.persistenceSettings"),n6=new s.OlP("angularfire2.firestore.settings"),c8=new s.OlP("angularfire2.firestore.use-emulator");function i6(n,t=(e=>e)){return{query:t(n),ref:n}}let Kv=(()=>{class n{constructor(e,i,r,o,a,u,h,p,m,v,A,I,M,R,L,q,X){this.schedulers=h;const he=(0,At.on)(e,u,i),ne=m;v&&fy(he,u,A,M,R,L,I,q),[this.firestore,this.persistenceEnabled$]=(0,At.cc)(`${he.name}.firestore`,"AngularFirestore",he.name,()=>{const de=u.runOutsideAngular(()=>he.firestore());if(o&&de.settings(o),ne&&de.useEmulator(...ne),r&&!Gh(a)){const ke=()=>{try{return(0,On.D)(de.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(ze){return typeof console<"u"&&console.warn(ze),yt(!1)}};return[de,u.runOutsideAngular(ke)]}return[de,yt(!1)]},[o,ne,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=i6(r,i),u=this.schedulers.ngZone.run(()=>o);return new JL(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),o=this.firestore.collectionGroup(e);return new l8(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new XL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(At.Dh),s.LFG(At.xv,8),s.LFG(e6,8),s.LFG(n6,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Wt.HU),s.LFG(t6,8),s.LFG(c8,8),s.LFG(vl,8),s.LFG(U1,8),s.LFG(B1,8),s.LFG(V1,8),s.LFG(yl,8),s.LFG(Dg,8),s.LFG(Fb,8),s.LFG($d,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),u8=(()=>{class n{constructor(){L1.Z.registerVersion("angularfire",Wt.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:e6,useValue:!0},{provide:t6,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Kv]}),n})();function KC(n,t=Wv.z){return(0,$n.e)((e,i)=>{let r=null,o=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const p=o;o=null,i.next(p)}};function h(){const p=a+n,m=t.now();if(m<p)return r=this.schedule(void 0,p-m),void i.add(r);u()}e.subscribe((0,ni.x)(i,p=>{o=p,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}const r6="firebasestorage.googleapis.com",s6="storageBucket";class fr extends U.ZR{constructor(t,e){super(kN(t),`Firebase Storage: ${e} (${kN(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}_codeEquals(t){return kN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function kN(n){return"storage/"+n}function ON(){return new fr("unknown","An unknown error occurred, please check the error payload for server response.")}function o6(){return new fr("canceled","User canceled the upload/download.")}function a6(){return new fr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qv(n){return new fr("invalid-argument",n)}function l6(){return new fr("app-deleted","The Firebase app was deleted.")}function c6(n){return new fr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function QC(n,t){return new fr("invalid-format","String does not match format '"+n+"': "+t)}function JC(n){throw new fr("internal-error","Internal error: "+n)}class Xs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Xs.makeFromUrl(t,e)}catch{return new Xs(t,"")}if(""===i.path)return i;throw function b8(n){return new fr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(ne){ne.path_=decodeURIComponent(ne.path)}const v=e.replace(/[.]/g,"\\."),he=[{regex:u,indices:{bucket:1,path:3},postModify:function o(ne){"/"===ne.path.charAt(ne.path.length-1)&&(ne.path_=ne.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${v}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${e===r6?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let ne=0;ne<he.length;ne++){const de=he[ne],ke=de.regex.exec(t);if(ke){let ct=ke[de.indices.path];ct||(ct=""),i=new Xs(ke[de.indices.bucket],ct),de.postModify(i);break}}if(null==i)throw function v8(n){return new fr("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class A8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function xI(n){return"string"==typeof n||n instanceof String}function u6(n){return FN()&&n instanceof Blob}function FN(){return typeof Blob<"u"}function LN(n,t,e,i){if(i<t)throw Qv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Qv(`Invalid value for '${n}'. Expected ${e} or less.`)}function Th(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function d6(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Cp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Cp||(Cp={})),Cp))();class M8{constructor(t,e,i,r,o,a,u,h,p,m,v){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,I)=>{this.resolve_=A,this.reject_=I,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());!function I8(n){return void 0!==n}(h)?o():o(h)}catch(h){a(h)}else if(null!==u){const h=ON();h.serverResponse=u.getErrorText(),a(this.errorCallback_?this.errorCallback_(u,h):h)}else a(r.canceled?this.appDelete_?l6():o6():function y8(){return new fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new II(!1,null,!0)):this.backoffId_=function T8(n,t,e){let i=1,r=null,o=null,a=!1,u=0;function h(){return 2===u}let p=!1;function m(...L){p||(p=!0,t.apply(null,L))}function v(L){r=setTimeout(()=>{r=null,n(I,h())},L)}function A(){o&&clearTimeout(o)}function I(L,...q){if(p)return void A();if(L)return A(),void m.call(null,L,...q);if(h()||a)return A(),void m.call(null,L,...q);let he;i<64&&(i*=2),1===u?(u=2,he=0):he=1e3*(i+Math.random()),v(he)}let M=!1;function R(L){M||(M=!0,A(),!p&&(null!==r?(L||(u=2),clearTimeout(r),v(0)):L||(u=1)))}return v(0),o=setTimeout(()=>{a=!0,R(!0)},e),R}((i,r)=>{if(r)return void i(!1,new II(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===Cp.NO_ERROR,h=o.getStatus();if(!u||this.isRetryStatusCode_(h)){const m=o.getErrorCode()===Cp.ABORT;return void i(!1,new II(!1,null,m))}const p=-1!==this.successCodes_.indexOf(h);i(!0,new II(p,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function x8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class II{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function L8(...n){const t=function F8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(FN())return new Blob(n);throw new fr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Oa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class UN{constructor(t,e){this.data=t,this.contentType=e||null}}function BN(n,t){switch(n){case Oa.RAW:return new UN(h6(t));case Oa.BASE64:case Oa.BASE64URL:return new UN(f6(n,t));case Oa.DATA_URL:return new UN(function H8(n){const t=new p6(n);return t.base64?f6(Oa.BASE64,t.rest):function V8(n){let t;try{t=decodeURIComponent(n)}catch{throw QC(Oa.DATA_URL,"Malformed data URL.")}return h6(t)}(t.rest)}(t),function Z8(n){return new p6(n).contentType}(t))}throw ON()}function h6(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function f6(n,t){switch(n){case Oa.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw QC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Oa.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw QC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function B8(n){return atob(n)}(t)}catch{throw QC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class p6{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw QC(Oa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function q8(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Qu{constructor(t,e){let i=0,r="";u6(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(u6(this.data_)){const r=function U8(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Qu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qu(i,!0)}}static getBlob(...t){if(FN()){const e=t.map(i=>i instanceof Qu?i.data_:i);return new Qu(L8.apply(null,e))}{const e=t.map(a=>xI(a)?BN(Oa.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(a=>{for(let u=0;u<a.length;u++)r[o++]=a[u]}),new Qu(r,!0)}}uploadData(){return this.data_}}function VN(n){let t;try{t=JSON.parse(n)}catch{return null}return function D8(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function g6(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function G8(n,t){return t}class Io{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||G8}}let SI=null;function XC(){if(SI)return SI;const n=[];n.push(new Io("bucket")),n.push(new Io("generation")),n.push(new Io("metageneration")),n.push(new Io("name","fullPath",!0));const e=new Io("name");e.xform=function t(o,a){return function $8(n){return!xI(n)||n.length<2?n:g6(n)}(a)},n.push(e);const r=new Io("size");return r.xform=function i(o,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Io("timeCreated")),n.push(new Io("updated")),n.push(new Io("md5Hash",null,!0)),n.push(new Io("cacheControl",null,!0)),n.push(new Io("contentDisposition",null,!0)),n.push(new Io("contentEncoding",null,!0)),n.push(new Io("contentLanguage",null,!0)),n.push(new Io("contentType",null,!0)),n.push(new Io("metadata","customMetadata",!0)),SI=n,SI}function m6(n,t,e){const i=VN(t);return null===i?null:function Y8(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const a=e[o];i[a.local]=a.xform(i,t[a.server])}return function W8(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Xs(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function HN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const _6="prefixes";class Ju{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xu(n){if(!n)throw ON()}function DI(n,t){return function e(i,r){const o=m6(n,r,t);return Xu(null!==o),o}}function Jv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function m8(){return new fr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function g8(){return new fr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function p8(n){return new fr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function _8(n){return new fr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function eE(n){const t=Jv(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function f8(n){return new fr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function v6(n,t,e){const r=Th(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new Ju(r,"GET",DI(n,e),a);return u.errorHandler=eE(t),u}function t7(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const u=Th(t.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,m=new Ju(u,"GET",function X8(n,t){return function e(i,r){const o=function J8(n,t,e){const i=VN(e);return null===i?null:function Q8(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[_6])for(const r of e[_6]){const o=r.replace(/\/$/,""),a=n._makeStorageReference(new Xs(t,o));i.prefixes.push(a)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Xs(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Xu(null!==o),o}}(n,t.bucket),p);return m.urlParams=o,m.errorHandler=Jv(t),m}function w6(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function s7(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class MI{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function ZN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xu(!1)}return Xu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const c7={STATE_CHANGED:"state_changed"},So={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qN(n){switch(n){case"running":case"pausing":case"canceling":return So.RUNNING;case"paused":return So.PAUSED;case"success":return So.SUCCESS;case"canceled":return So.CANCELED;default:return So.ERROR}}class u7{constructor(t,e,i){if(function S8(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Xv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class h7 extends class d7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw JC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw JC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw JC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw JC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw JC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function xc(){return new h7}class T6{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=XC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function o7(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),a=w6(t,i,r),u={name:a.fullPath},h=Th(o,n.host,n._protocol),m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=HN(a,e),M=new Ju(h,"POST",function I(R){let L;ZN(R);try{L=R.getResponseHeader("X-Goog-Upload-URL")}catch{Xu(!1)}return Xu(xI(L)),L},n.maxUploadRetryTime);return M.urlParams=u,M.headers=m,M.body=v,M.errorHandler=Jv(t),M}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,xc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function a7(n,t,e,i){const h=new Ju(e,"POST",function o(p){const m=ZN(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xu(!1)}v||Xu(!1);const A=Number(v);return Xu(!isNaN(A)),new MI(A,i.size(),"final"===m)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=Jv(t),h}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,xc,e,i);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new MI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let a;try{a=function l7(n,t,e,i,r,o,a,u){const h=new MI(0,0);if(a?(h.current=a.current,h.total=a.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw function C8(){return new fr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let m=p;r>0&&(m=Math.min(m,r));const v=h.current,M={"X-Goog-Upload-Command":m===p?"upload, finalize":"upload","X-Goog-Upload-Offset":`${h.current}`},R=i.slice(v,v+m);if(null===R)throw a6();const he=new Ju(e,"POST",function L(ne,de){const ke=ZN(ne,["active","final"]),ze=h.current+m,ct=i.size();let bt;return bt="final"===ke?DI(t,o)(ne,de):null,new MI(ze,ct,"final"===ke,bt)},t.maxUploadRetryTime);return he.headers=M,he.body=R.uploadData(),he.progressCallback=u||null,he.errorHandler=Jv(n),he}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const u=this._ref.storage._makeRequest(a,xc,r,o);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=v6(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,xc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function C6(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},h=function u(){let he="";for(let ne=0;ne<2;ne++)he+=Math.random().toString().slice(2);return he}();a["Content-Type"]="multipart/related; boundary="+h;const p=w6(t,i,r),m=HN(p,e),I=Qu.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+m+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===I)throw a6();const M={name:p.fullPath},R=Th(o,n.host,n._protocol),q=n.maxUploadRetryTime,X=new Ju(R,"POST",DI(n,e),q);return X.urlParams=M,X.headers=a,X.body=I.uploadData(),X.errorHandler=Jv(t),X}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,xc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=o6(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=qN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new u7(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(qN(this._state)){case So.SUCCESS:Xv(this._resolve.bind(null,this.snapshot))();break;case So.CANCELED:case So.ERROR:Xv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(qN(this._state)){case So.RUNNING:case So.PAUSED:t.next&&Xv(t.next.bind(t,this.snapshot))();break;case So.SUCCESS:t.complete&&Xv(t.complete.bind(t))();break;default:t.error&&Xv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class zm{constructor(t,e){this._service=t,this._location=e instanceof Xs?e:Xs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new zm(t,e)}get root(){const t=new Xs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g6(this._location.path)}get storage(){return this._service}get parent(){const t=function j8(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Xs(this._location.bucket,t);return new zm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw c6(t)}}function I6(n,t,e){return jN.apply(this,arguments)}function jN(){return jN=(0,Ie.Z)(function*(n,t,e){const r=yield S6(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield I6(n,t,r.nextPageToken))}),jN.apply(this,arguments)}function S6(n,t){null!=t&&"number"==typeof t.maxResults&&LN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=t7(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,xc)}function A7(n){n._throwIfRoot("getDownloadURL");const t=function n7(n,t,e){const r=Th(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new Ju(r,"GET",function e7(n,t){return function e(i,r){const o=m6(n,r,t);return Xu(null!==o),function K8(n,t,e,i){const r=VN(t);if(null===r||!xI(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map(p=>{const v=n.fullPath;return Th("/b/"+a(n.bucket)+"/o/"+a(v),e,i)+d6({alt:"media",token:p})})[0]}(o,r,n.host,n._protocol)}}(n,e),a);return u.errorHandler=eE(t),u}(n.storage,n._location,XC());return n.storage.makeRequestWithTokens(t,xc).then(e=>{if(null===e)throw function E8(){return new fr("no-download-url","The given file does not have any download URLs.")}();return e})}function D6(n,t){const e=function z8(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Xs(n._location.bucket,e);return new zm(n.storage,i)}function M6(n,t){if(n instanceof zN){const e=n;if(null==e._bucket)throw function w8(){return new fr("no-default-bucket","No default bucket found. Did you set the '"+s6+"' property when initializing the app?")}();const i=new zm(e,e._bucket);return null!=t?M6(i,t):i}return void 0!==t?D6(n,t):n}function S7(n,t){if(t&&function x7(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof zN)return function I7(n,t){return new zm(n,t)}(n,t);throw Qv("To use ref(service, url), the first argument must be a Storage instance.")}return M6(n,t)}function P6(n,t){const e=t?.[s6];return null==e?null:Xs.makeFromBucketSpec(e,n)}class zN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=r6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Xs.makeFromBucketSpec(r,this._host):P6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Xs.makeFromBucketSpec(this._url,t):P6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){LN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){LN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ie.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ie.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new zm(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new A8(l6());{const o=function O8(n,t,e,i,r,o){const a=d6(n.urlParams),u=n.url+a,h=Object.assign({},n.headers);return function N8(n,t){t&&(n["X-Firebase-GMPID"]=t)}(h,t),function P8(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(h,e),function R8(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(h,o),function k8(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(h,i),new M8(u,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,Ie.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const R6="@firebase/storage";function O6(n,t){return S7(n=(0,U.m9)(n),t)}function B7(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new zN(e,i,r,t,Yr.SDK_VERSION)}!function V7(){(0,Yr._registerComponent)(new yo.wA("storage",B7,"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)(R6,"0.9.8",""),(0,Yr.registerVersion)(R6,"0.9.8","esm2017")}();class PI{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class F6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new PI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new PI(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?a=>e(new PI(a,this,this._ref)):{next:e.next?a=>e.next(new PI(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class L6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new xh(t,this._service))}get items(){return this._delegate.items.map(t=>new xh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function L7(n,t){return D6(n,t)}(this._delegate,t);return new xh(e,this.storage)}get root(){return new xh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new xh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new F6(function M7(n,t,e){return function v7(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new T6(n,new Qu(t),e)}(n=(0,U.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Oa.RAW,i){this._throwIfRoot("putString");const r=BN(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new F6(new T6(this._delegate,new Qu(r.data,!0),o),this)}listAll(){return function k7(n){return function w7(n){const t={prefixes:[],items:[]};return I6(n,t).then(()=>t)}(n=(0,U.m9)(n))}(this._delegate).then(t=>new L6(t,this.storage))}list(t){return function N7(n,t){return S6(n=(0,U.m9)(n),t)}(this._delegate,t||void 0).then(e=>new L6(e,this.storage))}getMetadata(){return function P7(n){return function C7(n){n._throwIfRoot("getMetadata");const t=v6(n.storage,n._location,XC());return n.storage.makeRequestWithTokens(t,xc)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(t){return function R7(n,t){return function E7(n,t){n._throwIfRoot("updateMetadata");const e=function i7(n,t,e,i){const o=Th(t.fullServerUrl(),n.host,n._protocol),u=HN(e,i),p=n.maxOperationRetryTime,m=new Ju(o,"PATCH",DI(n,i),p);return m.headers={"Content-Type":"application/json; charset=utf-8"},m.body=u,m.errorHandler=eE(t),m}(n.storage,n._location,t,XC());return n.storage.makeRequestWithTokens(e,xc)}(n=(0,U.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function O7(n){return A7(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function F7(n){return function T7(n){n._throwIfRoot("deleteObject");const t=function r7(n,t){const i=Th(t.fullServerUrl(),n.host,n._protocol),u=new Ju(i,"DELETE",function a(h,p){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=eE(t),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,xc)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw c6(t)}}class U6{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(B6(t))throw Qv("ref() expected a child path but got a URL, use refFromURL instead.");return new xh(O6(this._delegate,t),this)}refFromURL(t){if(!B6(t))throw Qv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xs.makeFromUrl(t,this._delegate.host)}catch{throw Qv("refFromUrl() expected a valid full URL but got an invalid one.")}return new xh(O6(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function U7(n,t,e,i={}){!function D7(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,U.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function B6(n){return/^[A-Za-z]+:\/\//.test(n)}function j7(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new U6(e,i)}function V6(n){const t=function G7(n){return new ti.y(t=>{const e=a=>t.next(a);e(n.snapshot);const o=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){o()}}).pipe(KC(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,gt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function RI(n){return{getDownloadURL:()=>yt(void 0).pipe(Wt.fc,Wn(()=>n.getDownloadURL()),Wt.iC),getMetadata:()=>yt(void 0).pipe(Wt.fc,Wn(()=>n.getMetadata()),Wt.iC),delete:()=>(0,On.D)(n.delete()),child:t=>RI(n.child(t)),updateMetadata:t=>(0,On.D)(n.updateMetadata(t)),put:(t,e)=>V6(n.put(t,e)),putString:(t,e,i)=>V6(n.putString(t,e,i)),list:t=>(0,On.D)(n.list(t)),listAll:()=>(0,On.D)(n.listAll())}}!function z7(n){const t={TaskState:So,TaskEvent:c7,StringFormat:Oa,Storage:U6,Reference:xh};n.INTERNAL.registerComponent(new yo.wA("storage-compat",j7,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.16")}(IN.Z);const $7=new s.OlP("angularfire2.storageBucket"),W7=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Y7=new s.OlP("angularfire2.storage.maxOperationRetryTime"),K7=new s.OlP("angularfire2.storage.use-emulator");let H6=(()=>{class n{constructor(e,i,r,o,a,u,h,p,m,v){const A=(0,At.on)(e,a,i);this.storage=(0,At.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const I=a.runOutsideAngular(()=>A.storage(r||void 0)),M=m;return M&&I.useEmulator(...M),h&&I.setMaxUploadRetryTime(h),p&&I.setMaxOperationRetryTime(p),I},[h,p])}ref(e){return RI(this.storage.ref(e))}refFromURL(e){return RI(this.storage.refFromURL(e))}upload(e,i,r){return RI(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(At.Dh),s.LFG(At.xv,8),s.LFG($7,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Wt.HU),s.LFG(W7,8),s.LFG(Y7,8),s.LFG(K7,8),s.LFG($d,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Q7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),J7=(()=>{class n{constructor(){L1.Z.registerVersion("angularfire",Wt.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[H6],imports:[Q7]}),n})(),Gm=(()=>{class n{constructor(e,i){this.fs=e,this.storage=i}getAll(e){return this.fs.collection(`${e}`).snapshotChanges()}getByID(e,i){return this.fs.doc(`${e}/${i}`).valueChanges()}getByGroubIds(e,i){return this.fs.collection(e,r=>r.where(function uj(){return new Eh("__name__")}(),"in",i)).snapshotChanges()}getByQuery(e,i,r,o){return this.fs.collection(e,a=>a.where(i,r,o)).snapshotChanges()}getCollectionGroub(e){return this.fs.collectionGroup(`${e}`).snapshotChanges()}addNewDoc(e,i){return this.fs.collection(`${e}`).add(i)}addSubCollectionInSpecificDoc(e,i,r){return this.fs.collection(`${e}`).doc(`${i}`).collection(`${r}`).add({})}addNewDocWithImg(e,i,r,o){return new Promise(a=>{this.uploadImg(i[o],r).then(u=>{i[o]=u,this.addNewDoc(e,i).then(()=>{a()})})})}setNewDocWithImg_SpecificID(e,i,r,o,a){return new Promise(u=>{this.uploadImg(r[a],o).then(h=>{r[a]=h,this.addDocWithSpecificId(e,i,r).then(()=>{u()})})})}updateDoc(e,i,r){return this.fs.doc(`${e}/${i}`).update(r)}deleteDoc(e,i){return this.fs.doc(`${e}/${i}`).delete()}addDocWithSpecificId(e,i,r){return this.fs.collection(`${e}`).doc(`${i}`).set(r)}newImage(e,i,r){return this.fs.collection(`${e}`).doc(`${i}`).update(r)}UploadImageNew(e,i,r,o,a){return new Promise(u=>{this.uploadImg(r[a],o).then(h=>{r[a]=h,this.newImage(e,i,r).then(()=>{u()})})})}uploadImg(e,i){return new Promise(r=>{this.storage.upload(i+Math.random()+e.name,e).then(o=>{o.ref.getDownloadURL().then(a=>{console.log(a),r(a)})})})}updateImg(e,i){return new Promise(r=>{this.storage.refFromURL(i).put(e).then(o=>{o.ref.getDownloadURL().then(a=>{r(a)})})})}deleteImg(e){return this.storage.refFromURL(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kv),s.LFG(H6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$m=(()=>{class n{constructor(e,i){this.asAuth=e,this.crud=i,this.collectionName="Admins",this.isAdminLoggedSub=new Oi(this.getIsAdminLogged)}logIn(e,i,r){localStorage.setItem("token",r),this.isAdminLoggedSub.next(!0)}logOut(){localStorage.removeItem("token"),this.isAdminLoggedSub.next(!1)}get getIsAdminLogged(){return!!localStorage.getItem("token")}getCurrentAdmin(e){return this.crud.getByID(this.collectionName,e)}addNewAdmin(e){var i=this;return(0,Ie.Z)(function*(){yield i.asAuth.createUserWithEmailAndPassword(e.email,e.password).then(r=>i.crud.addDocWithSpecificId(i.collectionName,r.user?.uid,e))})()}makeUserAdmin(e){return this.crud.addDocWithSpecificId(this.collectionName,e.id,e)}getAllAdmins(){return this.crud.getAll(this.collectionName)}updateAdmin(e,i){return this.crud.updateDoc(this.collectionName,e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vl),s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X7=(()=>{class n{constructor(e,i){this.router=e,this.authAdmin=i}canActivate(e,i){return!!this.authAdmin.getIsAdminLogged||(setTimeout(()=>{this.router.navigate(["/Login"])},700),!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hn),s.LFG($m))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ez=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-analytics"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"analytics works!"),s.qZA())}}),n})();function Z6(...n){const t=(0,Fn.jO)(n),{args:e,keys:i}=va(n),r=new ti.y(o=>{const{length:a}=e;if(!a)return void o.complete();const u=new Array(a);let h=a,p=a;for(let m=0;m<a;m++){let v=!1;(0,Cs.Xf)(e[m]).subscribe((0,ni.x)(o,A=>{v||(v=!0,p--),u[m]=A},()=>h--,void 0,()=>{(!h||!v)&&(p||o.next(i?Zs(i,u):u),o.complete())}))}});return t?r.pipe(Vo(t)):r}let q6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Wm=(()=>{class n extends q6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Pl=new s.OlP("NgValueAccessor"),nz={provide:Pl,useExisting:(0,s.Gpc)(()=>Ic),multi:!0},rz=new s.OlP("CompositionEventMode");let Ic=(()=>{class n extends q6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iz(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(rz,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([nz]),s.qOj]}),n})();function Ep(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function z6(n){return null!=n&&"number"==typeof n.length}const eo=new s.OlP("NgValidators"),Ap=new s.OlP("NgAsyncValidators"),oz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ut{static min(t){return G6(t)}static max(t){return function $6(n){return t=>{if(Ep(t.value)||Ep(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return W6(t)}static requiredTrue(t){return function Y6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function K6(n){return Ep(n.value)||oz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return Q6(t)}static maxLength(t){return function J6(n){return t=>z6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function X6(n){if(!n)return NI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ep(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return o3(t)}static composeAsync(t){return a3(t)}}function G6(n){return t=>{if(Ep(t.value)||Ep(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function W6(n){return Ep(n.value)?{required:!0}:null}function Q6(n){return t=>Ep(t.value)||!z6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function NI(n){return null}function e3(n){return null!=n}function t3(n){return(0,s.QGY)(n)?(0,On.D)(n):n}function n3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function r3(n,t){return t.map(e=>e(n))}function s3(n){return n.map(t=>function az(n){return!n.validate}(t)?t:e=>t.validate(e))}function o3(n){if(!n)return null;const t=n.filter(e3);return 0==t.length?null:function(e){return n3(r3(e,t))}}function GN(n){return null!=n?o3(s3(n)):null}function a3(n){if(!n)return null;const t=n.filter(e3);return 0==t.length?null:function(e){return Z6(r3(e,t).map(t3)).pipe((0,gt.U)(n3))}}function $N(n){return null!=n?a3(s3(n)):null}function l3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function c3(n){return n._rawValidators}function u3(n){return n._rawAsyncValidators}function WN(n){return n?Array.isArray(n)?n:[n]:[]}function kI(n,t){return Array.isArray(n)?n.includes(t):n===t}function d3(n,t){const e=WN(t);return WN(n).forEach(r=>{kI(e,r)||e.push(r)}),e}function h3(n,t){return WN(t).filter(e=>!kI(n,e))}class f3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=GN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$N(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Do extends f3{get formDirective(){return null}get path(){return null}}class Tp extends f3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class p3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sc=(()=>{class n extends p3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tp,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),xp=(()=>{class n extends p3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Do,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const tE="VALID",FI="INVALID",e0="PENDING",nE="DISABLED";function JN(n){return(LI(n)?n.validators:n)||null}function m3(n){return Array.isArray(n)?GN(n):n||null}function XN(n,t){return(LI(t)?t.asyncValidators:n)||null}function _3(n){return Array.isArray(n)?$N(n):n||null}function LI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function y3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function v3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class UI{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=m3(this._rawValidators),this._composedAsyncValidatorFn=_3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===tE}get invalid(){return this.status===FI}get pending(){return this.status==e0}get disabled(){return this.status===nE}get enabled(){return this.status!==nE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=m3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_3(t)}addValidators(t){this.setValidators(d3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(d3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(h3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(h3(t,this._rawAsyncValidators))}hasValidator(t){return kI(this._rawValidators,t)}hasAsyncValidator(t){return kI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=e0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nE,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tE,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tE||this.status===e0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nE:tE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=e0,this._hasOwnPendingAsyncValidator=!0;const e=t3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?nE:this.errors?FI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(e0)?e0:this._anyControlsHaveStatus(FI)?FI:tE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){LI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class BI extends UI{constructor(t,e,i){super(JN(e),XN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){v3(this,0,t),Object.keys(t).forEach(i=>{y3(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function VI(n,t){return[...t.path,n]}function iE(n,t){ek(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function mz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&b3(n,t)})}(n,t),function yz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function _z(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&b3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gz(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function HI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),qI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ZI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ek(n,t){const e=c3(n);null!==t.validator?n.setValidators(l3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=u3(n);null!==t.asyncValidator?n.setAsyncValidators(l3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ZI(t._rawValidators,r),ZI(t._rawAsyncValidators,r)}function qI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=c3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=u3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return ZI(t._rawValidators,i),ZI(t._rawAsyncValidators,i),e}function b3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function w3(n,t){ek(n,t)}function tk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function E3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function nk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ic?e=o:function wz(n){return Object.getPrototypeOf(n.constructor)===Wm}(o)?i=o:r=o}),r||i||e||null}const Ez={provide:Do,useExisting:(0,s.Gpc)(()=>sE)},rE=(()=>Promise.resolve(null))();let sE=(()=>{class n extends Do{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new BI({},GN(e),$N(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){rE.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),iE(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){rE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){rE.then(()=>{const i=this._findContainer(e.path),r=new BI({});w3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){rE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){rE.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,E3(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eo,10),s.Y36(Ap,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Ez]),s.qOj]}),n})();function A3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function T3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const oE=class extends UI{constructor(t=null,e,i){super(JN(e),XN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),LI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=T3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){A3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){A3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){T3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let x3=(()=>{class n extends Do{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return VI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const xz={provide:Tp,useExisting:(0,s.Gpc)(()=>Ip)},S3=(()=>Promise.resolve(null))();let Ip=(()=>{class n extends Tp{constructor(e,i,r,o,a){super(),this._changeDetectorRef=a,this.control=new oE,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=nk(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),tk(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){iE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){S3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);S3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?VI(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Do,9),s.Y36(eo,10),s.Y36(Ap,10),s.Y36(Pl,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([xz]),s.qOj,s.TTD]}),n})(),t0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Iz={provide:Pl,useExisting:(0,s.Gpc)(()=>n0),multi:!0};let n0=(()=>{class n extends Wm{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([Iz]),s.qOj]}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ik=new s.OlP("NgModelWithFormControlWarning"),Rz={provide:Do,useExisting:(0,s.Gpc)(()=>Ih)};let Ih=(()=>{class n extends Do{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return iE(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){HI(e.control||null,e,!1),function Cz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,E3(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(HI(i||null,e),(n=>n instanceof oE)(r)&&(iE(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);w3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function vz(n,t){return qI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ek(this.form,this),this._oldForm&&qI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eo,10),s.Y36(Ap,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Rz]),s.qOj,s.TTD]}),n})();const Nz={provide:Do,useExisting:(0,s.Gpc)(()=>r0)};let r0=(()=>{class n extends x3{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){N3(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Do,13),s.Y36(eo,10),s.Y36(Ap,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([Nz]),s.qOj]}),n})();const kz={provide:Do,useExisting:(0,s.Gpc)(()=>Ym)};let Ym=(()=>{class n extends Do{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return VI(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){N3(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Do,13),s.Y36(eo,10),s.Y36(Ap,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([kz]),s.qOj]}),n})();function N3(n){return!(n instanceof r0||n instanceof Ih||n instanceof Ym)}const Oz={provide:Tp,useExisting:(0,s.Gpc)(()=>Sp)};let Sp=(()=>{class n extends Tp{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=nk(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),tk(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return VI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Do,13),s.Y36(eo,10),s.Y36(Ap,10),s.Y36(Pl,10),s.Y36(ik,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Oz]),s.qOj,s.TTD]}),n})();const Fz={provide:Pl,useExisting:(0,s.Gpc)(()=>jI),multi:!0};function k3(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let jI=(()=>{class n extends Wm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=k3(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Lz(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Fz]),s.qOj]}),n})(),O3=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(k3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(jI,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Uz={provide:Pl,useExisting:(0,s.Gpc)(()=>rk),multi:!0};function F3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let rk=(()=>{class n extends Wm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let u=0;u<a.length;u++){const p=this._getOptionValue(a[u].value);r.push(p)}}else{const a=i.options;for(let u=0;u<a.length;u++){const h=a[u];if(h.selected){const p=this._getOptionValue(h.value);r.push(p)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Bz(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Uz]),s.qOj]}),n})(),L3=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(F3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(F3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(rk,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Km=(()=>{class n{constructor(){this._validator=NI}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):NI,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Hz={provide:eo,useExisting:(0,s.Gpc)(()=>zI),multi:!0};let zI=(()=>{class n extends Km{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function B3(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>G6(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[s._Bn([Hz]),s.qOj]}),n})();const Zz={provide:eo,useExisting:(0,s.Gpc)(()=>aE),multi:!0};let aE=(()=>{class n extends Km{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>W6}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Zz]),s.qOj]}),n})();const zz={provide:eo,useExisting:(0,s.Gpc)(()=>sk),multi:!0};let sk=(()=>{class n extends Km{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function U3(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Q6(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[s._Bn([zz]),s.qOj]}),n})(),z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[D3]}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[z3]}),n})(),G3=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ik,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[z3]}),n})();class $3 extends UI{constructor(t,e,i){super(JN(e),XN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){v3(this,0,t),t.forEach((i,r)=>{y3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function W3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let s0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let u,o=null,a=null;return null!==i&&(W3(i)?(o=null!=i.validators?i.validators:null,a=null!=i.asyncValidators?i.asyncValidators:null,u=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,a=null!=i.asyncValidator?i.asyncValidator:null)),new BI(r,{asyncValidators:a,updateOn:u,validators:o})}control(e,i,r){let o={};return this.useNonNullable?(W3(i)?o=i:(o.validators=i,o.asyncValidators=r),new oE(e,{...o,nonNullable:!0})):new oE(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new $3(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof oE||e instanceof UI?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:G3}),n})(),lE=(()=>{class n{constructor(e){this.crudService=e,this.collectionName="Brands"}getAllBrands(){return this.crudService.getAll(`${this.collectionName}`)}getBrandByID(e){return this.crudService.getByID(`${this.collectionName}`,e)}addNewBrand(e){return new Promise(i=>{this.uploadOfferImg(e).then(()=>{this.crudService.uploadImg(e.logo,`${this.collectionName}/`).then(r=>{e.logo=r,this.crudService.addNewDoc(`${this.collectionName}`,e).then(()=>{console.log("added successfully"),i(!0)}).catch(o=>{console.log(o)})})})})}updateBrand(e,i,r){return new Promise(o=>{this.updateOffers(e,r).then(()=>{this.updateLogo(e,r).then(()=>{this.crudService.updateDoc(`${this.collectionName}`,i,e).then(()=>{o()})})}).catch(a=>{console.log(a)})})}deleteBrand(e,i){return new Promise(r=>{this.crudService.deleteImg(i.logo).subscribe(()=>{i.offers.forEach((o,a)=>{this.crudService.deleteImg(o.imgOffer).subscribe(()=>{a==i.offers.length-1&&this.crudService.deleteDoc(`${this.collectionName}`,e).then(()=>{r()})})}),this.crudService.deleteDoc(`${this.collectionName}`,e).then(()=>{r()})})})}updateLogo(e,i){return new Promise(r=>{"string"==typeof e.logo?r():this.crudService.updateImg(e.logo,i.logo).then(o=>{e.logo=o,r()})})}uploadOfferImg(e){var i=this;return(0,Ie.Z)(function*(){let r=0;for(;r<e.offers.length;)console.log(e.offers[r].imgOffer),yield i.crudService.uploadImg(e.offers[r].imgOffer,"Offers/").then(o=>{e.offers[r].imgOffer=o,r++}).catch(o=>{console.log(o)});if(r==e.offers.length)return new Promise(o=>{o()})})()}updateOffers(e,i){var r=this;return(0,Ie.Z)(function*(){let o=0;for(;o<e.offers.length;){for(console.log("in big while",o);o<i.offers.length;)console.log("in first while",o),"string"==typeof e.offers[o].imgOffer?o++:(console.log(e.offers[o].imgOffer),console.log(i.offers[o].imgOffer),yield r.crudService.updateImg(e.offers[o].imgOffer,i.offers[o].imgOffer).then(a=>{e.offers[o].imgOffer=a,o++}).catch(a=>{console.log(a)}));for(;o>=i.offers.length&&o<e.offers.length;)console.log("in second while",o),yield r.crudService.uploadImg(e.offers[o].imgOffer,"Offers/").then(a=>{e.offers[o].imgOffer=a,o++}).catch(a=>{console.log(a)})}if(o==e.offers.length)return console.log("in return",e.offers.length),new Promise(a=>{a()})})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yz=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Kz(){return(0,s.f3M)(le)}}),Qz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Y3(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Qz.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}let cE=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=Y3((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yz,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K3=(()=>{class n{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new s.vpe}get dir(){return this._dir}set dir(e){const i=this._dir;this._dir=Y3(e),this._rawDir=e,i!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","dir",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("dir",i._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[s._Bn([{provide:cE,useExisting:n}])]}),n})(),uE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Jz=["img"];function Xz(n,t){1&n&&(s.TgZ(0,"h2",28),s._UZ(1,"i",29),s._uU(2," Add New Brand:"),s.qZA())}function eG(n,t){1&n&&(s.TgZ(0,"h2",28),s._UZ(1,"i",29),s._uU(2," Update Brand:"),s.qZA())}function tG(n,t){if(1&n&&(s.TgZ(0,"div",30)(1,"b"),s._uU(2,"Brand ID:"),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw();s.xp6(3),s.hij(" ",e.updatedID," ")}}function nG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand Name is required! "),s.qZA())}function iG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand Name isn't match! "),s.qZA())}function rG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,nG,2,0,"small",32),s.YNc(2,iG,2,0,"small",32),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.brandNamePro||null==e.brandNamePro.errors?null:e.brandNamePro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.brandNamePro||null==e.brandNamePro.errors?null:e.brandNamePro.errors.pattern)}}function sG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0633\u0645 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function oG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0633\u0645 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0644\u0627 \u064a\u0635\u0644\u062d! "),s.qZA())}function aG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,sG,2,0,"small",32),s.YNc(2,oG,2,0,"small",32),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.brandNameARPro||null==e.brandNameARPro.errors?null:e.brandNameARPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.brandNameARPro||null==e.brandNameARPro.errors?null:e.brandNameARPro.errors.pattern)}}function lG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand Logo is required! "),s.qZA())}function cG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,lG,2,0,"small",32),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.BrandLogoPro||null==e.BrandLogoPro.errors?null:e.BrandLogoPro.errors.required)}}function uG(n,t){1&n&&(s.TgZ(0,"p",44)(1,"b"),s._uU(2,"---------------- offers ----------------"),s.qZA()())}function dG(n,t){1&n&&s._UZ(0,"hr",45)}function hG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand offer info is required! "),s.qZA())}function fG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand offer info must containe 10 characters at least! "),s.qZA())}function pG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,hG,2,0,"small",32),s.YNc(2,fG,2,0,"small",32),s.qZA()),2&n){const e=s.oxw().$implicit;let i,r;s.xp6(1),s.Q6J("ngIf",null==(i=e.get("offerInfo"))||null==i.errors?null:i.errors.required),s.xp6(1),s.Q6J("ngIf",null==(r=e.get("offerInfo"))||null==r.errors?null:r.errors.minlength)}}function gG(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand offer img is required! "),s.qZA())}function mG(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,gG,2,0,"small",32),s.qZA()),2&n){const e=s.oxw().$implicit;let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.get("offerImg"))||null==i.errors?null:i.errors.required)}}function _G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",33),s.YNc(1,uG,3,0,"p",34),s.YNc(2,dG,1,0,"hr",35),s.TgZ(3,"label",36)(4,"b"),s._uU(5),s.qZA()(),s.TgZ(6,"div",37)(7,"div",38)(8,"label",39),s._uU(9,"Add Img Offer:"),s.qZA(),s._UZ(10,"input",40),s.qZA(),s.TgZ(11,"div",33),s._UZ(12,"textarea",41),s.qZA(),s.YNc(13,pG,3,2,"div",9),s.YNc(14,mG,2,1,"div",9),s.TgZ(15,"div",42)(16,"button",43),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addNewoffer())}),s._uU(17,"Add New Offer"),s.qZA(),s.TgZ(18,"button",19),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw();return s.KtG(a.removeOffer(o))}),s._uU(19,"-"),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();let o,a;s.xp6(1),s.Q6J("ngIf",0==i),s.xp6(1),s.Q6J("ngIf",i>=1),s.xp6(1),s.s9C("for","offer-"+i),s.xp6(2),s.hij("offer ",i+1,":"),s.xp6(1),s.s9C("formGroupName",i),s.xp6(4),s.MGl("id","offerImg",i,""),s.xp6(2),s.MGl("id","offerInfo",i,""),s.xp6(1),s.Q6J("ngIf",!(null!=(o=e.get("offerInfo"))&&o.invalid&&null!=(o=e.get("offerInfo"))&&o.untouched)),s.xp6(1),s.Q6J("ngIf",!(null!=(a=e.get("offerImg"))&&a.invalid&&null!=(a=e.get("offerImg"))&&a.untouched)),s.xp6(2),s.ekj("d-none",i!=r.BrandOffersPro.controls.length-1),s.Q6J("disabled",null==e?null:e.invalid),s.xp6(2),s.ekj("d-none",i<0)}}function yG(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Add"),s.qZA())}function vG(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Update"),s.qZA())}function bG(n,t){1&n&&(s.TgZ(0,"div",46)(1,"span",47),s._uU(2,"Loading..."),s.qZA()())}function wG(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Added"),s.qZA())}function CG(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Updated"),s.qZA())}function EG(n,t){if(1&n&&(s.TgZ(0,"div",48)(1,"h2"),s._uU(2,"Brand has "),s.YNc(3,wG,2,0,"b",24),s.YNc(4,CG,2,0,"ng-template",null,49,s.W1O),s._uU(6," succeccfully!"),s.qZA()()),2&n){const e=s.MAs(5),i=s.oxw();s.xp6(3),s.Q6J("ngIf",i.Add)("ngIfElse",e)}}let Q3=(()=>{class n{constructor(e,i,r,o){this.routerActive=e,this.FormBuilder=i,this.brandService=r,this.router=o,this.Add=!1,this.updatedID=null,this.updatedBrand={},this.isload=!1,this.done=!1,this.saveBrandForm=i.group({BrandName:["",[ut.required,ut.pattern("[a-z A-Z]{3,}")]],BrandNameAR:["",[ut.required,ut.pattern("[\u0621-\u064a ]{3,}")]],BrandLogo:["",[]],BrandOffers:i.array([])})}ngOnInit(){this.routerActive.paramMap.subscribe(e=>{e.get("id")?(console.log("inonit"),this.Add=!1,this.updatedID=e.get("id"),this.brandService.getBrandByID(this.updatedID).subscribe(i=>{console.log("getted brand",i),this.updatedBrand=i;for(let r=0;r<i.offers.length;r++)this.addNewoffer();this.BrandOffersPro.controls.forEach(r=>{r.get("offerImg")?.removeValidators([ut.required])}),this.saveBrandForm.patchValue({BrandName:i.name,BrandNameAR:i.nameAR,BrandOffers:i.offers}),console.log(this.Add,this.saveBrandForm)})):(this.Add=!0,this.updatedID=null,this.BrandLogoPro?.addValidators([ut.required]))})}get brandNamePro(){return this.saveBrandForm.get("BrandName")}get brandNameARPro(){return this.saveBrandForm.get("BrandNameAR")}get BrandLogoPro(){return this.saveBrandForm.get("BrandLogo")}get BrandOffersPro(){return this.saveBrandForm.get("BrandOffers")}get offerImgPro(){return this.saveBrandForm.get("BrandOffers")?.get("offerImg")}get offerInfoPro(){return this.saveBrandForm.get("BrandOffers")?.get("offerInfo")}addNewoffer(){this.BrandOffersPro.push(this.FormBuilder.group({offerImg:["",[ut.required]],offerInfo:["",[ut.required,ut.minLength(10)]]}))}removeOffer(e){this.BrandOffersPro.removeAt(e),this.Add||this.updatedBrand.offers.splice(e,1)}SaveBrand(){this.isload=!0;let e=[];this.BrandOffersPro.controls.forEach((o,a)=>{let u=document.getElementById("offerImg"+a)?.files[0],h={imgOffer:this.Add?u:u||this.updatedBrand.offers[a].imgOffer,offerInfo:o.get("offerInfo")?.value};e.push(h)});let i=this.img.nativeElement.files[0],r={name:this.brandNamePro?.value,nameAR:this.brandNameARPro?.value,logo:this.Add?i:i||this.updatedBrand.logo,offers:e};this.Add?this.brandService.addNewBrand(r).then(()=>{this.Saved()}):this.brandService.updateBrand(r,this.updatedID,this.updatedBrand).then(()=>{this.Saved()})}Saved(){this.isload=!1,this.done=!0,this.saveBrandForm.reset(),setTimeout(()=>{this.router.navigate(this.Add?["/Brands"]:[`/Brand/${this.updatedID}`])},3e3)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vr),s.Y36(s0),s.Y36(lE),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-update-brand"]],viewQuery:function(e,i){if(1&e&&s.Gf(Jz,5),2&e){let r;s.iGM(r=s.CRH())&&(i.img=r.first)}},decls:40,vars:23,consts:[["class","text-start mb-0",4,"ngIf","ngIfElse"],["update",""],[1,"w-75","mx-auto","mb-5","px-5","pb-4","pt-1","mt-0"],[3,"formGroup"],["class","mb-4 text-center",4,"ngIf"],[1,"mb-4","d-flex","flex-wrap"],[1,"col-lg-6","col-12","pe-lg-2","pe-0"],["for","bName",1,"form-label","fs-7"],["type","text","name","brandName","id","bName","formControlName","BrandName","placeholder","Enter Brand Name ..",1,"form-control","input","shadow"],["class","text-danger",4,"ngIf"],["dir","rtl",1,"col-lg-6","col-12","ps-lg-2","ps-0"],["for","bNameAR",1,"form-label","fs-7"],["type","text","name","brandNameAR","id","bNameAR","formControlName","BrandNameAR","placeholder","\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 ..",1,"form-control","input","shadow"],[1,"mb-5"],["for","img",1,"form-label","fs-7"],[1,"text-muted",2,"font-size","0.6rem"],["type","file","name","img","id","img","accept",".png,.jpg,.jpeg","formControlName","BrandLogo",1,"form-control","shadow"],["img",""],["formArrayName","BrandOffers",1,"w-100"],[1,"btn","offerbtn",3,"click"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mt-4","mx-2","mb-2"],[1,"text-center","d-flex","justify-content-center"],[1,"btn","submitbtn","px-5",3,"disabled","click"],[4,"ngIf","ngIfElse"],["upd",""],["class","spinner-border text-warning ms-4","role","status",4,"ngIf"],["class","text-dark ms-4",4,"ngIf"],[1,"text-start","mb-0"],[1,"fa-solid","fa-pen-to-square","fs-3","m-3"],[1,"mb-4","text-center"],[1,"text-danger"],[4,"ngIf"],[1,"mb-3"],["class","fs-7 text-center mt-5",4,"ngIf"],["class","mt-0 mb-4 mx-5",4,"ngIf"],[1,"form-label","fs-7",3,"for"],[1,"w-100","mb-3","fs-7",3,"formGroupName"],[1,"mb-3","d-flex"],[1,"py-2","me-xl-3","me-0"],["type","file","name","offerImg","formControlName","offerImg","placeholder","offerImg ..",1,"form-control","input","shadow",2,"width","85%",3,"id"],["name","offerInfo","formControlName","offerInfo","placeholder","offer Information ..",1,"form-control","input","shadow",3,"id"],[1,"text-end"],[1,"btn","offerbtn",3,"disabled","click"],[1,"fs-7","text-center","mt-5"],[1,"mt-0","mb-4","mx-5"],["role","status",1,"spinner-border","text-warning","ms-4"],[1,"visually-hidden"],[1,"text-dark","ms-4"],["up",""]],template:function(e,i){if(1&e&&(s.YNc(0,Xz,3,0,"h2",0),s.YNc(1,eG,3,0,"ng-template",null,1,s.W1O),s.TgZ(3,"div",2)(4,"form",3),s.YNc(5,tG,4,1,"div",4),s.TgZ(6,"div",5)(7,"div",6)(8,"label",7)(9,"b"),s._uU(10,"Brand Name:"),s.qZA()(),s._UZ(11,"input",8),s.YNc(12,rG,3,2,"div",9),s.qZA(),s.TgZ(13,"div",10)(14,"label",11)(15,"b"),s._uU(16,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"),s.qZA()(),s._UZ(17,"input",12),s.YNc(18,aG,3,2,"div",9),s.qZA()(),s.TgZ(19,"div",13)(20,"label",14)(21,"b"),s._uU(22,"Brand Logo:"),s.qZA()(),s.TgZ(23,"small",15),s._uU(24," (*.PNG, *.JPG, *.JPEG)"),s.qZA(),s._UZ(25,"input",16,17),s.YNc(27,cG,2,1,"div",9),s.qZA(),s.TgZ(28,"div",18)(29,"button",19),s.NdJ("click",function(){return i.addNewoffer()}),s._uU(30,"Add New Offer"),s.qZA(),s.YNc(31,_G,20,14,"div",20),s.qZA(),s._UZ(32,"hr",21),s.TgZ(33,"div",22)(34,"button",23),s.NdJ("click",function(){return i.SaveBrand()}),s.YNc(35,yG,2,0,"b",24),s.YNc(36,vG,2,0,"ng-template",null,25,s.W1O),s.qZA(),s.YNc(38,bG,3,0,"div",26),s.YNc(39,EG,7,2,"div",27),s.qZA()()()),2&e){const r=s.MAs(2),o=s.MAs(37);s.Q6J("ngIf",i.Add)("ngIfElse",r),s.xp6(4),s.Q6J("formGroup",i.saveBrandForm),s.xp6(1),s.Q6J("ngIf",!i.Add),s.xp6(6),s.ekj("is-valid",null==i.brandNamePro?null:i.brandNamePro.valid)("is-invalid",(null==i.brandNamePro?null:i.brandNamePro.invalid)&&(null==i.brandNamePro?null:i.brandNamePro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.brandNamePro&&i.brandNamePro.invalid&&null!=i.brandNamePro&&i.brandNamePro.untouched)),s.xp6(5),s.ekj("is-valid",null==i.brandNameARPro?null:i.brandNameARPro.valid)("is-invalid",(null==i.brandNameARPro?null:i.brandNameARPro.invalid)&&(null==i.brandNameARPro?null:i.brandNameARPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.brandNameARPro&&i.brandNameARPro.invalid&&null!=i.brandNameARPro&&i.brandNameARPro.untouched)),s.xp6(9),s.Q6J("ngIf",!(null!=i.BrandLogoPro&&i.BrandLogoPro.invalid&&null!=i.BrandLogoPro&&i.BrandLogoPro.untouched)),s.xp6(2),s.ekj("d-none",0!=i.BrandOffersPro.controls.length),s.xp6(2),s.Q6J("ngForOf",i.BrandOffersPro.controls),s.xp6(3),s.Q6J("disabled",i.saveBrandForm.invalid||i.isload),s.xp6(1),s.Q6J("ngIf",i.Add)("ngIfElse",o),s.xp6(3),s.Q6J("ngIf",i.isload),s.xp6(1),s.Q6J("ngIf",i.done)}},dependencies:[si,xn,K3,t0,Ic,Sc,xp,Ih,Sp,r0,Ym],styles:[".input[_ngcontent-%COMP%]::placeholder{font-size:.8rem;font-style:italic}.offerbtn[_ngcontent-%COMP%]{background-color:#001a2c;color:#fbc326;font-size:smaller}.submitbtn[_ngcontent-%COMP%]{background-color:#001a2c;color:#fbc326;font-size:medium}"]}),n})(),dE=(()=>{class n{constructor(e){this.MyCrud=e,this.collectionName="Products"}getAllProducts(){return this.MyCrud.getAll(`${this.collectionName}`)}getByID(e){return this.MyCrud.getByID(`${this.collectionName}`,e)}getSpecificProductsWithIds(e){return this.MyCrud.getByGroubIds(this.collectionName,e)}getProductsByCatsIds(e){return this.MyCrud.getByQuery(this.collectionName,"categoryName","in",e)}getBrandProducts(e){return this.MyCrud.getByQuery(this.collectionName,"brandName","==",e)}addNewPrd(e){return new Promise(i=>{this.uploadProImgs(e).then(()=>{this.MyCrud.addNewDoc(`${this.collectionName}`,e).then(r=>{console.log("added successfully"),i(r.id)})}).catch(r=>{console.log(r)})})}uploadProImgs(e){var i=this;return(0,Ie.Z)(function*(){let r=0;for(;r<e.images.length;)yield i.MyCrud.uploadImg(e.images[r],"Products/").then(o=>{e.images[r]=o,r++}).catch(o=>{console.log(o)});if(r==e.images.length)return new Promise(o=>{o()})})()}deletePrd(e,i){return new Promise(r=>{i.images.forEach((o,a)=>{this.MyCrud.deleteImg(o).subscribe(()=>{a==i.images.length-1&&this.MyCrud.deleteDoc(this.collectionName,e).then(()=>{r()})})}),0==i.images.length&&this.MyCrud.deleteDoc(`${this.collectionName}`,e).then(()=>{r()})})}updatePrd(e,i,r){return new Promise(o=>{this.updateProdImgaes(e,r).then(()=>{this.MyCrud.updateDoc(`${this.collectionName}`,i,e).then(()=>{o()})}).catch(a=>{console.log(a)})})}updateProdImgaes(e,i){var r=this;return(0,Ie.Z)(function*(){console.log(e,i);let o=0;for(;o<e.images.length;){for(console.log("in big while",o);o<i.images.length;)console.log("in first while",o),"string"==typeof e.images[o]?o++:(console.log(e.images[o]),console.log(i.images[o]),yield r.MyCrud.updateImg(e.images[o],i.images[o]).then(a=>{e.images[o]=a,o++}).catch(a=>{console.log(a)}));for(;o>=i.images.length&&o<e.images.length;)console.log("in second while",o),yield r.MyCrud.uploadImg(e.images[o],"Products/").then(a=>{e.images[o]=a,o++}).catch(a=>{console.log(a)})}if(o==e.images.length)return console.log("in return",e.images.length),new Promise(a=>{a()})})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AG=["pre"];function TG(n,t){1&n&&(s.ynx(0),s.TgZ(1,"h3",22),s._uU(2,"There's no offers for this Brand!"),s.qZA(),s.BQk())}function xG(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"img",26),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.s9C("src",e.imgOffer,s.LSH),s.s9C("title",e.offerInfo)}}function IG(n,t){if(1&n&&(s.TgZ(0,"div",27),s._UZ(1,"img",26),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.s9C("src",e.imgOffer,s.LSH),s.s9C("title",e.offerInfo)}}function SG(n,t){if(1&n&&(s.ynx(0),s.YNc(1,xG,2,2,"div",23),s.YNc(2,IG,2,2,"ng-template",null,24,s.W1O),s.BQk()),2&n){const e=t.index,i=s.MAs(3);s.xp6(1),s.Q6J("ngIf",e>0)("ngIfElse",i)}}function DG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",28),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.goToProduct(o.id))}),s._UZ(1,"img",29),s.TgZ(2,"h4",30),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.s9C("src",e.images[0],s.LSH),s.xp6(2),s.Oqu(e.name)}}let MG=(()=>{class n{constructor(e,i,r,o){this.routerActive=e,this.brandService=i,this.router=r,this.productsService=o,this.targetBrandID="",this.targitBrand={},this.brandProducts=[],this.sliderInterval=""}ngOnInit(){this.routerActive.paramMap.subscribe(e=>{this.targetBrandID=e.get("id")?e.get("id"):"",this.targetBrandID&&this.brandService.getBrandByID(this.targetBrandID).subscribe(i=>{this.targitBrand=i,this.productsService.getBrandProducts(i.name).subscribe(r=>{console.log(r),this.brandProducts=r.map(o=>({...o.payload.doc.data(),id:o.payload.doc.id})),console.log(this.brandProducts)})})}),this.fireSlider()}fireSlider(){this.sliderInterval=setInterval(()=>{this.btn.nativeElement.click()},3e3)}goToEditBrand(e){this.router.navigate([`SaveBrand/${e}`])}deleteBrand(e){confirm(`Are you sure you want to delete '${this.targitBrand.name}' Brand?`)&&this.brandService.deleteBrand(e,this.targitBrand).then(()=>{alert("Brand has deleted successfully!"),this.router.navigate(["Brands"])})}goToProduct(e){this.router.navigate([`Product/${e}`])}ngOnDestroy(){clearInterval(this.sliderInterval)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vr),s.Y36(lE),s.Y36(Hn),s.Y36(dE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-brand-detailes"]],viewQuery:function(e,i){if(1&e&&s.Gf(AG,5),2&e){let r;s.iGM(r=s.CRH())&&(i.btn=r.first)}},decls:32,vars:5,consts:[[1,"container-fluid","mt-3","mb-5"],[1,"d-flex","w-100","mb-4"],[1,"col-5"],[1,"w-100",2,"height","200px",3,"src"],[1,"col-5","text-start","p-3"],[1,"col-2","text-end","ps-lg-3","ps-0"],["title","Edit",1,"fa-solid","fa-pen-to-square","fs-3","m-3","cPointer","mColor","shadow",3,"click"],["title","Delete",1,"fa-solid","fa-trash-can","fs-3","m-3","cPointer","mColor","shadow",3,"click"],[1,"bg-main","sColor","text-center","my-3"],[1,"py-1"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","w-100","mb-5"],[1,"carousel-inner"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["pre",""],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next","mColor"],["aria-hidden","true",1,"carousel-control-next-icon","mColor"],[1,"container-fluid","d-flex","flex-wrap","w-100","mb-4"],["class","my-3 mx-sm-3 col-lg-2 col-sm-4 col-6 shadow card rounded cPointer",3,"click",4,"ngFor","ngForOf"],[1,"text-center"],["class","carousel-item",4,"ngIf","ngIfElse"],["active",""],[1,"carousel-item"],["height","400px",1,"d-block","w-100",3,"src","title"],[1,"carousel-item","active"],[1,"my-3","mx-sm-3","col-lg-2","col-sm-4","col-6","shadow","card","rounded","cPointer",3,"click"],[1,"card-img-top",3,"src"],[1,"card-body"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"span",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"span",4)(5,"h1")(6,"b"),s._uU(7),s.qZA()()(),s.TgZ(8,"span",5)(9,"i",6),s.NdJ("click",function(){return i.goToEditBrand(i.targetBrandID)}),s.qZA(),s.TgZ(10,"i",7),s.NdJ("click",function(){return i.deleteBrand(i.targetBrandID)}),s.qZA()()(),s.TgZ(11,"div",8)(12,"h1",9),s._uU(13,"** Offers **"),s.qZA()(),s.TgZ(14,"div",10)(15,"div",11),s.YNc(16,TG,3,0,"ng-container",12),s.YNc(17,SG,4,2,"ng-container",13),s.qZA(),s.TgZ(18,"button",14,15),s._UZ(20,"span",16),s.TgZ(21,"span",17),s._uU(22,"Previous"),s.qZA()(),s.TgZ(23,"button",18),s._UZ(24,"span",19),s.TgZ(25,"span",17),s._uU(26,"Next"),s.qZA()()(),s.TgZ(27,"div",8)(28,"h1",9),s._uU(29,"** Products **"),s.qZA()(),s.TgZ(30,"div",20),s.YNc(31,DG,4,2,"span",21),s.qZA()()),2&e&&(s.xp6(3),s.s9C("src",i.targitBrand.logo,s.LSH),s.xp6(4),s.Oqu(i.targitBrand.name),s.xp6(9),s.Q6J("ngIf",0==i.targitBrand.offers.length),s.xp6(1),s.Q6J("ngForOf",i.targitBrand.offers),s.xp6(14),s.Q6J("ngForOf",i.brandProducts))},dependencies:[si,xn],styles:[".cPointer[_ngcontent-%COMP%]{cursor:pointer}.mColor[_ngcontent-%COMP%]{color:#001a2c!important}.bg-main[_ngcontent-%COMP%]{background-color:#001a2c!important}.sColor[_ngcontent-%COMP%]{color:#d3a827!important}"]}),n})();function PG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6)(1,"div",7),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.showDetailes(o.id))}),s._UZ(2,"img",8),s.TgZ(3,"div",9)(4,"h1",10)(5,"b"),s._uU(6),s.qZA()()()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.s9C("src",e.logo,s.LSH),s.s9C("alt",e.name),s.xp6(4),s.Oqu(e.name)}}let RG=(()=>{class n{constructor(e,i){this.bransService=e,this.router=i,this.Brands=[],this.subscriptions=[]}ngOnInit(){let e=this.bransService.getAllBrands().subscribe(i=>{this.Brands=i.map(r=>(console.log(i),{id:r.payload.doc.id,...r.payload.doc.data()}))});this.subscriptions.push(e)}showDetailes(e){this.router.navigate([`Brand/${e}`])}goToAddNew(){this.router.navigate(["SaveBrand"])}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lE),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-brands"]],decls:9,vars:1,consts:[[1,"text-center","my-3"],[1,"text-start","px-4"],[1,"addNew",3,"click"],[1,"fa-solid","fa-plus","fs-4"],[1,"container-fluid","d-flex","flex-wrap","justify-content-center"],["class","card px-5 pt-5 text-center m-4 rounded-pill brandcard","style","width: 17rem;",4,"ngFor","ngForOf"],[1,"card","px-5","pt-5","text-center","m-4","rounded-pill","brandcard",2,"width","17rem"],[3,"click"],["height","80px",1,"card-img-top",3,"src","alt"],[1,"card-body","mt-2",2,"height","70px","overflow","hidden"],[1,"card-title"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0)(1,"b"),s._uU(2,"*** All Brands ***"),s.qZA()(),s.TgZ(3,"div",1)(4,"h2",2),s.NdJ("click",function(){return i.goToAddNew()}),s._UZ(5,"i",3),s._uU(6," Add New Brand"),s.qZA()(),s.TgZ(7,"div",4),s.YNc(8,PG,7,3,"div",5),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",i.Brands))},dependencies:[si],styles:[".brandcard[_ngcontent-%COMP%]{box-shadow:3px 3px 7px 1px #001a2c;transition:all;transition-duration:.6s;top:0}.brandcard[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);border-radius:50%!important;box-shadow:1px 1px 1px 1px #d3a827;top:-20px}.addNew[_ngcontent-%COMP%]{color:#d3a827;text-decoration:underline;cursor:pointer;width:-moz-fit-content;width:fit-content}"]}),n})(),hE=(()=>{class n{constructor(e,i){this.fs=e,this.CRUD=i,this.items=[],this.collectionName="Categories"}getAllCat(){return this.fs.collection("Categories")}getAllAttributes(e,i){return this.fs.collection("Categories").doc(e).collection(i)}update(e,i){return this.fs.collection("Categories").doc(i).update(e)}updateImage(e,i){return this.fs.collection("Categories").doc(i).update({img:e})}create(e){return this.fs.collection("Categories").add({...e})}addCollectionInDoc(e,i,r,o,a){return this.fs.collection(`${e}`).doc(`${i}`).collection(`${r}`).doc(`${o}`).set(a)}delete(e){return console.log(e),this.fs.collection("Categories").doc(e).delete()}newImage(e,i,r){return this.CRUD.UploadImageNew(e,i,{img:r},"Categories","img")}addToCategory(e,i,r){return this.CRUD.setNewDocWithImg_SpecificID(e,i,r,"Categories","img")}getSubCategory(e){return this.CRUD.getCollectionGroub(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kv),s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NG(n,t){1&n&&(s.TgZ(0,"small",23),s._uU(1," Name is required! "),s.qZA())}function kG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,NG,2,0,"small",22),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.required)}}function OG(n,t){1&n&&(s.TgZ(0,"small",23),s._uU(1," \u0627\u062f\u062e\u0644 \u0627\u0644\u0627\u0633\u0645 \u0645\u0646 \u0641\u0636\u0644\u0643 "),s.qZA())}function FG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,OG,2,0,"small",22),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.nameAR||null==e.nameAR.errors?null:e.nameAR.errors.required)}}function LG(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",24)(2,"label",25),s._uU(3),s.qZA(),s._UZ(4,"input",26),s.qZA(),s.TgZ(5,"div",24)(6,"label",25),s._uU(7),s.qZA(),s._UZ(8,"input",27),s.qZA()()),2&n){const e=t.index;s.xp6(1),s.s9C("formGroupName",e),s.xp6(1),s.MGl("for","subcollections",e,""),s.xp6(1),s.hij("SubCollections ",e,""),s.xp6(1),s.MGl("id","subcollections",e,""),s.xp6(1),s.s9C("formGroupName",e),s.xp6(1),s.MGl("for","subcollectionsAR",e,""),s.xp6(1),s.hij("SubCollectionsAR ",e,""),s.xp6(1),s.MGl("id","subcollectionsAR",e,"")}}function UG(n,t){1&n&&(s.TgZ(0,"small",23),s._uU(1," Image is required! "),s.qZA())}function BG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,UG,2,0,"small",22),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.img||null==e.img.errors?null:e.img.errors.required)}}function VG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",8)(2,"div",9)(3,"label",10),s._uU(4,"Name"),s.qZA(),s.YNc(5,kG,2,1,"div",11),s._UZ(6,"input",12),s.qZA(),s.TgZ(7,"div",9)(8,"label",10),s._uU(9,"Name AR"),s.qZA(),s.YNc(10,FG,2,1,"div",11),s._UZ(11,"input",13),s.qZA(),s.TgZ(12,"div",9)(13,"label",14),s._uU(14,"Discount"),s.qZA(),s._UZ(15,"input",15),s.qZA(),s.TgZ(16,"div",16),s.YNc(17,LG,9,8,"div",17),s.TgZ(18,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addSub())}),s._uU(19,"+"),s.qZA(),s.TgZ(20,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.RemoveSub())}),s._uU(21,"-"),s.qZA()(),s.TgZ(22,"label",14),s._uU(23,"Image"),s.qZA(),s.YNc(24,BG,2,1,"div",11),s._UZ(25,"input",20),s.qZA(),s.TgZ(26,"button",7),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.saveCat())}),s._uU(27,"Submit"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("formGroup",e.userFormGroup),s.xp6(4),s.Q6J("ngIf",!(null!=e.name&&e.name.invalid&&null!=e.name&&e.name.untouched)),s.xp6(5),s.Q6J("ngIf",!(null!=e.nameAR&&e.nameAR.invalid&&null!=e.nameAR&&e.nameAR.untouched)),s.xp6(7),s.Q6J("ngForOf",e.subcollections.controls),s.xp6(7),s.Q6J("ngIf",!(null!=e.img&&e.img.invalid&&null!=e.img&&e.img.untouched)),s.xp6(2),s.Q6J("disabled",e.userFormGroup.invalid)}}function HG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"h4"),s._uU(2,"You submitted successfully!"),s.qZA(),s.TgZ(3,"button",28),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.newCat())}),s._uU(4,"Add"),s.qZA()()}}function ZG(n,t){if(1&n&&(s.TgZ(0,"option",37),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.Oqu(e.id)}}function qG(n,t){1&n&&(s.TgZ(0,"small",39),s._uU(1," Category Name is required! "),s.qZA())}function jG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,qG,2,0,"small",38),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.newCatName||null==e.newCatName.errors?null:e.newCatName.errors.required)}}function zG(n,t){1&n&&(s.TgZ(0,"small",39),s._uU(1," Document ID is required! "),s.qZA())}function GG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,zG,2,0,"small",38),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.newDocID||null==e.newDocID.errors?null:e.newDocID.errors.required)}}function $G(n,t){1&n&&(s.TgZ(0,"small",39),s._uU(1," Attributes is required! "),s.qZA())}function WG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,$G,2,0,"small",38),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.attributes||null==e.attributes.errors?null:e.attributes.errors.required)}}function YG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",40)(1,"label",25),s._uU(2),s.qZA(),s._UZ(3,"input",41),s.TgZ(4,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.addAttributes())}),s._uU(5,"+"),s.qZA(),s.TgZ(6,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.RemoveAttributes())}),s._uU(7,"-"),s.qZA()()}if(2&n){const e=t.index;s.xp6(1),s.MGl("for","attributes",e,""),s.xp6(1),s.hij("Attributes ",e,""),s.xp6(1),s.s9C("id",e+1),s.s9C("formControlName",e)}}function KG(n,t){1&n&&(s.TgZ(0,"small",39),s._uU(1," AttributesAr is required! "),s.qZA())}function QG(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,KG,2,0,"small",38),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.attributesAr||null==e.attributesAr.errors?null:e.attributesAr.errors.required)}}function JG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",42)(1,"label",25),s._uU(2),s.qZA(),s._UZ(3,"input",41),s.TgZ(4,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.addAttributesAr())}),s._uU(5,"+"),s.qZA(),s.TgZ(6,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.RemoveAttributesAr())}),s._uU(7,"-"),s.qZA()()}if(2&n){const e=t.index;s.xp6(1),s.MGl("for","attributesAr",e,""),s.xp6(1),s.hij("Attrubites Ar ",e,""),s.xp6(1),s.s9C("id",e+1),s.s9C("formControlName",e)}}function XG(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",29)(2,"label",30),s._uU(3,"Select Category: "),s.qZA(),s.TgZ(4,"select",31),s.YNc(5,ZG,2,2,"option",32),s.qZA()(),s.TgZ(6,"div",9)(7,"label",10),s._uU(8,"Category Name"),s.qZA(),s.YNc(9,jG,2,1,"div",11),s._UZ(10,"input",33),s.qZA(),s.TgZ(11,"div",9)(12,"label",10),s._uU(13,"Document Name"),s.qZA(),s.YNc(14,GG,2,1,"div",11),s._UZ(15,"input",34),s.qZA(),s.TgZ(16,"div",8),s.YNc(17,WG,2,1,"div",11),s.YNc(18,YG,8,4,"div",35),s.qZA(),s.TgZ(19,"div",8),s.YNc(20,QG,2,1,"div",11),s.YNc(21,JG,8,4,"div",36),s.qZA()()),2&n){const e=s.oxw();s.xp6(5),s.Q6J("ngForOf",e.categories),s.xp6(4),s.Q6J("ngIf",!(null!=e.newCatName&&e.newCatName.invalid&&null!=e.newCatName&&e.newCatName.untouched)),s.xp6(5),s.Q6J("ngIf",!(null!=e.newDocID&&e.newDocID.invalid&&null!=e.newDocID&&e.newDocID.untouched)),s.xp6(2),s.Q6J("formGroup",e.Attributes),s.xp6(1),s.Q6J("ngIf",!(null!=e.attributes&&e.attributes.invalid&&null!=e.attributes&&e.attributes.untouched)),s.xp6(1),s.Q6J("ngForOf",e.attributes.controls),s.xp6(1),s.Q6J("formGroup",e.Attributes),s.xp6(1),s.Q6J("ngIf",!(null!=e.attributesAr&&e.attributesAr.invalid&&null!=e.attributesAr&&e.attributesAr.untouched)),s.xp6(1),s.Q6J("ngForOf",e.attributesAr.controls)}}let e$=(()=>{class n{constructor(e,i,r,o){this.formBulider=e,this.catService=i,this.fs=r,this.router=o,this.category={},this.submitted=!1,this.categories=[],this.currentCategoryUpdate={id:"",name:"",img:"",discount:0,subcollections:[]},this.gotId="",this.discount="",this.newName="",this.newnameAR="",this.newDiscount=0,this.selectedCatID=0,this.userFormGroup=this.formBulider.group({name:["",[ut.required]],nameAR:["",[ut.required]],discount:[""],img:["",[ut.required]],subcollections:e.array([e.group({EN:["",[ut.required]],AR:["",[ut.required]]})])}),this.Attributes=this.formBulider.group({Newid:["",[ut.required]],newCatName:["",[ut.required]],newDocID:["",[ut.required]],attributes:e.array([e.control("")],[ut.required]),attributesAr:e.array([e.control("")],[ut.required])}),this.uploadUpdateImg=this.formBulider.group({updateImg:["",[ut.required]]})}get name(){return this.userFormGroup.get("name")}get nameAR(){return this.userFormGroup.get("nameAR")}get discont(){return this.userFormGroup.get("discount")}get img(){return this.userFormGroup.get("img")}get updateImg(){return this.uploadUpdateImg.get("updateImg")}get subcollections(){return this.userFormGroup.get("subcollections")}get Newid(){return this.Attributes.get("Newid")}get newCatName(){return this.Attributes.get("newCatName")}get newDocID(){return this.Attributes.get("newDocID")}get attributes(){return this.Attributes.get("attributes")}get attributesAr(){return this.Attributes.get("attributesAr")}addSub(){this.subcollections.push(this.formBulider.group({EN:["",[ut.required]],AR:["",[ut.required]]}))}RemoveSub(){this.subcollections.removeAt(1)}addAttributes(){this.attributes.push(this.formBulider.control(""))}RemoveAttributes(){this.attributes.removeAt(1)}addAttributesAr(){this.attributesAr.push(this.formBulider.control(""))}RemoveAttributesAr(){this.attributesAr.removeAt(1)}toOwnProducts(e,i){console.log(e,i),this.router.navigate(["/Products",{state:JSON.stringify(i)}])}sendId(e,i,r,o,a){this.gotId=e,this.newName=i,this.newnameAR=r,this.newDiscount=o,this.userFormGroup.value.subcollections=a;for(let u=0;u<a.length-1;u++)this.addSub();this.userFormGroup.patchValue({subcollections:a})}deleteTutorial(e){e&&this.catService.delete(e).then(()=>{}).catch(i=>console.log(i))}retrieveCats(){this.catService.getAllCat().snapshotChanges().pipe((0,gt.U)(e=>(console.log(e),e.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id,name:i.payload.doc.id}))))).subscribe(e=>{this.categories=e,console.log(this.categories[0].subcollections)})}saveCat(){return this.catService.addToCategory("Categories",this.userFormGroup.value.name,{name:this.userFormGroup.value.name,nameAR:this.userFormGroup.value.nameAR,discount:this.userFormGroup.value.discount,subcollections:this.userFormGroup.value.subcollections,img:document.getElementById("addImg")?.files[0]}).then(()=>{this.submitted=!0,this.userFormGroup.reset(),this.router.navigate(["Categories"])})}addCollectionInDoc(){return this.catService.addCollectionInDoc("Categories",this.Attributes.value.Newid,this.Attributes.value.newCatName,this.Attributes.value.newDocID,{attributes:this.Attributes.value.attributes,attributesAr:this.Attributes.value.attributesAr}).then(()=>{this.Attributes.reset()})}newCat(){this.submitted=!1,this.category={}}ngOnInit(){this.retrieveCats()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s0),s.Y36(hE),s.Y36(Kv),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-cat"]],decls:15,vars:5,consts:[[1,"all"],[1,"col-lg-12","d-flex"],[1,"col-lg-6"],[1,"add-cat"],[1,"submit-form"],[4,"ngIf"],[1,"submit-form",3,"formGroup"],[1,"btn","btn-success",3,"disabled","click"],[3,"formGroup"],[1,"form-group"],["for","title"],["class","text-danger",4,"ngIf"],["type","text","formControlName","name",1,"form-control"],["type","text","id","title","formControlName","nameAR","name","title",1,"form-control"],["for","description"],["type","number","min","0","formControlName","discount",1,"form-control"],["formArrayName","subcollections",1,"form-group"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning",2,"font-size","20px","margin-right","10px","width","40px","margin-bottom","20px",3,"click"],[1,"btn","btn-primary",2,"font-size","20px","margin-right","10px","width","40px","margin-bottom","20px",3,"click"],["type","file","name","img","id","addImg","accept",".png,.jpg,.jpeg","formControlName","img",1,"form-control"],[1,"text-danger"],["style","background-color: #000;padding: 5px;margin-bottom: 20px;",4,"ngIf"],[2,"background-color","#000","padding","5px","margin-bottom","20px"],[3,"formGroupName"],[1,"form-label",3,"for"],["type","text","formControlName","EN",1,"form-control",3,"id"],["type","text","formControlName","AR",1,"form-control",3,"id"],[1,"btn","btn-success",3,"click"],[1,"mb-2"],["for","prodCat"],["name","cat","formControlName","Newid",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","title","formControlName","newCatName",1,"form-control"],["type","text","id","title","formControlName","newDocID",1,"form-control"],["formArrayName","attributes","class","form-group",4,"ngFor","ngForOf"],["formArrayName","attributesAr","class","form-group",4,"ngFor","ngForOf"],[3,"value"],["style","background-color: #000;padding: 5px;",4,"ngIf"],[2,"background-color","#000","padding","5px"],["formArrayName","attributes",1,"form-group"],["type","text",1,"form-control",3,"id","formControlName"],["formArrayName","attributesAr",1,"form-group"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Add New Category"),s.qZA(),s.TgZ(5,"div",4),s.YNc(6,VG,28,6,"div",5),s.qZA(),s.YNc(7,HG,5,0,"div",5),s.qZA(),s.TgZ(8,"div",2)(9,"h2",3),s._uU(10,"Create Attributes"),s.qZA(),s.TgZ(11,"div",6),s.YNc(12,XG,22,9,"div",5),s.TgZ(13,"button",7),s.NdJ("click",function(){return i.addCollectionInDoc()}),s._uU(14,"Submit"),s.qZA()()()()()),2&e&&(s.xp6(6),s.Q6J("ngIf",!i.submitted),s.xp6(1),s.Q6J("ngIf",i.submitted),s.xp6(4),s.Q6J("formGroup",i.Attributes),s.xp6(1),s.Q6J("ngIf",!i.submitted),s.xp6(1),s.Q6J("disabled",i.Attributes.invalid))},dependencies:[si,xn,O3,L3,Ic,n0,jI,Sc,xp,zI,Ih,Sp,r0,Ym],styles:[".all[_ngcontent-%COMP%]{background-image:linear-gradient(#69C3E8,#032B47);padding:20px;margin:auto;width:100%}.card[_ngcontent-%COMP%]{background-color:#96bde7;box-shadow:0 10px 10px 5px #202020}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#032b47}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#032b47;box-shadow:0 9px 14px #202020c7;margin:0 20px;border-color:#202020}form[_ngcontent-%COMP%]{z-index:100;box-shadow:0 10px 20px 8px #69c3e8;padding:10px;margin:auto;background-image:linear-gradient(#05426d,#05426d);position:fixed;top:50%;left:60%;width:900px;transform:translate(-50%,-50%);color:#69c3e8;border-radius:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;color:#69c3e8;background-color:#032b47;border-color:#032b47;padding:5px;box-shadow:0 6px 10px #69c3e88a;margin:auto}.add-cat[_ngcontent-%COMP%]{text-align:center;color:#69c3e8;background-color:#032b47;padding:5px;width:94%;box-shadow:0 6px 10px #69c3e88a;margin:auto}.submit-form[_ngcontent-%COMP%]{text-align:center;margin:20px auto auto;width:98%;box-shadow:0 6px 10px 7px #032b47;padding:20px;background-image:#032B47;color:#69c3e8;border-radius:10px}.submit-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:20px;font-size:20px}.submit-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:20px}.cPointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function t$(n,t){if(1&n&&(s.TgZ(0,"p",11)(1,"span",10),s._uU(2),s.qZA(),s.TgZ(3,"span",10),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" EN: ",e.EN," | "),s.xp6(2),s.hij(" AR: ",e.AR," | ")}}function n$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"div",8)(2,"p",9),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.toOwnProducts(o.id,o.subcollections))}),s._uU(3,"Name: "),s.TgZ(4,"span",10),s._uU(5),s.qZA()(),s.TgZ(6,"p",9),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.toOwnProducts(o.id,o.subcollections))}),s._uU(7,"NameAr: "),s.TgZ(8,"span",10),s._uU(9),s.qZA()(),s.TgZ(10,"p",11),s._uU(11,"Discount: "),s.TgZ(12,"span",10),s._uU(13),s.qZA()(),s.YNc(14,t$,5,2,"p",12),s._UZ(15,"hr"),s.TgZ(16,"img",13),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.toOwnProducts(o.id,o.subcollections))}),s.qZA(),s.TgZ(17,"div",14)(18,"button",15),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.deleteTutorial(o.id))}),s._uU(19,"Delete"),s.qZA(),s.TgZ(20,"button",15),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.sendId(o.id,o.name,o.nameAR,o.discount,o.subcollections))}),s._uU(21,"Update"),s.qZA(),s.TgZ(22,"button",16),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.sendIdImage(o.id))}),s._uU(23,"Update Image"),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(5),s.Oqu(e.name),s.xp6(4),s.Oqu(e.nameAR),s.xp6(4),s.hij("",e.discount,"%"),s.xp6(1),s.Q6J("ngForOf",e.subcollections),s.xp6(2),s.s9C("src",e.img,s.LSH)}}function i$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(5);return s.KtG(r.addSub())}),s._uU(1,"+"),s.qZA()}}function r$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(5);return s.KtG(r.RemoveSub())}),s._uU(1,"-"),s.qZA()}}function s$(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",26)(2,"label",27),s._uU(3),s.qZA(),s._UZ(4,"input",28),s.qZA(),s.TgZ(5,"div",26)(6,"label",27),s._uU(7),s.qZA(),s._UZ(8,"input",29),s.qZA(),s.YNc(9,i$,2,0,"button",30),s.YNc(10,r$,2,0,"button",31),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw(2).$implicit,o=s.oxw(2);s.xp6(1),s.s9C("formGroupName",i),s.xp6(1),s.MGl("for","subcollections",i,""),s.xp6(1),s.AsE("SubCollections ",r.EN," ",i,""),s.xp6(1),s.MGl("id","subcollections",i,""),s.xp6(1),s.s9C("formGroupName",i),s.xp6(1),s.MGl("for","subcollectionsAR",i,""),s.xp6(1),s.AsE("SubCollectionsAR ",r.AR," ",i,""),s.xp6(1),s.MGl("id","subcollectionsAR",i,""),s.xp6(1),s.Q6J("ngIf",e.value&&i==o.subcollections.controls.length-1),s.xp6(1),s.Q6J("ngIf",e.value&&i==o.subcollections.controls.length-1)}}function o$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"form",17),s.NdJ("submit",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.updateTutorial(r.gotId))}),s.TgZ(1,"div",18)(2,"div",19)(3,"label",20),s._uU(4,"Name"),s.qZA(),s.TgZ(5,"input",21),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.newName=r)}),s.qZA()(),s.TgZ(6,"div",19)(7,"label",20),s._uU(8,"Name Ar"),s.qZA(),s.TgZ(9,"input",22),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.newnameAR=r)}),s.qZA()(),s.TgZ(10,"div",19)(11,"label",20),s._uU(12,"Discount"),s.qZA(),s.TgZ(13,"input",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.newDiscount=r)}),s.qZA()(),s.TgZ(14,"div",24),s.YNc(15,s$,11,12,"div",4),s.qZA()(),s.TgZ(16,"button",25),s._uU(17,"Update"),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("formGroup",e.userFormGroup),s.xp6(4),s.s9C("value",e.newName),s.Q6J("ngModel",e.newName),s.xp6(4),s.s9C("value",e.newnameAR),s.Q6J("ngModel",e.newnameAR),s.xp6(4),s.Q6J("ngModel",e.newDiscount),s.xp6(2),s.Q6J("ngForOf",e.subcollections.controls)}}function a$(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,o$,18,7,"form",5),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.toDisplay)}}function l$(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,a$,2,1,"div",4),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e.subcollections)}}function c$(n,t){1&n&&(s.TgZ(0,"small",39),s._uU(1," Image is required! "),s.qZA())}function u$(n,t){if(1&n&&(s.TgZ(0,"div",37),s.YNc(1,c$,2,0,"small",38),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.img||null==e.img.errors?null:e.img.errors.required)}}function d$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"form",17),s.NdJ("submit",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateImage(r.gotId))}),s.TgZ(1,"div",18)(2,"label",34),s._uU(3,"Image"),s.qZA(),s.YNc(4,u$,2,1,"div",35),s._UZ(5,"input",36),s.qZA(),s.TgZ(6,"button",25),s._uU(7,"Update"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("formGroup",e.uploadUpdateImg),s.xp6(3),s.Q6J("ngIf",!(null!=e.img&&e.img.invalid&&null!=e.img&&e.img.untouched))}}let h$=(()=>{class n{constructor(e,i,r,o){this.formBulider=e,this.catService=i,this.fs=r,this.router=o,this.category={},this.submitted=!1,this.categories=[],this.currentCategoryUpdate={id:"",name:"",img:"",discount:0,subcollections:[]},this.toDisplay=!1,this.toDisplayImg=!1,this.gotId="",this.discount="",this.newName="",this.newnameAR="",this.newDiscount=0,this.selectedCatID=0,this.userFormGroup=this.formBulider.group({name:["",[ut.required]],nameAR:["",[ut.required]],discount:[""],img:["",[ut.required]],subcollections:e.array([e.group({EN:["",[ut.required]],AR:["",[ut.required]]})])}),this.Attributes=this.formBulider.group({Newid:["",[ut.required]],newCatName:["",[ut.required]],newDocID:["",[ut.required]],attributes:e.array([e.control("")],[ut.required]),attributesAr:e.array([e.control("")],[ut.required])}),this.uploadUpdateImg=this.formBulider.group({updateImg:["",[ut.required]]})}get name(){return this.userFormGroup.get("name")}get nameAR(){return this.userFormGroup.get("nameAR")}get discont(){return this.userFormGroup.get("discount")}get img(){return this.userFormGroup.get("img")}get updateImg(){return this.uploadUpdateImg.get("updateImg")}get subcollections(){return this.userFormGroup.get("subcollections")}get Newid(){return this.Attributes.get("Newid")}get newCatName(){return this.Attributes.get("newCatName")}get newDocID(){return this.Attributes.get("newDocID")}get attributes(){return this.Attributes.get("attributes")}get attributesAr(){return this.Attributes.get("attributesAr")}addSub(){this.subcollections.push(this.formBulider.group({EN:["",[ut.required]],AR:["",[ut.required]]}))}RemoveSub(){this.subcollections.removeAt(1)}addAttributes(){this.attributes.push(this.formBulider.control(""))}RemoveAttributes(){this.attributes.removeAt(1)}addAttributesAr(){this.attributesAr.push(this.formBulider.control(""))}RemoveAttributesAr(){this.attributesAr.removeAt(1)}ngOnChanges(){}toOwnProducts(e,i){console.log(e,i),this.router.navigate(["/Products",{state:JSON.stringify(i)}])}sendId(e,i,r,o,a){console.log(this.subcollections.controls),this.gotId=e,this.newName=i,this.newnameAR=r,this.newDiscount=o,this.userFormGroup.value.subcollections=a,console.log(this.subcollections.controls);for(let u=0;u<a.length-1;u++)this.addSub();this.userFormGroup.patchValue({subcollections:a}),console.log(this.subcollections.controls),this.toDisplay=!this.toDisplay,console.log(this.subcollections.controls)}sendIdImage(e){this.gotId=e,this.toDisplayImg=!this.toDisplayImg}updateTutorial(e){e&&this.catService.update({name:this.newName,nameAR:this.newnameAR,discount:this.newDiscount,subcollections:this.userFormGroup.value.subcollections},e).then(()=>console.log("done")).catch(r=>console.log(r)),this.toDisplay=!this.toDisplay}updateImage(e){this.toDisplayImg=!this.toDisplayImg,e&&this.catService.newImage("Categories",e,document.getElementById("addImgUpdate")?.files[0]).then(()=>console.log("done")).catch(i=>console.log(i))}deleteTutorial(e){e&&this.catService.delete(e).then(()=>{}).catch(i=>console.log(i))}retrieveCats(){this.catService.getAllCat().snapshotChanges().pipe((0,gt.U)(e=>(console.log(e),e.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id,name:i.payload.doc.id}))))).subscribe(e=>{this.categories=e,console.log(this.categories[0].subcollections)})}saveCat(){return this.catService.addToCategory("Categories",this.userFormGroup.value.name,{name:this.userFormGroup.value.name,nameAR:this.userFormGroup.value.nameAR,discount:this.userFormGroup.value.discount,subcollections:this.userFormGroup.value.subcollections,img:document.getElementById("addImg")?.files[0]}).then(()=>{this.submitted=!0,this.userFormGroup.reset()})}addCollectionInDoc(){return this.catService.addCollectionInDoc("Categories",this.Attributes.value.Newid,this.Attributes.value.newCatName,this.Attributes.value.newDocID,{attributes:this.Attributes.value.attributes,attributesAr:this.Attributes.value.attributesAr}).then(()=>{this.Attributes.reset()})}newCat(){this.submitted=!1,this.category={}}goToSaveCat(){this.router.navigate(["saveCat"])}ngOnInit(){this.retrieveCats()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s0),s.Y36(hE),s.Y36(Kv),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories"]],features:[s.TTD],decls:9,vars:3,consts:[[1,"all"],[1,"container","category-show",2,"margin-top","30px"],[1,"row","justify-content-between"],["class","card text-center col-4 mb-5","style","width:20rem;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"submit",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"card","text-center","col-4","mb-5",2,"width","20rem"],[1,"card-body",2,"text-align","left"],[1,"card-text","cPointer",3,"click"],[2,"font-weight","bold"],[1,"card-text"],["class","card-text",4,"ngFor","ngForOf"],[1,"cPointer",2,"width","250px","height","150px","box-shadow","0px 0px 10px #000","border-radius","10px",3,"src","click"],[2,"text-align","center","margin-top","10%"],["href","#",1,"btn","btn-primary",3,"click"],["href","#",1,"btn","btn-primary",2,"margin-top","10%","margin-left","10%",3,"click"],[3,"submit"],[3,"formGroup"],[1,"form-group"],["for","Description"],["type","text","formControlName","name",1,"form-control",3,"ngModel","value","ngModelChange"],["type","text","id","Description","formControlName","nameAR",1,"form-control",3,"ngModel","value","ngModelChange"],["type","text","type","number","id","Description","formControlName","discount",1,"form-control",3,"ngModel","ngModelChange"],["formArrayName","subcollections",1,"form-group"],["href","#","type","submit",1,"btn","btn-primary","update"],[3,"formGroupName"],[1,"form-label",3,"for"],["type","text","formControlName","EN",1,"form-control",3,"id"],["type","text","formControlName","AR",1,"form-control",3,"id"],["style","font-size: 20px;\n                                        margin-right: 10px;\n                                        width: 40px;\n                                        margin-bottom: 20px;\n                                        ","class","btn btn-warning",3,"click",4,"ngIf"],["style","font-size: 20px;\n                                        margin-right: 10px;\n                                        width: 40px;\n                                        margin-bottom: 20px;","class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-warning",2,"font-size","20px","margin-right","10px","width","40px","margin-bottom","20px",3,"click"],[1,"btn","btn-primary",2,"font-size","20px","margin-right","10px","width","40px","margin-bottom","20px",3,"click"],["for","description"],["class","text-danger",4,"ngIf"],["type","file","name","addImgUpdate","id","addImgUpdate","accept",".png,.jpg,.jpeg","formControlName","updateImg",1,"form-control"],[1,"text-danger"],["style","background-color: #000;padding: 5px;margin-bottom: 20px;",4,"ngIf"],[2,"background-color","#000","padding","5px","margin-bottom","20px"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),s.YNc(4,n$,24,5,"div",3),s.YNc(5,l$,2,1,"div",4),s.YNc(6,d$,8,2,"form",5),s.qZA()(),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.goToSaveCat()}),s._uU(8,"Add Category"),s.qZA()()()),2&e&&(s.xp6(4),s.Q6J("ngForOf",i.categories),s.xp6(1),s.Q6J("ngForOf",i.categories),s.xp6(1),s.Q6J("ngIf",i.toDisplayImg))},dependencies:[si,xn,t0,Ic,n0,Sc,xp,sE,Ih,Sp,r0,Ym],styles:[".all[_ngcontent-%COMP%]{background-image:linear-gradient(#69C3E8,#032B47);padding:20px;margin:auto;width:100%}.card[_ngcontent-%COMP%]{background-color:#96bde7;box-shadow:0 10px 10px 5px #202020}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#032b47}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#032b47;box-shadow:0 9px 14px #202020c7;margin:0 20px;border-color:#202020}form[_ngcontent-%COMP%]{z-index:100;box-shadow:0 10px 20px 8px #69c3e8;padding:10px;margin:auto;background-image:linear-gradient(#05426d,#05426d);position:fixed;top:50%;left:60%;width:900px;transform:translate(-50%,-50%);color:#69c3e8;border-radius:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;color:#69c3e8;background-color:#032b47;border-color:#032b47;padding:5px;box-shadow:0 6px 10px #69c3e88a;margin:auto}.add-cat[_ngcontent-%COMP%]{text-align:center;color:#69c3e8;background-color:#032b47;padding:5px;width:94%;box-shadow:0 6px 10px #69c3e88a;margin:auto}.submit-form[_ngcontent-%COMP%]{text-align:center;margin:20px auto auto;width:98%;box-shadow:0 6px 10px 7px #032b47;padding:20px;background-image:#032B47;color:#69c3e8;border-radius:10px}.submit-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:20px;font-size:20px}.submit-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:20px}.cPointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),J3=(()=>{class n{constructor(e){this.crud=e}getAllUsers(){return this.crud.getAll("users")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X3=(()=>{class n{constructor(e){this.curd=e,this.colletionName="Orders"}getAllOrders(){return this.curd.getAll(this.colletionName)}getOrderById(e){return this.curd.getByID(this.colletionName,e)}updateOrderState(e,i){return this.curd.updateDoc(this.colletionName,e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eU=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function tU(n,t,e){const i=e||(a=>Array.prototype.slice.call(a));let r=!1,o=[];return function(...a){o=i(a),r||(r=!0,eU.call(window,()=>{r=!1,n.apply(t,o)}))}}const ok=n=>"start"===n?"left":"end"===n?"right":"center",to=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Sh(){}const g$=function(){let n=0;return function(){return n++}}();function Zn(n){return null===n||typeof n>"u"}function xi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Dn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Tr=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Rl(n,t){return Tr(n)?n:t}function an(n,t){return typeof n>"u"?t:n}const nU=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ii(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function ri(n,t,e,i){let r,o,a;if(xi(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(Dn(n))for(a=Object.keys(n),o=a.length,r=0;r<o;r++)t.call(e,n[a[r]],a[r])}function GI(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function $I(n){if(xi(n))return n.map($I);if(Dn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=$I(n[e[r]]);return t}return n}function iU(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function _$(n,t,e,i){if(!iU(n))return;const r=t[n],o=e[n];Dn(r)&&Dn(o)?fE(r,o,i):t[n]=$I(o)}function fE(n,t,e){const i=xi(t)?t:[t],r=i.length;if(!Dn(n))return n;const o=(e=e||{}).merger||_$;for(let a=0;a<r;++a){if(!Dn(t=i[a]))continue;const u=Object.keys(t);for(let h=0,p=u.length;h<p;++h)o(u[h],n,t,e)}return n}function pE(n,t){return fE(n,t,{merger:y$})}function y$(n,t,e){if(!iU(n))return;const i=t[n],r=e[n];Dn(i)&&Dn(r)?pE(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=$I(r))}function rU(n,t){const e=n.indexOf(".",t);return-1===e?n.length:e}function Dp(n,t){if(""===t)return n;let e=0,i=rU(t,e);for(;n&&i>e;)n=n[t.slice(e,i)],e=i+1,i=rU(t,e);return n}function ak(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Nl=n=>typeof n<"u",Mp=n=>"function"==typeof n,sU=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},Qi=Math.PI,vi=2*Qi,C$=vi+Qi,WI=Number.POSITIVE_INFINITY,E$=Qi/180,pr=Qi/2,gE=Qi/4,oU=2*Qi/3,kl=Math.log10,ed=Math.sign;function aU(n){const t=Math.round(n);n=_E(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(kl(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function mE(n){return!isNaN(parseFloat(n))&&isFinite(n)}function _E(n,t,e){return Math.abs(n-t)<e}function lU(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Dc(n){return n*(Qi/180)}function lk(n){return n*(180/Qi)}function cU(n){if(!Tr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function uU(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Qi&&(o+=vi),{angle:o,distance:r}}function ck(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function x$(n,t){return(n-t+C$)%vi-Qi}function Fa(n){return(n%vi+vi)%vi}function yE(n,t,e,i){const r=Fa(n),o=Fa(t),a=Fa(e),u=Fa(o-r),h=Fa(a-r),p=Fa(r-o),m=Fa(r-a);return r===o||r===a||i&&o===a||u>h&&p<m}function ds(n,t,e){return Math.max(t,Math.min(e,n))}function Dh(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}const YI=n=>0===n||1===n,dU=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*vi/e),hU=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*vi/e)+1,vE={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*pr),easeOutSine:n=>Math.sin(n*pr),easeInOutSine:n=>-.5*(Math.cos(Qi*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>YI(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>YI(n)?n:dU(n,.075,.3),easeOutElastic:n=>YI(n)?n:hU(n,.075,.3),easeInOutElastic:n=>YI(n)?n:n<.5?.5*dU(2*n,.1125,.45):.5+.5*hU(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-vE.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*vE.easeInBounce(2*n):.5*vE.easeOutBounce(2*n-1)+.5};function bE(n){return n+.5|0}const Pp=(n,t,e)=>Math.max(Math.min(n,e),t);function wE(n){return Pp(bE(2.55*n),0,255)}function Rp(n){return Pp(bE(255*n),0,255)}function Mh(n){return Pp(bE(n/2.55)/100,0,1)}function fU(n){return Pp(bE(100*n),0,100)}const Ol={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uk=[..."0123456789ABCDEF"],S$=n=>uk[15&n],D$=n=>uk[(240&n)>>4]+uk[15&n],KI=n=>(240&n)>>4==(15&n);const k$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pU(n,t,e){const i=t*Math.min(e,1-e),r=(o,a=(o+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function O$(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function F$(n,t,e){const i=pU(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function dk(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),a=Math.min(e,i,r),u=(o+a)/2;let h,p,m;return o!==a&&(m=o-a,p=u>.5?m/(2-o-a):m/(o+a),h=function L$(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,m,o),h=60*h+.5),[0|h,p||0,u]}function hk(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Rp)}function fk(n,t,e){return hk(pU,n,t,e)}function gU(n){return(n%360+360)%360}const mU={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_U={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let QI;const z$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,pk=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,o0=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function JI(n,t,e){if(n){let i=dk(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=fk(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function yU(n,t){return n&&Object.assign(t||{},n)}function vU(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Rp(n[3]))):(t=yU(n,{r:0,g:0,b:0,a:1})).a=Rp(t.a),t}function Y$(n){return"r"===n.charAt(0)?function G$(n){const t=z$.exec(n);let i,r,o,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?wE(a):Pp(255*a,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?wE(i):Pp(i,0,255)),r=255&(t[4]?wE(r):Pp(r,0,255)),o=255&(t[6]?wE(o):Pp(o,0,255)),{r:i,g:r,b:o,a:e}}}(n):function V$(n){const t=k$.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?wE(+t[5]):Rp(+t[5]));const r=gU(+t[2]),o=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function U$(n,t,e){return hk(F$,n,t,e)}(r,o,a):"hsv"===t[1]?function B$(n,t,e){return hk(O$,n,t,e)}(r,o,a):fk(r,o,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class XI{constructor(t){if(t instanceof XI)return t;const e=typeof t;let i;"object"===e?i=vU(t):"string"===e&&(i=function P$(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Ol[n[1]],g:255&17*Ol[n[2]],b:255&17*Ol[n[3]],a:5===t?17*Ol[n[4]]:255}:(7===t||9===t)&&(e={r:Ol[n[1]]<<4|Ol[n[2]],g:Ol[n[3]]<<4|Ol[n[4]],b:Ol[n[5]]<<4|Ol[n[6]],a:9===t?Ol[n[7]]<<4|Ol[n[8]]:255})),e}(t)||function j$(n){QI||(QI=function q$(){const n={},t=Object.keys(_U),e=Object.keys(mU);let i,r,o,a,u;for(i=0;i<t.length;i++){for(a=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,mU[o]);o=parseInt(_U[a],16),n[u]=[o>>16&255,o>>8&255,255&o]}return n}(),QI.transparent=[0,0,0,0]);const t=QI[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Y$(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=yU(this._rgb);return t&&(t.a=Mh(t.a)),t}set rgb(t){this._rgb=vU(t)}rgbString(){return this._valid?function $$(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Mh(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function N$(n){var t=(n=>KI(n.r)&&KI(n.g)&&KI(n.b)&&KI(n.a))(n)?S$:D$;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function Z$(n){if(!n)return;const t=dk(n),e=t[0],i=fU(t[1]),r=fU(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Mh(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const a=e===o?.5:e,u=2*a-1,h=i.a-r.a,p=((u*h==-1?u:(u+h)/(1+u*h))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function W$(n,t,e){const i=o0(Mh(n.r)),r=o0(Mh(n.g)),o=o0(Mh(n.b));return{r:Rp(pk(i+e*(o0(Mh(t.r))-i))),g:Rp(pk(r+e*(o0(Mh(t.g))-r))),b:Rp(pk(o+e*(o0(Mh(t.b))-o))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new XI(this.rgb)}alpha(t){return this._rgb.a=Rp(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=bE(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return JI(this._rgb,2,t),this}darken(t){return JI(this._rgb,2,-t),this}saturate(t){return JI(this._rgb,1,t),this}desaturate(t){return JI(this._rgb,1,-t),this}rotate(t){return function H$(n,t){var e=dk(n);e[0]=gU(e[0]+t),e=fk(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function bU(n){return new XI(n)}function wU(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function CU(n){return wU(n)?n:bU(n)}function gk(n){return wU(n)?n:bU(n).saturate(.5).darken(.1).hexString()}const Qm=Object.create(null),mk=Object.create(null);function CE(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function _k(n,t,e){return"string"==typeof t?fE(CE(n,t),e):fE(CE(n,""),t)}var Mn=new class K${constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>gk(i.backgroundColor),this.hoverBorderColor=(e,i)=>gk(i.borderColor),this.hoverColor=(e,i)=>gk(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return _k(this,t,e)}get(t){return CE(this,t)}describe(t,e){return _k(mk,t,e)}override(t,e){return _k(Qm,t,e)}route(t,e,i,r){const o=CE(this,t),a=CE(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],p=a[r];return Dn(h)?Object.assign({},p,h):an(h,p)},set(h){this[u]=h}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function eS(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function J$(n,t,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const u=e.length;let h,p,m,v,A;for(h=0;h<u;h++)if(v=e[h],null!=v&&!0!==xi(v))a=eS(n,r,o,a,v);else if(xi(v))for(p=0,m=v.length;p<m;p++)A=v[p],null!=A&&!xi(A)&&(a=eS(n,r,o,a,A));n.restore();const I=o.length/2;if(I>e.length){for(h=0;h<I;h++)delete r[o[h]];o.splice(0,I)}return a}function Jm(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function EU(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function tS(n,t,e,i){let r,o,a,u,h;const p=t.pointStyle,m=t.rotation,v=t.radius;let A=(m||0)*E$;if(p&&"object"==typeof p&&(r=p.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,i),n.rotate(A),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void n.restore();if(!(isNaN(v)||v<=0)){switch(n.beginPath(),p){default:n.arc(e,i,v,0,vi),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(A)*v,i-Math.cos(A)*v),A+=oU,n.lineTo(e+Math.sin(A)*v,i-Math.cos(A)*v),A+=oU,n.lineTo(e+Math.sin(A)*v,i-Math.cos(A)*v),n.closePath();break;case"rectRounded":h=.516*v,u=v-h,o=Math.cos(A+gE)*u,a=Math.sin(A+gE)*u,n.arc(e-o,i-a,h,A-Qi,A-pr),n.arc(e+a,i-o,h,A-pr,A),n.arc(e+o,i+a,h,A,A+pr),n.arc(e-a,i+o,h,A+pr,A+Qi),n.closePath();break;case"rect":if(!m){u=Math.SQRT1_2*v,n.rect(e-u,i-u,2*u,2*u);break}A+=gE;case"rectRot":o=Math.cos(A)*v,a=Math.sin(A)*v,n.moveTo(e-o,i-a),n.lineTo(e+a,i-o),n.lineTo(e+o,i+a),n.lineTo(e-a,i+o),n.closePath();break;case"crossRot":A+=gE;case"cross":o=Math.cos(A)*v,a=Math.sin(A)*v,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"star":o=Math.cos(A)*v,a=Math.sin(A)*v,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o),A+=gE,o=Math.cos(A)*v,a=Math.sin(A)*v,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"line":o=Math.cos(A)*v,a=Math.sin(A)*v,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(A)*v,i+Math.sin(A)*v)}n.fill(),t.borderWidth>0&&n.stroke()}}function EE(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function nS(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function iS(n){n.restore()}function X$(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function e9(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Xm(n,t,e,i,r,o={}){const a=xi(t)?t:[t],u=o.strokeWidth>0&&""!==o.strokeColor;let h,p;for(n.save(),n.font=r.string,function t9(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Zn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),h=0;h<a.length;++h)p=a[h],u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Zn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,e,i,o.maxWidth)),n.fillText(p,e,i,o.maxWidth),n9(n,e,i,p,o),i+=r.lineHeight;n.restore()}function n9(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),a=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,h=e-o.actualBoundingBoxAscent,p=e+o.actualBoundingBoxDescent,m=r.strikethrough?(h+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,m),n.lineTo(u,m),n.stroke()}}function AE(n,t){const{x:e,y:i,w:r,h:o,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-pr,Qi,!0),n.lineTo(e,i+o-a.bottomLeft),n.arc(e+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Qi,pr,!0),n.lineTo(e+r-a.bottomRight,i+o),n.arc(e+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,pr,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-pr,!0),n.lineTo(e+a.topLeft,i)}const i9=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),r9=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function s9(n,t){const e=(""+n).match(i9);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const o9=n=>+n||0;function yk(n,t){const e={},i=Dn(t),r=i?Object.keys(t):t,o=Dn(n)?i?a=>an(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=o9(o(a));return e}function AU(n){return yk(n,{top:"y",right:"x",bottom:"y",left:"x"})}function e_(n){return yk(n,["topLeft","topRight","bottomLeft","bottomRight"])}function no(n){const t=AU(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xr(n,t){let e=an((n=n||{}).size,(t=t||Mn.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=an(n.style,t.style);i&&!(""+i).match(r9)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:an(n.family,t.family),lineHeight:s9(an(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:an(n.weight,t.weight),string:""};return r.string=function Q$(n){return!n||Zn(n.size)||Zn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function TE(n,t,e,i){let o,a,u,r=!0;for(o=0,a=n.length;o<a;++o)if(u=n[o],void 0!==u&&(void 0!==t&&"function"==typeof u&&(u=u(t),r=!1),void 0!==e&&xi(u)&&(u=u[e%u.length],r=!1),void 0!==u))return i&&!r&&(i.cacheable=!1),u}function Np(n,t){return Object.assign(Object.create(n),t)}function vk(n,t,e){e=e||(a=>n[a]<t);let o,i=n.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ph=(n,t,e)=>vk(n,e,i=>n[i][t]<e),l9=(n,t,e)=>vk(n,e,i=>n[i][t]>=e),TU=["push","pop","shift","splice","unshift"];function xU(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(TU.forEach(o=>{delete n[o]}),delete n._chartjs)}function IU(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function bk(n,t=[""],e=n,i,r=(()=>n[0])){Nl(i)||(i=RU("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:a=>bk([a,...n],t,e,i)};return new Proxy(o,{deleteProperty:(a,u)=>(delete a[u],delete a._keys,delete n[0][u],!0),get:(a,u)=>DU(a,u,()=>function y9(n,t,e,i){let r;for(const o of t)if(r=RU(d9(o,n),e),Nl(r))return wk(n,r)?Ck(e,i,n,r):r}(u,t,n,a)),getOwnPropertyDescriptor:(a,u)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,u)=>NU(a).includes(u),ownKeys:a=>NU(a),set(a,u,h){const p=a._storage||(a._storage=r());return a[u]=p[u]=h,delete a._keys,!0}})}function a0(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:SU(n,i),setContext:o=>a0(n,o,e,i),override:o=>a0(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty:(o,a)=>(delete o[a],delete n[a],!0),get:(o,a,u)=>DU(o,a,()=>function h9(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;let u=i[t];return Mp(u)&&a.isScriptable(t)&&(u=function f9(n,t,e,i){const{_proxy:r,_context:o,_subProxy:a,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);return u.add(n),t=t(o,a||i),u.delete(n),wk(n,t)&&(t=Ck(r._scopes,r,n,t)),t}(t,u,n,e)),xi(u)&&u.length&&(u=function p9(n,t,e,i){const{_proxy:r,_context:o,_subProxy:a,_descriptors:u}=e;if(Nl(o.index)&&i(n))t=t[o.index%t.length];else if(Dn(t[0])){const h=t,p=r._scopes.filter(m=>m!==h);t=[];for(const m of h){const v=Ck(p,r,n,m);t.push(a0(v,o,a&&a[n],u))}}return t}(t,u,n,a.isIndexable)),wk(t,u)&&(u=a0(u,r,o&&o[t],a)),u}(o,a,u)),getOwnPropertyDescriptor:(o,a)=>o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(o,a,u)=>(n[a]=u,delete o[a],!0)})}function SU(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Mp(e)?e:()=>e,isIndexable:Mp(i)?i:()=>i}}const d9=(n,t)=>n?n+ak(t):t,wk=(n,t)=>Dn(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function DU(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function MU(n,t,e){return Mp(n)?n(t,e):n}const g9=(n,t)=>!0===n?t:"string"==typeof n?Dp(t,n):void 0;function m9(n,t,e,i,r){for(const o of t){const a=g9(e,o);if(a){n.add(a);const u=MU(a._fallback,e,r);if(Nl(u)&&u!==e&&u!==i)return u}else if(!1===a&&Nl(i)&&e!==i)return null}return!1}function Ck(n,t,e,i){const r=t._rootScopes,o=MU(t._fallback,e,i),a=[...n,...r],u=new Set;u.add(i);let h=PU(u,a,e,o||e,i);return!(null===h||Nl(o)&&o!==e&&(h=PU(u,a,o,h,i),null===h))&&bk(Array.from(u),[""],r,o,()=>function _9(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return xi(r)&&Dn(e)?e:r}(t,e,i))}function PU(n,t,e,i,r){for(;e;)e=m9(n,t,e,i,r);return e}function RU(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Nl(i))return i}}function NU(n){let t=n._keys;return t||(t=n._keys=function v9(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function kU(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,a=new Array(i);let u,h,p,m;for(u=0,h=i;u<h;++u)p=u+e,m=t[p],a[u]={r:r.parse(Dp(m,o),p)};return a}const b9=Number.EPSILON||1e-14,l0=(n,t)=>t<n.length&&!n[t].skip&&n[t],OU=n=>"x"===n?"y":"x";function w9(n,t,e,i){const r=n.skip?t:n,o=t,a=e.skip?t:e,u=ck(o,r),h=ck(a,o);let p=u/(u+h),m=h/(u+h);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const v=i*p,A=i*m;return{previous:{x:o.x-v*(a.x-r.x),y:o.y-v*(a.y-r.y)},next:{x:o.x+A*(a.x-r.x),y:o.y+A*(a.y-r.y)}}}function rS(n,t,e){return Math.max(Math.min(n,e),t)}function x9(n,t,e,i,r){let o,a,u,h;if(t.spanGaps&&(n=n.filter(p=>!p.skip)),"monotone"===t.cubicInterpolationMode)!function A9(n,t="x"){const e=OU(t),i=n.length,r=Array(i).fill(0),o=Array(i);let a,u,h,p=l0(n,0);for(a=0;a<i;++a)if(u=h,h=p,p=l0(n,a+1),h){if(p){const m=p[t]-h[t];r[a]=0!==m?(p[e]-h[e])/m:0}o[a]=u?p?ed(r[a-1])!==ed(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function C9(n,t,e){const i=n.length;let r,o,a,u,h,p=l0(n,0);for(let m=0;m<i-1;++m)if(h=p,p=l0(n,m+1),h&&p){if(_E(t[m],0,b9)){e[m]=e[m+1]=0;continue}r=e[m]/t[m],o=e[m+1]/t[m],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(a=3/Math.sqrt(u),e[m]=r*a*t[m],e[m+1]=o*a*t[m])}})(n,r,o),function E9(n,t,e="x"){const i=OU(e),r=n.length;let o,a,u,h=l0(n,0);for(let p=0;p<r;++p){if(a=u,u=h,h=l0(n,p+1),!u)continue;const m=u[e],v=u[i];a&&(o=(m-a[e])/3,u[`cp1${e}`]=m-o,u[`cp1${i}`]=v-o*t[p]),h&&(o=(h[e]-m)/3,u[`cp2${e}`]=m+o,u[`cp2${i}`]=v+o*t[p])}}(n,o,t)}(n,r);else{let p=i?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)u=n[o],h=w9(p,u,n[Math.min(o+1,a-(i?0:1))%a],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,p=u}t.capBezierPoints&&function T9(n,t){let e,i,r,o,a,u=EE(n[0],t);for(e=0,i=n.length;e<i;++e)a=o,o=u,u=e<i-1&&EE(n[e+1],t),o&&(r=n[e],a&&(r.cp1x=rS(r.cp1x,t.left,t.right),r.cp1y=rS(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=rS(r.cp2x,t.left,t.right),r.cp2y=rS(r.cp2y,t.top,t.bottom)))}(n,e)}function FU(){return typeof window<"u"&&typeof document<"u"}function Ek(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function sS(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const oS=n=>window.getComputedStyle(n,null),S9=["top","right","bottom","left"];function t_(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=S9[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function n_(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=oS(e),o="border-box"===r.boxSizing,a=t_(r,"padding"),u=t_(r,"border","width"),{x:h,y:p,box:m}=function M9(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let u,h,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,o,n.target))u=r,h=o;else{const p=t.getBoundingClientRect();u=i.clientX-p.left,h=i.clientY-p.top,a=!0}return{x:u,y:h,box:a}}(n,e),v=a.left+(m&&u.left),A=a.top+(m&&u.top);let{width:I,height:M}=t;return o&&(I-=a.width+u.width,M-=a.height+u.height),{x:Math.round((h-v)/I*e.width/i),y:Math.round((p-A)/M*e.height/i)}}const Ak=n=>Math.round(10*n)/10;function LU(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=r/i,n.width=o/i;const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==o)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0)}const N9=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function UU(n,t){const e=function I9(n,t){return oS(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function i_(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function k9(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function O9(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},a=i_(n,r,e),u=i_(r,o,e),h=i_(o,t,e),p=i_(a,u,e),m=i_(u,h,e);return i_(p,m,e)}const BU=new Map;function xE(n,t,e){return function F9(n,t){t=t||{};const e=n+JSON.stringify(t);let i=BU.get(e);return i||(i=new Intl.NumberFormat(n,t),BU.set(e,i)),i}(t,e).format(n)}function c0(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function VU(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function HU(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ZU(n){return"angle"===n?{between:yE,compare:x$,normalize:Fa}:{between:Dh,compare:(t,e)=>t-e,normalize:t=>t}}function qU({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function jU(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,a=t.length,{compare:u,between:h,normalize:p}=ZU(i),{start:m,end:v,loop:A,style:I}=function B9(n,t,e){const{property:i,start:r,end:o}=e,{between:a,normalize:u}=ZU(i),h=t.length;let A,I,{start:p,end:m,loop:v}=n;if(v){for(p+=h,m+=h,A=0,I=h;A<I&&a(u(t[p%h][i]),r,o);++A)p--,m--;p%=h,m%=h}return m<p&&(m+=h),{start:p,end:m,loop:v,style:n.style}}(n,t,e),M=[];let q,X,he,R=!1,L=null;for(let ct=m,bt=m;ct<=v;++ct)X=t[ct%a],!X.skip&&(q=p(X[i]),q!==he&&(R=h(q,r,o),null===L&&(R||h(r,he,q)&&0!==u(r,he))&&(L=0===u(q,r)?ct:bt),null!==L&&(!R||0===u(o,q)||h(o,he,q))&&(M.push(qU({start:L,end:ct,loop:A,count:a,style:I})),L=null),bt=ct,he=q));return null!==L&&M.push(qU({start:L,end:v,loop:A,count:a,style:I})),M}function zU(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=jU(i[r],n.points,t);o.length&&e.push(...o)}return e}function $U(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function j9(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var Rh=new class z9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(u=>u({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=eU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let h,a=o.length-1,u=!1;for(;a>=0;--a)h=o[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(o[a]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const WU="transparent",G9={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=CU(n||WU),r=i.valid&&CU(t||WU);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class $9{constructor(t,e,i,r){const o=e[i];r=TE([t.to,r,o,t.from]);const a=TE([t.from,o,r]);this._active=!0,this._fn=t.fn||G9[t.type||typeof a],this._easing=vE[t.easing]||vE.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=TE([t.to,e,r,t.from]),this._from=TE([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,a=this._loop,u=this._to;let h;if(this._active=o!==u&&(a||e<i),!this._active)return this._target[r]=u,void this._notify(!0);e<0?this._target[r]=o:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,u,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}Mn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const K9=Object.keys(Mn.animation);Mn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Mn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Mn.describe("animations",{_fallback:"animation"}),Mn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class YU{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Dn(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Dn(r))return;const o={};for(const a of K9)o[a]=r[a];(xi(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!e.has(a))&&e.set(a,o)})})}_animateOptions(t,e){const i=e.options,r=function J9(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function Q9(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),a=Object.keys(e),u=Date.now();let h;for(h=a.length-1;h>=0;--h){const p=a[h];if("$"===p.charAt(0))continue;if("options"===p){r.push(...this._animateOptions(t,e));continue}const m=e[p];let v=o[p];const A=i.get(p);if(v){if(A&&v.active()){v.update(A,m,u);continue}v.cancel()}A&&A.duration?(o[p]=v=new $9(A,t,p,m),r.push(v)):t[p]=m}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Rh.add(this._chart,i),!0):void 0}}function KU(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:i?o:r,end:i?r:o}}function QU(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function JU(n,t,e,i={}){const r=n.keys,o="single"===i.mode;let a,u,h,p;if(null!==t){for(a=0,u=r.length;a<u;++a){if(h=+r[a],h===e){if(i.all)continue;break}p=n.values[h],Tr(p)&&(o||0===t||ed(t)===ed(p))&&(t+=p)}return t}}function XU(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function rW(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function eB(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function tB(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:a,index:u}=i,h=o.axis,p=a.axis,m=function nW(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,a,i),v=t.length;let A;for(let I=0;I<v;++I){const M=t[I],{[h]:R,[p]:L}=M;A=(M._stacks||(M._stacks={}))[p]=rW(r,m,R),A[u]=L,A._top=eB(A,a,!0,i.type),A._bottom=eB(A,a,!1,i.type)}}function Tk(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function IE(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e]}}}const xk=n=>"reset"===n||"none"===n,nB=(n,t)=>t?n:Object.assign({},n);let Nh=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=XU(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&IE(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(A,I,M,R)=>"x"===A?I:"r"===A?R:M,a=i.xAxisID=an(r.xAxisID,Tk(e,"x")),u=i.yAxisID=an(r.yAxisID,Tk(e,"y")),h=i.rAxisID=an(r.rAxisID,Tk(e,"r")),p=i.indexAxis,m=i.iAxisID=o(p,a,u,h),v=i.vAxisID=o(p,u,a,h);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(u),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(m),i.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xU(this._data,this),e._stacked&&IE(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Dn(i))this._data=function tW(n){const t=Object.keys(n),e=new Array(t.length);let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],e[i]={x:o,y:n[o]};return e}(i);else if(r!==i){if(r){xU(r,this);const o=this._cachedMeta;IE(o),o._parsed=[]}i&&Object.isExtensible(i)&&function u9(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TU.forEach(e=>{const i="_onData"+ak(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const a=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{"function"==typeof u[i]&&u[i](...o)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=i._stacked;i._stacked=XU(i.vScale,i),i.stack!==r.stack&&(o=!0,IE(i),i.stack=r.stack),this._resyncElements(e),(o||a!==i._stacked)&&tB(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:u}=r,h=a.axis;let v,A,I,p=0===e&&i===o.length||r._sorted,m=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,I=o;else{I=xi(o[e])?this.parseArrayData(r,o,e,i):Dn(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const M=()=>null===A[h]||m&&A[h]<m[h];for(v=0;v<i;++v)r._parsed[v+e]=A=I[v],p&&(M()&&(p=!1),m=A);r._sorted=p}u&&tB(this,I)}parsePrimitiveData(e,i,r,o){const{iScale:a,vScale:u}=e,h=a.axis,p=u.axis,m=a.getLabels(),v=a===u,A=new Array(o);let I,M,R;for(I=0,M=o;I<M;++I)R=I+r,A[I]={[h]:v||a.parse(m[R],R),[p]:u.parse(i[R],R)};return A}parseArrayData(e,i,r,o){const{xScale:a,yScale:u}=e,h=new Array(o);let p,m,v,A;for(p=0,m=o;p<m;++p)v=p+r,A=i[v],h[p]={x:a.parse(A[0],v),y:u.parse(A[1],v)};return h}parseObjectData(e,i,r,o){const{xScale:a,yScale:u}=e,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,m=new Array(o);let v,A,I,M;for(v=0,A=o;v<A;++v)I=v+r,M=i[I],m[v]={x:a.parse(Dp(M,h),I),y:u.parse(Dp(M,p),I)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const a=this._cachedMeta,u=i[e.axis];return JU({keys:QU(this.chart,!0),values:i._stacks[e.axis]},u,a.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const a=r[i.axis];let u=null===a?NaN:a;const h=o&&r._stacks[i.axis];o&&h&&(o.values=h,u=JU(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,u=o.length,h=this._getOtherScale(e),p=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:QU(this.chart,!0),values:null})(i,r),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:A}=function iW(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(h);let I,M;function R(){M=o[I];const L=M[h.axis];return!Tr(M[e.axis])||v>L||A<L}for(I=0;I<u&&(R()||(this.updateRangeFromParsed(m,e,M,p),!a));++I);if(a)for(I=u-1;I>=0;--I)if(!R()){this.updateRangeFromParsed(m,e,M,p);break}return m}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,a,u;for(o=0,a=i.length;o<a;++o)u=i[o][e.axis],Tr(u)&&r.push(u);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function eW(n){let t,e,i,r;return Dn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(an(this.options.clip,function X9(n,t,e){if(!1===e)return!1;const i=KU(n,e),r=KU(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],a=this.chart.chartArea,u=[],h=this._drawStart||0,p=this._drawCount||o.length-h,m=this.options.drawActiveElementsOnTop;let v;for(r.dataset&&r.dataset.draw(e,a,h,p),v=h;v<h+p;++v){const A=o[v];A.hidden||(A.active&&m?u.push(A):A.draw(e,a))}for(v=0;v<u.length;++v)u[v].draw(e,a)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];a=u.$context||(u.$context=function oW(n,t,e){return Np(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,u)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function sW(n,t){return Np(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,a=this._cachedDataOpts,u=e+"-"+i,h=a[u],p=this.enableOptionSharing&&Nl(r);if(h)return nB(h,p);const m=this.chart.config,v=m.datasetElementScopeKeys(this._type,e),A=o?[`${e}Hover`,"hover",e,""]:[e,""],I=m.getOptionScopes(this.getDataset(),v),M=Object.keys(Mn.elements[e]),L=m.resolveNamedOptions(I,M,()=>this.getContext(r,o),A);return L.$shared&&(L.$shared=p,a[u]=Object.freeze(nB(L,p))),L}_resolveAnimations(e,i,r){const o=this.chart,a=this._cachedDataOpts,u=`animation-${i}`,h=a[u];if(h)return h;let p;if(!1!==o.options.animation){const v=this.chart.config,A=v.datasetAnimationScopeKeys(this._type,i),I=v.getOptionScopes(this.getDataset(),A);p=v.createResolver(I,this.getContext(e,r,i))}const m=new YU(o,p&&p.animations);return p&&p._cacheable&&(a[u]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||xk(e)||this.chart._animationsDisabled}updateElement(e,i,r,o){xk(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!xk(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const a=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[h,p,m]of this._syncList)this[h](p,m);this._syncList=[];const o=r.length,a=i.length,u=Math.min(a,o);u&&this.parse(0,u),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,i,r=!0){const o=this._cachedMeta,a=o.data,u=e+i;let h;const p=m=>{for(m.length+=i,h=m.length-1;h>=u;h--)m[h]=m[h-i]};for(p(a),h=e;h<u;++h)a[h]=new this.dataElementType;this._parsing&&p(o._parsed),this.parse(e,i),r&&this.updateElements(a,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&IE(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function cW(n){const t=n.iScale,e=function lW(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=IU(i.sort((r,o)=>r-o))}return n._cache.$bar}(t,n.type);let r,o,a,u,i=t._length;const h=()=>{32767===a||-32768===a||(Nl(u)&&(i=Math.min(i,Math.abs(a-u)||i)),u=a)};for(r=0,o=e.length;r<o;++r)a=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)a=t.getPixelForTick(r),h();return i}function iB(n,t,e,i){return xi(n)?function hW(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),a=Math.min(r,o),u=Math.max(r,o);let h=a,p=u;Math.abs(a)>Math.abs(u)&&(h=u,p=a),t[e.axis]=p,t._custom={barStart:h,barEnd:p,start:r,end:o,min:a,max:u}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function rB(n,t,e,i){const r=n.iScale,o=n.vScale,a=r.getLabels(),u=r===o,h=[];let p,m,v,A;for(p=e,m=e+i;p<m;++p)A=t[p],v={},v[r.axis]=u||r.parse(a[p],p),h.push(iB(A,v,o,p));return h}function Ik(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function gW(n,t,e,i){let r=t.borderSkipped;const o={};if(!r)return void(n.borderSkipped=o);const{start:a,end:u,reverse:h,top:p,bottom:m}=function pW(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=p:(e._bottom||0)===i?r=m:(o[sB(m,a,u,h)]=!0,r=p)),o[sB(r,a,u,h)]=!0,n.borderSkipped=o}function sB(n,t,e,i){return i?(n=function mW(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=oB(n,e,t)):n=oB(n,t,e),n}function oB(n,t,e){return"start"===n?t:"end"===n?e:n}function _W(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Nh.prototype.datasetElementType=null,Nh.prototype.dataElementType=null;let yW=(()=>{class n extends Nh{parsePrimitiveData(e,i,r,o){return rB(e,i,r,o)}parseArrayData(e,i,r,o){return rB(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:a,vScale:u}=e,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,m="x"===a.axis?h:p,v="x"===u.axis?h:p,A=[];let I,M,R,L;for(I=r,M=r+o;I<M;++I)L=i[I],R={},R[a.axis]=a.parse(Dp(L,m),I),A.push(iB(Dp(L,v),R,u,I));return A}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const a=r._custom;a&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,a=this.getParsed(e),u=a._custom,h=Ik(u)?"["+u.start+", "+u.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const a="reset"===o,{index:u,_cachedMeta:{vScale:h}}=this,p=h.getBasePixel(),m=h.isHorizontal(),v=this._getRuler(),A=this.resolveDataElementOptions(i,o),I=this.getSharedOptions(A),M=this.includeOptions(o,I);this.updateSharedOptions(I,o,A);for(let R=i;R<i+r;R++){const L=this.getParsed(R),q=a||Zn(L[h.axis])?{base:p,head:p}:this._calculateBarValuePixels(R),X=this._calculateBarIndexPixels(R,v),he=(L._stacks||{})[h.axis],ne={horizontal:m,base:q.base,enableBorderRadius:!he||Ik(L._custom)||u===he._top||u===he._bottom,x:m?q.head:X.center,y:m?X.center:q.head,height:m?X.size:Math.abs(q.size),width:m?Math.abs(q.size):X.size};M&&(ne.options=I||this.resolveDataElementOptions(R,e[R].active?"active":o));const de=ne.options||e[R].options;gW(ne,de,he,u),_W(ne,de,v.ratio),this.updateElement(e[R],R,ne,o)}}_getStacks(e,i){const o=this._cachedMeta.iScale,a=o.getMatchingVisibleMetas(this._type),u=o.options.stacked,h=a.length,p=[];let m,v;for(m=0;m<h;++m)if(v=a[m],v.controller.options.grouped){if(typeof i<"u"){const A=v.controller.getParsed(i)[v.controller._cachedMeta.vScale.axis];if(Zn(A)||isNaN(A))continue}if((!1===u||-1===p.indexOf(v.stack)||void 0===u&&void 0===v.stack)&&p.push(v.stack),v.index===e)break}return p.length||p.push(void 0),p}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const o=this._getStacks(e,r),a=void 0!==i?o.indexOf(i):-1;return-1===a?o.length-1:a}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let a,u;for(a=0,u=i.data.length;a<u;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const h=e.barThickness;return{min:h||cW(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:o,minBarLength:a}}=this,u=o||0,h=this.getParsed(e),p=h._custom,m=Ik(p);let M,R,v=h[i.axis],A=0,I=r?this.applyStack(i,h,r):v;I!==v&&(A=I-v,I=v),m&&(v=p.barStart,I=p.barEnd-p.barStart,0!==v&&ed(v)!==ed(p.barEnd)&&(A=0),A+=v);const L=Zn(o)||m?A:o;let q=i.getPixelForValue(L);if(M=this.chart.getDataVisibility(e)?i.getPixelForValue(A+I):q,R=M-q,Math.abs(R)<a){R=function fW(n,t,e){return 0!==n?ed(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(R,i,u)*a,v===u&&(q-=R/2);const X=i.getPixelForDecimal(0),he=i.getPixelForDecimal(1),ne=Math.min(X,he),de=Math.max(X,he);q=Math.max(Math.min(q,de),ne),M=q+R}if(q===i.getPixelForValue(u)){const X=ed(R)*i.getLineWidthForValue(u)/2;q+=X,R-=X}return{size:R,base:q,head:M,center:M+R/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,a=o.skipNull,u=an(o.maxBarThickness,1/0);let h,p;if(i.grouped){const m=a?this._getStackCount(e):i.stackCount,v="flex"===o.barThickness?function dW(n,t,e,i){const r=t.pixels,o=r[n];let a=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=o-(null===u?t.end-t.start:u-o)),null===u&&(u=o+o-a);const p=o-(o-Math.min(a,u))/2*h;return{chunk:Math.abs(u-a)/2*h/i,ratio:e.barPercentage,start:p}}(e,i,o,m):function uW(n,t,e,i){const r=e.barThickness;let o,a;return Zn(r)?(o=t.min*e.categoryPercentage,a=e.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:t.pixels[n]-o/2}}(e,i,o,m),A=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);h=v.start+v.chunk*A+v.chunk/2,p=Math.min(u,v.chunk*v.ratio)}else h=r.getPixelForValue(this.getParsed(e)[r.axis],e),p=Math.min(u,i.min*i.ratio);return{base:h-p/2,head:h+p/2,center:h,size:p}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let a=0;for(;a<o;++a)null!==this.getParsed(a)[i.axis]&&r[a].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),vW=(()=>{class n extends Nh{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const a=super.parsePrimitiveData(e,i,r,o);for(let u=0;u<a.length;u++)a[u]._custom=this.resolveDataElementOptions(u+r).radius;return a}parseArrayData(e,i,r,o){const a=super.parseArrayData(e,i,r,o);for(let u=0;u<a.length;u++)a[u]._custom=an(i[r+u][2],this.resolveDataElementOptions(u+r).radius);return a}parseObjectData(e,i,r,o){const a=super.parseObjectData(e,i,r,o);for(let u=0;u<a.length;u++){const h=i[r+u];a[u]._custom=an(h&&h.r&&+h.r,this.resolveDataElementOptions(u+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:r,yScale:o}=i,a=this.getParsed(e),u=r.getLabelForValue(a.x),h=o.getLabelForValue(a.y),p=a._custom;return{label:i.label,value:"("+u+", "+h+(p?", "+p:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const a="reset"===o,{iScale:u,vScale:h}=this._cachedMeta,p=this.resolveDataElementOptions(i,o),m=this.getSharedOptions(p),v=this.includeOptions(o,m),A=u.axis,I=h.axis;for(let M=i;M<i+r;M++){const R=e[M],L=!a&&this.getParsed(M),q={},X=q[A]=a?u.getPixelForDecimal(.5):u.getPixelForValue(L[A]),he=q[I]=a?h.getBasePixel():h.getPixelForValue(L[I]);q.skip=isNaN(X)||isNaN(he),v&&(q.options=this.resolveDataElementOptions(M,R.active?"active":o),a&&(q.options.radius=0)),this.updateElement(R,M,q,o)}this.updateSharedOptions(m,o,p)}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return"active"!==i&&(o.radius=0),o.radius+=an(r&&r._custom,a),o}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),aB=(()=>{class n extends Nh{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let u,h,a=p=>+r[p];if(Dn(r[e])){const{key:p="value"}=this._parsing;a=m=>+Dp(r[m],p)}for(u=e,h=e+i;u<h;++u)o._parsed[u]=a(u)}}_getRotation(){return Dc(this.options.rotation-90)}_getCircumference(){return Dc(this.options.circumference)}_getRotationExtents(){let e=vi,i=-vi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const o=this.chart.getDatasetMeta(r).controller,a=o._getRotation(),u=o._getCircumference();e=Math.min(e,a),i=Math.max(i,a+u)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,a=o.data,u=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-u)/2,0),p=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:v,rotation:A}=this._getRotationExtents(),{ratioX:I,ratioY:M,offsetX:R,offsetY:L}=function bW(n,t,e){let i=1,r=1,o=0,a=0;if(t<vi){const u=n,h=u+t,p=Math.cos(u),m=Math.sin(u),v=Math.cos(h),A=Math.sin(h),I=(he,ne,de)=>yE(he,u,h,!0)?1:Math.max(ne,ne*e,de,de*e),M=(he,ne,de)=>yE(he,u,h,!0)?-1:Math.min(ne,ne*e,de,de*e),R=I(0,p,v),L=I(pr,m,A),q=M(Qi,p,v),X=M(Qi+pr,m,A);i=(R-q)/2,r=(L-X)/2,o=-(R+q)/2,a=-(L+X)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}(A,v,p),he=Math.max(Math.min((r.width-u)/I,(r.height-u)/M)/2,0),ne=nU(this.options.radius,he),ke=(ne-Math.max(ne*p,0))/this._getVisibleDatasetWeightTotal();this.offsetX=R*ne,this.offsetY=L*ne,o.total=this.calculateTotal(),this.outerRadius=ne-ke*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ke*m,0),this.updateElements(a,0,a.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,a=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/vi)}updateElements(e,i,r,o){const a="reset"===o,u=this.chart,h=u.chartArea,v=(h.left+h.right)/2,A=(h.top+h.bottom)/2,I=a&&u.options.animation.animateScale,M=I?0:this.innerRadius,R=I?0:this.outerRadius,L=this.resolveDataElementOptions(i,o),q=this.getSharedOptions(L),X=this.includeOptions(o,q);let ne,he=this._getRotation();for(ne=0;ne<i;++ne)he+=this._circumference(ne,a);for(ne=i;ne<i+r;++ne){const de=this._circumference(ne,a),ke=e[ne],ze={x:v+this.offsetX,y:A+this.offsetY,startAngle:he,endAngle:he+de,circumference:de,outerRadius:R,innerRadius:M};X&&(ze.options=q||this.resolveDataElementOptions(ne,ke.active?"active":o)),he+=de,this.updateElement(ke,ne,ze,o)}this.updateSharedOptions(q,o,L)}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const a=e._parsed[o];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?vi*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],a=xE(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,a,u,h,p;if(!e)for(o=0,a=r.data.datasets.length;o<a;++o)if(r.isDatasetVisible(o)){u=r.getDatasetMeta(o),e=u.data,h=u.controller;break}if(!e)return 0;for(o=0,a=e.length;o<a;++o)p=h.resolveDataElementOptions(o),"inner"!==p.borderAlign&&(i=Math.max(i,p.borderWidth||0,p.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const a=this.resolveDataElementOptions(r);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(an(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return xi(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),lB=(()=>{class n extends Nh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=i,u=this.chart._animationsDisabled;let{start:h,count:p}=function wW(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:a,_parsed:u}=n,h=a.axis,{min:p,max:m,minDefined:v,maxDefined:A}=a.getUserBounds();v&&(r=ds(Math.min(Ph(u,a.axis,p).lo,e?i:Ph(t,h,a.getPixelForValue(p)).lo),0,i-1)),o=A?ds(Math.max(Ph(u,a.axis,m).hi+1,e?0:Ph(t,h,a.getPixelForValue(m)).hi+1),r,i)-r:i-r}return{start:r,count:o}}(i,o,u);this._drawStart=h,this._drawCount=p,function CW(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}(i)&&(h=0,p=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!u,options:m},e),this.updateElements(o,h,p,e)}updateElements(e,i,r,o){const a="reset"===o,{iScale:u,vScale:h,_stacked:p,_dataset:m}=this._cachedMeta,v=this.resolveDataElementOptions(i,o),A=this.getSharedOptions(v),I=this.includeOptions(o,A),M=u.axis,R=h.axis,{spanGaps:L,segment:q}=this.options,X=mE(L)?L:Number.POSITIVE_INFINITY,he=this.chart._animationsDisabled||a||"none"===o;let ne=i>0&&this.getParsed(i-1);for(let de=i;de<i+r;++de){const ke=e[de],ze=this.getParsed(de),ct=he?ke:{},bt=Zn(ze[R]),_n=ct[M]=u.getPixelForValue(ze[M],de),En=ct[R]=a||bt?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,ze,p):ze[R],de);ct.skip=isNaN(_n)||isNaN(En)||bt,ct.stop=de>0&&Math.abs(ze[M]-ne[M])>X,q&&(ct.parsed=ze,ct.raw=m.data[de]),I&&(ct.options=A||this.resolveDataElementOptions(de,ke.active?"active":o)),he||this.updateElement(ke,de,ct,o),ne=ze}this.updateSharedOptions(A,o,v)}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const a=o[0].size(this.resolveDataElementOptions(0)),u=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})();var EW=Object.freeze({__proto__:null,BarController:yW,BubbleController:vW,DoughnutController:aB,LineController:lB,PolarAreaController:(()=>{class n extends Nh{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],a=xE(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:a}}parseObjectData(e,i,r,o){return kU.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(o/2,0),h=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,i,r,o){const a="reset"===o,u=this.chart,p=u.options.animation,m=this._cachedMeta.rScale,v=m.xCenter,A=m.yCenter,I=m.getIndexAngle(0)-.5*Qi;let R,M=I;const L=360/this.countVisibleElements();for(R=0;R<i;++R)M+=this._computeAngle(R,o,L);for(R=i;R<i+r;R++){const q=e[R];let X=M,he=M+this._computeAngle(R,o,L),ne=u.getDataVisibility(R)?m.getDistanceFromCenterForValue(this.getParsed(R).r):0;M=he,a&&(p.animateScale&&(ne=0),p.animateRotate&&(X=he=I));const de={x:v,y:A,innerRadius:0,outerRadius:ne,startAngle:X,endAngle:he,options:this.resolveDataElementOptions(R,q.active?"active":o)};this.updateElement(q,R,de,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Dc(this.resolveDataElementOptions(e,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),PieController:(()=>{class n extends aB{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),RadarController:(()=>{class n extends Nh{getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return kU.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],a=i.iScale.getLabels();if(r.points=o,"resize"!==e){const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===o.length,options:u},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const a=this._cachedMeta.rScale,u="reset"===o;for(let h=i;h<i+r;h++){const p=e[h],m=this.resolveDataElementOptions(h,p.active?"active":o),v=a.getPointPositionForValue(h,this.getParsed(h).r),A=u?a.xCenter:v.x,I=u?a.yCenter:v.y,M={x:A,y:I,angle:v.angle,skip:isNaN(A)||isNaN(I),options:m};this.updateElement(p,h,M,o)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),ScatterController:(()=>{class n extends lB{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function r_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var AW={_date:(()=>{class n{constructor(e){this.options=e||{}}formats(){return r_()}parse(e,i){return r_()}format(e,i){return r_()}add(e,i,r){return r_()}diff(e,i,r){return r_()}startOf(e,i,r){return r_()}endOf(e,i){return r_()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function TW(n,t,e,i){const{controller:r,data:o,_sorted:a}=n,u=r._cachedMeta.iScale;if(u&&t===u.axis&&"r"!==t&&a&&o.length){const h=u._reversePixels?l9:Ph;if(!i)return h(o,t,e);if(r._sharedOptions){const p=o[0],m="function"==typeof p.getRange&&p.getRange(t);if(m){const v=h(o,t,e-m),A=h(o,t,e+m);return{lo:v.lo,hi:A.hi}}}}return{lo:0,hi:o.length-1}}function SE(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),a=e[t];for(let u=0,h=o.length;u<h;++u){const{index:p,data:m}=o[u],{lo:v,hi:A}=TW(o[u],t,a,r);for(let I=v;I<=A;++I){const M=m[I];M.skip||i(M,p,I)}}}function Sk(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||SE(n,e,t,function(u,h,p){!r&&!EE(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:h,index:p})},!0),o}function Dk(n,t,e,i,r,o){return o||n.isPointInArea(t)?"r"!==e||i?function SW(n,t,e,i,r,o){let a=[];const u=function xW(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const o=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return SE(n,e,t,function p(m,v,A){const I=m.inRange(t.x,t.y,r);if(i&&!I)return;const M=m.getCenterPoint(r);if(!o&&!n.isPointInArea(M)&&!I)return;const L=u(t,M);L<h?(a=[{element:m,datasetIndex:v,index:A}],h=L):L===h&&a.push({element:m,datasetIndex:v,index:A})}),a}(n,t,e,i,r,o):function IW(n,t,e,i){let r=[];return SE(n,e,t,function o(a,u,h){const{startAngle:p,endAngle:m}=a.getProps(["startAngle","endAngle"],i),{angle:v}=uU(a,{x:t.x,y:t.y});yE(v,p,m)&&r.push({element:a,datasetIndex:u,index:h})}),r}(n,t,e,r):[]}function cB(n,t,e,i,r){const o=[],a="x"===e?"inXRange":"inYRange";let u=!1;return SE(n,e,t,(h,p,m)=>{h[a](t[e],r)&&(o.push({element:h,datasetIndex:p,index:m}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:o}var DW={evaluateInteractionItems:SE,modes:{index(n,t,e,i){const r=n_(t,n),o=e.axis||"x",a=e.includeInvisible||!1,u=e.intersect?Sk(n,r,o,i,a):Dk(n,r,o,!1,i,a),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const m=u[0].index,v=p.data[m];v&&!v.skip&&h.push({element:v,datasetIndex:p.index,index:m})}),h):[]},dataset(n,t,e,i){const r=n_(t,n),o=e.axis||"xy",a=e.includeInvisible||!1;let u=e.intersect?Sk(n,r,o,i,a):Dk(n,r,o,!1,i,a);if(u.length>0){const h=u[0].datasetIndex,p=n.getDatasetMeta(h).data;u=[];for(let m=0;m<p.length;++m)u.push({element:p[m],datasetIndex:h,index:m})}return u},point:(n,t,e,i)=>Sk(n,n_(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>Dk(n,n_(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>cB(n,n_(t,n),"x",e.intersect,i),y:(n,t,e,i)=>cB(n,n_(t,n),"y",e.intersect,i)}};const uB=["left","top","right","bottom"];function DE(n,t){return n.filter(e=>e.pos===t)}function dB(n,t){return n.filter(e=>-1===uB.indexOf(e.pos)&&e.box.axis===t)}function ME(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function hB(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function fB(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function kW(n,t,e,i){const{pos:r,box:o}=e,a=n.maxPadding;if(!Dn(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&fB(a,o.getPadding());const u=Math.max(0,t.outerWidth-hB(a,n,"left","right")),h=Math.max(0,t.outerHeight-hB(a,n,"top","bottom")),p=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:p,other:m}:{same:m,other:p}}function FW(n,t){const e=t.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(t[a],e[a])}),o}(n?["left","right"]:["top","bottom"])}function PE(n,t,e,i){const r=[];let o,a,u,h,p,m;for(o=0,a=n.length,p=0;o<a;++o){u=n[o],h=u.box,h.update(u.width||t.w,u.height||t.h,FW(u.horizontal,t));const{same:v,other:A}=kW(t,e,u,i);p|=v&&r.length,m=m||A,h.fullSize||r.push(u)}return p&&PE(r,t,e,i)||m}function aS(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function pB(n,t,e,i){const r=e.padding;let{x:o,y:a}=t;for(const u of n){const h=u.box,p=i[u.stack]||{count:1,placed:0,weight:1},m=u.stackWeight/p.weight||1;if(u.horizontal){const v=t.w*m,A=p.size||h.height;Nl(p.start)&&(a=p.start),h.fullSize?aS(h,r.left,a,e.outerWidth-r.right-r.left,A):aS(h,t.left+p.placed,a,v,A),p.start=a,p.placed+=v,a=h.bottom}else{const v=t.h*m,A=p.size||h.width;Nl(p.start)&&(o=p.start),h.fullSize?aS(h,o,r.top,A,e.outerHeight-r.bottom-r.top):aS(h,o,t.top+p.placed,A,v),p.start=o,p.placed+=v,o=h.right}}t.x=o,t.y=a}Mn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var io={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=no(n.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(e-r.height,0),u=function NW(n){const t=function MW(n){const t=[];let e,i,r,o,a,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:o,options:{stack:a,stackWeight:u=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:u});return t}(n),e=ME(t.filter(p=>p.box.fullSize),!0),i=ME(DE(t,"left"),!0),r=ME(DE(t,"right")),o=ME(DE(t,"top"),!0),a=ME(DE(t,"bottom")),u=dB(t,"x"),h=dB(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(h).concat(a).concat(u),chartArea:DE(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:o.concat(a).concat(u)}}(n.boxes),h=u.vertical,p=u.horizontal;ri(n.boxes,R=>{"function"==typeof R.beforeLayout&&R.beforeLayout()});const m=h.reduce((R,L)=>L.box.options&&!1===L.box.options.display?R:R+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/m,hBoxMaxHeight:a/2}),A=Object.assign({},r);fB(A,no(i));const I=Object.assign({maxPadding:A,w:o,h:a,x:r.left,y:r.top},r),M=function RW(n,t){const e=function PW(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!uB.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,a,u;for(o=0,a=n.length;o<a;++o){u=n[o];const{fullSize:h}=u.box,p=e[u.stack],m=p&&u.stackWeight/p.weight;u.horizontal?(u.width=m?m*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:h&&t.availableHeight)}return e}(h.concat(p),v);PE(u.fullSize,I,v,M),PE(h,I,v,M),PE(p,I,v,M)&&PE(h,I,v,M),function OW(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(I),pB(u.leftAndTop,I,v,M),I.x+=I.w,I.y+=I.h,pB(u.rightAndBottom,I,v,M),n.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},ri(u.chartArea,R=>{const L=R.box;Object.assign(L,n.chartArea),L.update(I.w,I.h,{left:0,top:0,right:0,bottom:0})})}};class gB{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class LW extends gB{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const lS="$chartjs",UW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mB=n=>null===n||""===n,_B=!!N9&&{passive:!0};function HW(n,t,e){n.canvas.removeEventListener(t,e,_B)}function cS(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function qW(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let a=!1;for(const u of o)a=a||cS(u.addedNodes,i),a=a&&!cS(u.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function jW(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let a=!1;for(const u of o)a=a||cS(u.removedNodes,i),a=a&&!cS(u.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const RE=new Map;let yB=0;function vB(){const n=window.devicePixelRatio;n!==yB&&(yB=n,RE.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function $W(n,t,e){const i=n.canvas,r=i&&Ek(i);if(!r)return;const o=tU((u,h)=>{const p=r.clientWidth;e(u,h),p<r.clientWidth&&e()},window),a=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,m=h.contentRect.height;0===p&&0===m||o(p,m)});return a.observe(r),function zW(n,t){RE.size||window.addEventListener("resize",vB),RE.set(n,t)}(n,o),a}function Mk(n,t,e){e&&e.disconnect(),"resize"===t&&function GW(n){RE.delete(n),RE.size||window.removeEventListener("resize",vB)}(n)}function WW(n,t,e){const i=n.canvas,r=tU(o=>{null!==n.ctx&&e(function ZW(n,t){const e=UW[n.type]||n.type,{x:i,y:r}=n_(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,n))},n,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return function VW(n,t,e){n.addEventListener(t,e,_B)}(i,t,r),r}class YW extends gB{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function BW(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[lS]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",mB(r)){const o=UU(n,"width");void 0!==o&&(n.width=o)}if(mB(i))if(""===n.style.height)n.height=n.width/(t||2);else{const o=UU(n,"height");void 0!==o&&(n.height=o)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[lS])return!1;const i=e[lS].initial;["height","width"].forEach(o=>{const a=i[o];Zn(a)?e.removeAttribute(o):e.setAttribute(o,a)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[lS],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:qW,detach:jW,resize:$W}[e]||WW)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:Mk,detach:Mk,resize:Mk}[e]||HW)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function R9(n,t,e,i){const r=oS(n),o=t_(r,"margin"),a=sS(r.maxWidth,n,"clientWidth")||WI,u=sS(r.maxHeight,n,"clientHeight")||WI,h=function P9(n,t,e){let i,r;if(void 0===t||void 0===e){const o=Ek(n);if(o){const a=o.getBoundingClientRect(),u=oS(o),h=t_(u,"border","width"),p=t_(u,"padding");t=a.width-p.width-h.width,e=a.height-p.height-h.height,i=sS(u.maxWidth,o,"clientWidth"),r=sS(u.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||WI,maxHeight:r||WI}}(n,t,e);let{width:p,height:m}=h;if("content-box"===r.boxSizing){const v=t_(r,"border","width"),A=t_(r,"padding");p-=A.width+v.width,m-=A.height+v.height}return p=Math.max(0,p-o.width),m=Math.max(0,i?Math.floor(p/i):m-o.height),p=Ak(Math.min(p,a,h.maxWidth)),m=Ak(Math.min(m,u,h.maxHeight)),p&&!m&&(m=Ak(p/2)),{width:p,height:m}}(t,e,i,r)}isAttached(t){const e=Ek(t);return!(!e||!e.isConnected)}}class Mc{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return mE(this.x)&&mE(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Mc.defaults={},Mc.defaultRoutes=void 0;const bB={values:n=>xi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=function QW(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=kl(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),xE(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(kl(n)));return 1===i||2===i||5===i?bB.numeric.call(this,n,t,e):""}};var uS={formatters:bB};function dS(n,t,e,i,r){const o=an(i,0),a=Math.min(an(r,n.length),n.length);let h,p,m,u=0;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),m=o;m<0;)u++,m=Math.round(o+u*e);for(p=Math.max(o,0);p<a;p++)p===m&&(t.push(n[p]),u++,m=Math.round(o+u*e))}Mn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Mn.route("scale.ticks","color","","color"),Mn.route("scale.grid","color","","borderColor"),Mn.route("scale.grid","borderColor","","borderColor"),Mn.route("scale.title","color","","color"),Mn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Mn.describe("scales",{_fallback:"scale"}),Mn.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const wB=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function CB(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function sY(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,a=n._endPixel,u=1e-6;let p,h=n.getPixelForTick(r);if(!(e&&(p=1===i?Math.max(h-o,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?p:-p,h<o-u||h>a+u)))return h}function NE(n){return n.drawTicks?n.tickLength:0}function EB(n,t){if(!n.display)return 0;const e=Xr(n.font,t),i=no(n.padding);return(xi(n.text)?n.text.length:1)*e.lineHeight+i.height}function cY(n,t,e){let i=ok(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class s_ extends Mc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Rl(t,Number.POSITIVE_INFINITY),e=Rl(e,Number.NEGATIVE_INFINITY),i=Rl(i,Number.POSITIVE_INFINITY),r=Rl(r,Number.NEGATIVE_INFINITY),{min:Rl(t,i),max:Rl(e,r),minDefined:Tr(t),maxDefined:Tr(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)a=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),o||(i=Math.max(i,a.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Rl(e,Rl(i,e)),max:Rl(i,Rl(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ii(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function a9(n,t,e){const{min:i,max:r}=n,o=nU(t,(r-i)/2),a=(u,h)=>e&&0===u?0:u+h;return{min:a(i,-Math.abs(o)),max:a(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?CB(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function JW(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function XW(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function tY(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],o=r.length,a=r[0],u=r[o-1],h=[];if(o>i)return function nY(n,t,e,i){let a,r=0,o=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===o&&(t.push(n[a]),r++,o=e[r*i])}(t,h,r,o/i),h;const p=function eY(n,t,e){const i=function iY(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const o=function A$(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(i);for(let a=0,u=o.length-1;a<u;a++){const h=o[a];if(h>r)return h}return Math.max(r,1)}(r,t,i);if(o>0){let m,v;const A=o>1?Math.round((u-a)/(o-1)):null;for(dS(t,h,p,Zn(A)?0:a-A,a),m=0,v=o-1;m<v;m++)dS(t,h,p,r[m],r[m+1]);return dS(t,h,p,u,Zn(A)?t.length:u+A),h}return dS(t,h,p),h}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ii(this.options.afterUpdate,[this])}beforeSetDimensions(){Ii(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ii(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ii(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ii(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Ii(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Ii(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ii(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,o=e.maxRotation;let u,h,p,a=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const m=this._getLabelSizes(),v=m.widest.width,A=m.highest.height,I=ds(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/i:I/(i-1),v+6>u&&(u=I/(i-(t.offset?.5:1)),h=this.maxHeight-NE(t.grid)-e.padding-EB(t.title,this.chart.options.font),p=Math.sqrt(v*v+A*A),a=lk(Math.min(Math.asin(ds((m.highest.height+6)/u,-1,1)),Math.asin(ds(h/p,-1,1))-Math.asin(ds(A/p,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ii(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ii(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const h=EB(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=NE(o)+h):(t.height=this.maxHeight,t.width=NE(o)+h),i.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:A}=this._getLabelSizes(),I=2*i.padding,M=Dc(this.labelRotation),R=Math.cos(M),L=Math.sin(M);u?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:L*v.width+R*A.height)+I):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:R*v.width+L*A.height)+I),this._calculatePadding(p,m,L,R)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:a},position:u}=this.options,h=0!==this.labelRotation,p="top"!==u&&"x"===this.axis;if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,I=0;h?p?(A=r*t.width,I=i*e.height):(A=i*t.height,I=r*e.width):"start"===o?I=e.width:"end"===o?A=t.width:"inner"!==o&&(A=t.width/2,I=e.width/2),this.paddingLeft=Math.max((A-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((I-v+a)*this.width/(this.width-v),0)}else{let m=e.height/2,v=t.height/2;"start"===o?(m=0,v=t.height):"end"===o&&(m=e.height,v=0),this.paddingTop=m+a,this.paddingBottom=v+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ii(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Zn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=CB(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,o=[],a=[];let p,m,v,A,I,M,R,L,q,X,he,u=0,h=0;for(p=0;p<e;++p){if(A=t[p].label,I=this._resolveTickFontOptions(p),i.font=M=I.string,R=r[M]=r[M]||{data:{},gc:[]},L=I.lineHeight,q=X=0,Zn(A)||xi(A)){if(xi(A))for(m=0,v=A.length;m<v;++m)he=A[m],!Zn(he)&&!xi(he)&&(q=eS(i,R.data,R.gc,q,he),X+=L)}else q=eS(i,R.data,R.gc,q,A),X=L;o.push(q),a.push(X),u=Math.max(q,u),h=Math.max(X,h)}!function oY(n,t){ri(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(r,e);const ne=o.indexOf(u),de=a.indexOf(h),ke=ze=>({width:o[ze]||0,height:a[ze]||0});return{first:ke(0),last:ke(e-1),widest:ke(ne),highest:ke(de),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function I$(n){return ds(n,-32768,32767)}(this._alignToPixels?Jm(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function lY(n,t,e){return Np(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function aY(n,t){return Np(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Dc(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,u=o?o.widest.width+a:0,h=o?o.highest.height+a:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:a}=r,u=o.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),v=NE(o),A=[],I=o.setContext(this.getContext()),M=I.drawBorder?I.borderWidth:0,R=M/2,L=function(dn){return Jm(i,dn,M)};let q,X,he,ne,de,ke,ze,ct,bt,_n,En,un;if("top"===a)q=L(this.bottom),ke=this.bottom-v,ct=q-R,_n=L(t.top)+R,un=t.bottom;else if("bottom"===a)q=L(this.top),_n=t.top,un=L(t.bottom)-R,ke=q+R,ct=this.top+v;else if("left"===a)q=L(this.right),de=this.right-v,ze=q-R,bt=L(t.left)+R,En=t.right;else if("right"===a)q=L(this.left),bt=t.left,En=L(t.right)-R,de=q+R,ze=this.left+v;else if("x"===e){if("center"===a)q=L((t.top+t.bottom)/2+.5);else if(Dn(a)){const dn=Object.keys(a)[0];q=L(this.chart.scales[dn].getPixelForValue(a[dn]))}_n=t.top,un=t.bottom,ke=q+R,ct=ke+v}else if("y"===e){if("center"===a)q=L((t.left+t.right)/2);else if(Dn(a)){const dn=Object.keys(a)[0];q=L(this.chart.scales[dn].getPixelForValue(a[dn]))}de=q-R,ze=de-v,bt=t.left,En=t.right}const di=an(r.ticks.maxTicksLimit,m),ps=Math.max(1,Math.ceil(m/di));for(X=0;X<m;X+=ps){const dn=o.setContext(this.getContext(X)),Xe=dn.lineWidth,kt=dn.color,Ft=o.borderDash||[],yn=dn.borderDashOffset,Zi=dn.tickWidth,Ro=dn.tickColor,Zr=dn.tickBorderDash||[],ra=dn.tickBorderDashOffset;he=sY(this,X,u),void 0!==he&&(ne=Jm(i,he,Xe),h?de=ze=bt=En=ne:ke=ct=_n=un=ne,A.push({tx1:de,ty1:ke,tx2:ze,ty2:ct,x1:bt,y1:_n,x2:En,y2:un,width:Xe,color:kt,borderDash:Ft,borderDashOffset:yn,tickWidth:Zi,tickColor:Ro,tickBorderDash:Zr,tickBorderDashOffset:ra}))}return this._ticksLength=m,this._borderValue=q,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,a=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:m,mirror:v}=o,A=NE(i.grid),I=A+m,M=v?-m:I,R=-Dc(this.labelRotation),L=[];let q,X,he,ne,de,ke,ze,ct,bt,_n,En,un,di="middle";if("top"===r)ke=this.bottom-M,ze=this._getXAxisLabelAlignment();else if("bottom"===r)ke=this.top+M,ze=this._getXAxisLabelAlignment();else if("left"===r){const dn=this._getYAxisLabelAlignment(A);ze=dn.textAlign,de=dn.x}else if("right"===r){const dn=this._getYAxisLabelAlignment(A);ze=dn.textAlign,de=dn.x}else if("x"===e){if("center"===r)ke=(t.top+t.bottom)/2+I;else if(Dn(r)){const dn=Object.keys(r)[0];ke=this.chart.scales[dn].getPixelForValue(r[dn])+I}ze=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)de=(t.left+t.right)/2-I;else if(Dn(r)){const dn=Object.keys(r)[0];de=this.chart.scales[dn].getPixelForValue(r[dn])}ze=this._getYAxisLabelAlignment(A).textAlign}"y"===e&&("start"===h?di="top":"end"===h&&(di="bottom"));const ps=this._getLabelSizes();for(q=0,X=u.length;q<X;++q){he=u[q],ne=he.label;const dn=o.setContext(this.getContext(q));ct=this.getPixelForTick(q)+o.labelOffset,bt=this._resolveTickFontOptions(q),_n=bt.lineHeight,En=xi(ne)?ne.length:1;const Xe=En/2,kt=dn.color,Ft=dn.textStrokeColor,yn=dn.textStrokeWidth;let Ro,Zi=ze;if(a?(de=ct,"inner"===ze&&(Zi=q===X-1?this.options.reverse?"left":"right":0===q?this.options.reverse?"right":"left":"center"),un="top"===r?"near"===p||0!==R?-En*_n+_n/2:"center"===p?-ps.highest.height/2-Xe*_n+_n:_n/2-ps.highest.height:"near"===p||0!==R?_n/2:"center"===p?ps.highest.height/2-Xe*_n:ps.highest.height-En*_n,v&&(un*=-1)):(ke=ct,un=(1-En)*_n/2),dn.showLabelBackdrop){const Zr=no(dn.backdropPadding),ra=ps.heights[q],Ci=ps.widths[q];let D0=ke+un-Zr.top,PA=de-Zr.left;switch(di){case"middle":D0-=ra/2;break;case"bottom":D0-=ra}switch(ze){case"center":PA-=Ci/2;break;case"right":PA-=Ci}Ro={left:PA,top:D0,width:Ci+Zr.width,height:ra+Zr.height,color:dn.backdropColor}}L.push({rotation:R,label:ne,font:bt,color:kt,strokeColor:Ft,strokeWidth:yn,textOffset:un,textAlign:Zi,textBaseline:di,translation:[de,ke],backdrop:Ro})}return L}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Dc(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=t+o,h=this._getLabelSizes().widest.width;let p,m;return"left"===e?r?(m=this.right+o,"near"===i?p="left":"center"===i?(p="center",m+=h/2):(p="right",m+=h)):(m=this.right-u,"near"===i?p="right":"center"===i?(p="center",m-=h/2):(p="left",m=this.left)):"right"===e?r?(m=this.left+o,"near"===i?p="right":"center"===i?(p="center",m-=h/2):(p="left",m-=h)):(m=this.left+u,"near"===i?p="left":"center"===i?(p="center",m+=h/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const u=(h,p,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(o=0,a=r.length;o<a;++o){const h=r[o];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),o=i.drawBorder?r.borderWidth:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,p,m,v;this.isHorizontal()?(h=Jm(t,this.left,o)-o/2,p=Jm(t,this.right,a)+a/2,m=v=u):(m=Jm(t,this.top,o)-o/2,v=Jm(t,this.bottom,a)+a/2,h=p=u),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(h,m),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&nS(i,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,u;for(a=0,u=o.length;a<u;++a){const h=o[a],p=h.font,m=h.label;h.backdrop&&(i.fillStyle=h.backdrop.color,i.fillRect(h.backdrop.left,h.backdrop.top,h.backdrop.width,h.backdrop.height)),Xm(i,m,0,h.textOffset,p,h)}r&&iS(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Xr(i.font),a=no(i.padding),u=i.align;let h=o.lineHeight/2;"bottom"===e||"center"===e||Dn(e)?(h+=a.bottom,xi(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:p,titleY:m,maxWidth:v,rotation:A}=function uY(n,t,e,i){const{top:r,left:o,bottom:a,right:u,chart:h}=n,{chartArea:p,scales:m}=h;let A,I,M,v=0;const R=a-r,L=u-o;if(n.isHorizontal()){if(I=to(i,o,u),Dn(e)){const q=Object.keys(e)[0];M=m[q].getPixelForValue(e[q])+R-t}else M="center"===e?(p.bottom+p.top)/2+R-t:wB(n,e,t);A=u-o}else{if(Dn(e)){const q=Object.keys(e)[0];I=m[q].getPixelForValue(e[q])-L+t}else I="center"===e?(p.left+p.right)/2-L+t:wB(n,e,t);M=to(i,a,r),v="left"===e?-pr:pr}return{titleX:I,titleY:M,maxWidth:A,rotation:v}}(this,h,e,u);Xm(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:A,textAlign:cY(u,e,r),textBaseline:"middle",translation:[p,m]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=an(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===s_.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,a;for(o=0,a=e.length;o<a;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){return Xr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hS{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function fY(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function dY(n,t,e){const i=fE(Object.create(null),[e?Mn.get(e):{},Mn.get(t),n.defaults]);Mn.set(t,i),n.defaultRoutes&&function hY(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),a=t[e].split("."),u=a.pop(),h=a.join(".");Mn.route(o,r,h,u)})}(t,n.defaultRoutes),n.descriptors&&Mn.describe(t,n.descriptors)}(t,a,i),this.override&&Mn.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Mn[r]&&(delete Mn[r][i],this.override&&delete Qm[i])}}var kh=new class pY{constructor(){this.controllers=new hS(Nh,"datasets",!0),this.elements=new hS(Mc,"elements"),this.plugins=new hS(Object,"plugins"),this.scales=new hS(s_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ri(r,a=>{const u=i||this._getRegistryForType(a);this._exec(t,u,a)})})}_exec(t,e,i){const r=ak(t);Ii(i["before"+r],[],i),e[t](i),Ii(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}};class gY{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(o,t,e,i);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const o of t){const a=o.plugin;if(!1===Ii(a[i],[e,r,o.options],a)&&r.cancelable)return!1}return!0}invalidate(){Zn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=an(i.options&&i.options.plugins,{}),o=function mY(n){const t=[],e=Object.keys(kh.plugins.items);for(let r=0;r<e.length;r++)t.push(kh.getPlugin(e[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];-1===t.indexOf(o)&&t.push(o)}return t}(i);return!1!==r||e?function yY(n,t,e,i){const r=[],o=n.getContext();for(let a=0;a<t.length;a++){const u=t[a],p=_Y(e[u.id],i);null!==p&&r.push({plugin:u,options:vY(n.config,u,p,o)})}return r}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,a)=>o.filter(u=>!a.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function _Y(n,t){return t||!1!==n?!0===n?{}:n:null}function vY(n,t,e,i){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(e,r);return n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pk(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Mn.datasets[n]||{}).indexAxis||"x"}function Rk(n,t){return"x"===n||"y"===n?n:t.axis||function CY(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function AB(n){const t=n.options||(n.options={});t.plugins=an(t.plugins,{}),t.scales=function EY(n,t){const e=Qm[n.type]||{scales:{}},i=t.scales||{},r=Pk(n.type,t),o=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Dn(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const p=Rk(u,h),m=function wY(n,t){return n===t?"_index_":"_value_"}(p,r),v=e.scales||{};o[p]=o[p]||u,a[u]=pE(Object.create(null),[{axis:p},h,v[p],v[m]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,p=u.indexAxis||Pk(h,t),v=(Qm[h]||{}).scales||{};Object.keys(v).forEach(A=>{const I=function bY(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(A,p),M=u[I+"AxisID"]||o[I]||I;a[M]=a[M]||Object.create(null),pE(a[M],[{axis:I},i[M],v[A]])})}),Object.keys(a).forEach(u=>{const h=a[u];pE(h,[Mn.scales[h.type],Mn.scale])}),a}(n,t)}function TB(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const xB=new Map,IB=new Set;function fS(n,t){let e=xB.get(n);return e||(e=t(),xB.set(n,e),IB.add(e)),e}const kE=(n,t,e)=>{const i=Dp(t,e);void 0!==i&&n.add(i)};class TY{constructor(t){this._config=function AY(n){return(n=n||{}).data=TB(n.data),AB(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=TB(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),AB(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fS(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return fS(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return fS(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return fS(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,a=this._cachedScopes(t,i),u=a.get(e);if(u)return u;const h=new Set;e.forEach(m=>{t&&(h.add(t),m.forEach(v=>kE(h,t,v))),m.forEach(v=>kE(h,r,v)),m.forEach(v=>kE(h,Qm[o]||{},v)),m.forEach(v=>kE(h,Mn,v)),m.forEach(v=>kE(h,mk,v))});const p=Array.from(h);return 0===p.length&&p.push(Object.create(null)),IB.has(e)&&a.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qm[e]||{},Mn.datasets[e]||{},{type:e},Mn,mk]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:a,subPrefixes:u}=SB(this._resolverCache,t,r);let h=a;(function IY(n,t){const{isScriptable:e,isIndexable:i}=SU(n);for(const r of t){const o=e(r),a=i(r),u=(a||o)&&n[r];if(o&&(Mp(u)||xY(u))||a&&xi(u))return!0}return!1})(a,e)&&(o.$shared=!1,h=a0(a,i=Mp(i)?i():i,this.createResolver(t,i,u)));for(const p of e)o[p]=h[p];return o}createResolver(t,e,i=[""],r){const{resolver:o}=SB(this._resolverCache,t,i);return Dn(e)?a0(o,e,void 0,r):o}}function SB(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:bk(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const xY=n=>Dn(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Mp(n[e]),!1),DY=["top","bottom","left","right","chartArea"];function DB(n,t){return"top"===n||"bottom"===n||-1===DY.indexOf(n)&&"x"===t}function MB(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function PB(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ii(e&&e.onComplete,[n],t)}function MY(n){const t=n.chart,e=t.options.animation;Ii(e&&e.onProgress,[n],t)}function RB(n){return FU()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pS={},NB=n=>{const t=RB(n);return Object.values(pS).filter(e=>e.canvas===t).pop()};function PY(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const a=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=a)}}}class u0{constructor(t,e){const i=this.config=new TY(e),r=RB(t),o=NB(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function KW(n){return!FU()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?LW:YW}(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,a.aspectRatio),h=u&&u.canvas,p=h&&h.height,m=h&&h.width;this.id=g$(),this.ctx=u,this.canvas=h,this.width=m,this.height=p,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function f$(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(v=>this.update(v),a.resizeDelay||0),this._dataChanges=[],pS[this.id]=this,u&&h?(Rh.listen(this,"complete",PB),Rh.listen(this,"progress",MY),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Zn(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LU(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return EU(this.canvas,this.ctx),this}stop(){return Rh.stop(this),this}resize(t,e){Rh.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,LU(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),Ii(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){ri(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,u)=>(a[u]=!1,a),{});let o=[];e&&(o=o.concat(Object.keys(e).map(a=>{const u=e[a],h=Rk(a,u),p="r"===h,m="x"===h;return{options:u,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),ri(o,a=>{const u=a.options,h=u.id,p=Rk(h,u),m=an(u.type,a.dtype);(void 0===u.position||DB(u.position,p)!==DB(a.dposition))&&(u.position=a.dposition),r[h]=!0;let v=null;h in i&&i[h].type===m?v=i[h]:(v=new(kh.getScale(m))({id:h,type:m,ctx:this.ctx,chart:this}),i[v.id]=v),v.init(u,t)}),ri(r,(a,u)=>{a||delete i[u]}),ri(i,a=>{io.configure(this,a,a.options),io.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(MB("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(o=>o===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let a=this.getDatasetMeta(i);const u=o.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=u,a.indexAxis=o.indexAxis||Pk(u,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=kh.getController(u),{datasetElementType:p,dataElementType:m}=Mn.datasets[u];Object.assign(h.prototype,{dataElementType:kh.getElement(m),datasetElementType:p&&kh.getElement(p)}),a.controller=new h(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){ri(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),A=!r&&-1===o.indexOf(v);v.buildOrUpdateElements(A),a=Math.max(+v.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||ri(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(MB("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ri(this.scales,t=>{io.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!sU(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e)PY(t,r,"_removeElements"===i?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,u)=>u+","+a.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!sU(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;io.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ri(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Mp(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Rh.has(this)?this.attached&&!Rh.running(this)&&Rh.start(this):(this.draw(),PB({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,o=this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&nS(e,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),t.controller.draw(),r&&iS(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return EE(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=DW.modes[e];return"function"==typeof o?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Np(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,r);Nl(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Rh.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),EU(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete pS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,a)=>{e.addEventListener(this,o,a),t[o]=a},r=(o,a,u)=>{o.offsetX=a,o.offsetY=u,this._eventHandler(o)};ri(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,p)=>{e.addEventListener(this,h,p),t[h]=p},r=(h,p)=>{t[h]&&(e.removeEventListener(this,h,p),delete t[h])},o=(h,p)=>{this.canvas&&this.resize(h,p)};let a;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():a()}unbindEvents(){ri(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ri(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,a,u,h;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){a=t[u];const p=a&&this.getDatasetMeta(a.datasetIndex).controller;p&&p[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[a],index:a}});!GI(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(h,p)=>h.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),a=o(e,t),u=i?t:o(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,u=this._getActiveElements(t,r,i,e),h=function w$(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),p=function RY(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Ii(o.onHover,[t,u,this],this),h&&Ii(o.onClick,[t,u,this],this));const m=!GI(u,r);return(m||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=p,m}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}const kB=()=>ri(u0.instances,n=>n._plugins.invalidate()),kp=!0;function OB(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:a,outerRadius:u,innerRadius:h}=t;let p=r/u;n.beginPath(),n.arc(o,a,u,i-p,e+p),h>r?(p=r/h,n.arc(o,a,h,e+p,i-p,!0)):n.arc(o,a,r,e+pr,i-pr),n.closePath(),n.clip()}function d0(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Nk(n,t,e,i,r){const{x:o,y:a,startAngle:u,pixelMargin:h,innerRadius:p}=t,m=Math.max(t.outerRadius+i+e-h,0),v=p>0?p+i+e+h:0;let A=0;const I=r-u;if(i){const Ft=((p>0?p-i:0)+(m>0?m-i:0))/2;A=(I-(0!==Ft?I*Ft/(Ft+i):I))/2}const R=(I-Math.max(.001,I*m-e/Qi)/m)/2,L=u+R+A,q=r-R-A,{outerStart:X,outerEnd:he,innerStart:ne,innerEnd:de}=function kY(n,t,e,i){const r=function NY(n){return yk(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,a=Math.min(o,i*t/2),u=h=>{const p=(e-Math.min(o,h))*i/2;return ds(h,0,Math.min(o,p))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:ds(r.innerStart,0,a),innerEnd:ds(r.innerEnd,0,a)}}(t,v,m,q-L),ke=m-X,ze=m-he,ct=L+X/ke,bt=q-he/ze,_n=v+ne,En=v+de,un=L+ne/_n,di=q-de/En;if(n.beginPath(),n.arc(o,a,m,ct,bt),he>0){const Xe=d0(ze,bt,o,a);n.arc(Xe.x,Xe.y,he,bt,q+pr)}const ps=d0(En,q,o,a);if(n.lineTo(ps.x,ps.y),de>0){const Xe=d0(En,di,o,a);n.arc(Xe.x,Xe.y,de,q+pr,di+Math.PI)}if(n.arc(o,a,v,q-de/v,L+ne/v,!0),ne>0){const Xe=d0(_n,un,o,a);n.arc(Xe.x,Xe.y,ne,un+Math.PI,L-pr)}const dn=d0(ke,L,o,a);if(n.lineTo(dn.x,dn.y),X>0){const Xe=d0(ke,ct,o,a);n.arc(Xe.x,Xe.y,X,L-pr,ct)}n.closePath()}Object.defineProperties(u0,{defaults:{enumerable:kp,value:Mn},instances:{enumerable:kp,value:pS},overrides:{enumerable:kp,value:Qm},registry:{enumerable:kp,value:kh},version:{enumerable:kp,value:"3.8.0"},getChart:{enumerable:kp,value:NB},register:{enumerable:kp,value:(...n)=>{kh.add(...n),kB()}},unregister:{enumerable:kp,value:(...n)=>{kh.remove(...n),kB()}}});class gS extends Mc{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=uU(r,{x:t,y:e}),{startAngle:u,endAngle:h,innerRadius:p,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),A=this.options.spacing/2,M=an(v,h-u)>=vi||yE(o,u,h),R=Dh(a,p+A,m+A);return M&&R}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:h,spacing:p}=this.options,m=(r+o)/2,v=(a+u+p+h)/2;return{x:e+Math.cos(m)*v,y:i+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,o=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>vi?Math.floor(i/vi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a),this.circumference>=Qi&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const u=function OY(n,t,e,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let u=t.endAngle;if(r){Nk(n,t,e,i,o+vi);for(let h=0;h<r;++h)n.fill();isNaN(a)||(u=o+a%vi,a%vi==0&&(u+=vi))}return Nk(n,t,e,i,u),n.fill(),u}(t,this,a,o);(function LY(n,t,e,i,r){const{options:o}=t,{borderWidth:a,borderJoinStyle:u}=o,h="inner"===o.borderAlign;!a||(h?(n.lineWidth=2*a,n.lineJoin=u||"round"):(n.lineWidth=a,n.lineJoin=u||"bevel"),t.fullCircles&&function FY(n,t,e){const{x:i,y:r,startAngle:o,pixelMargin:a,fullCircles:u}=t,h=Math.max(t.outerRadius-a,0),p=t.innerRadius+a;let m;for(e&&OB(n,t,o+vi),n.beginPath(),n.arc(i,r,p,o+vi,o,!0),m=0;m<u;++m)n.stroke();for(n.beginPath(),n.arc(i,r,h,o,o+vi),m=0;m<u;++m)n.stroke()}(n,t,h),h&&OB(n,t,r),Nk(n,t,e,i,r),n.stroke())})(t,this,a,o,u),t.restore()}}function FB(n,t,e=t){n.lineCap=an(e.borderCapStyle,t.borderCapStyle),n.setLineDash(an(e.borderDash,t.borderDash)),n.lineDashOffset=an(e.borderDashOffset,t.borderDashOffset),n.lineJoin=an(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=an(e.borderWidth,t.borderWidth),n.strokeStyle=an(e.borderColor,t.borderColor)}function UY(n,t,e){n.lineTo(e.x,e.y)}function LB(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:a,end:u}=t,h=Math.max(r,a),p=Math.min(o,u);return{count:i,start:h,loop:t.loop,ilen:p<h&&!(r<a&&o<a||r>u&&o>u)?i+p-h:p-h}}function VY(n,t,e,i){const{points:r,options:o}=t,{count:a,start:u,loop:h,ilen:p}=LB(r,e,i),m=function BY(n){return n.stepped?X$:n.tension||"monotone"===n.cubicInterpolationMode?e9:UY}(o);let I,M,R,{move:v=!0,reverse:A}=i||{};for(I=0;I<=p;++I)M=r[(u+(A?p-I:I))%a],!M.skip&&(v?(n.moveTo(M.x,M.y),v=!1):m(n,R,M,A,o.stepped),R=M);return h&&(M=r[(u+(A?p:0))%a],m(n,R,M,A,o.stepped)),!!h}function HY(n,t,e,i){const r=t.points,{count:o,start:a,ilen:u}=LB(r,e,i),{move:h=!0,reverse:p}=i||{};let A,I,M,R,L,q,m=0,v=0;const X=ne=>(a+(p?u-ne:ne))%o,he=()=>{R!==L&&(n.lineTo(m,L),n.lineTo(m,R),n.lineTo(m,q))};for(h&&(I=r[X(0)],n.moveTo(I.x,I.y)),A=0;A<=u;++A){if(I=r[X(A)],I.skip)continue;const ne=I.x,de=I.y,ke=0|ne;ke===M?(de<R?R=de:de>L&&(L=de),m=(v*m+ne)/++v):(he(),n.lineTo(ne,de),M=ke,v=0,R=L=de),q=de}he()}function kk(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?VY:HY}gS.id="arc",gS.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},gS.defaultRoutes={backgroundColor:"backgroundColor"};const zY="function"==typeof Path2D;let mS=(()=>{class n extends Mc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(x9(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Z9(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:a,end:u}=function V9(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,i);return function GU(n,t,e,i){return i&&i.setContext&&e?function q9(n,t,e,i){const r=n._chart.getContext(),o=$U(n.options),{_datasetIndex:a,options:{spanGaps:u}}=n,h=e.length,p=[];let m=o,v=t[0].start,A=v;function I(M,R,L,q){const X=u?-1:1;if(M!==R){for(M+=h;e[M%h].skip;)M-=X;for(;e[R%h].skip;)R+=X;M%h!=R%h&&(p.push({start:M%h,end:R%h,loop:L,style:q}),m=q,v=R%h)}}for(const M of t){v=u?v:M.start;let L,R=e[v%h];for(A=v+1;A<=M.end;A++){const q=e[A%h];L=$U(i.setContext(Np(r,{type:"segment",p0:R,p1:q,p0DataIndex:(A-1)%h,p1DataIndex:A%h,datasetIndex:a}))),j9(L,m)&&I(v,A-1,M.loop,m),R=q,m=L}v<A-1&&I(v,A-1,M.loop,m)}return p}(n,t,e,i):t}(n,!0===i?[{start:a,end:u,loop:o}]:function H9(n,t,e,i){const r=n.length,o=[];let h,a=t,u=n[t];for(h=t+1;h<=e;++h){const p=n[h%r];p.skip||p.stop?u.skip||(o.push({start:t%r,end:(h-1)%r,loop:i=!1}),t=a=p.stop?h:null):(a=h,u.skip&&(t=h)),u=p}return null!==a&&o.push({start:t%r,end:a%r,loop:i}),o}(e,a,u<a?u+r:u,!!n._fullLoop&&0===a&&u===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],a=this.points,u=zU(this,{property:i,start:o,end:o});if(!u.length)return;const h=[],p=function ZY(n){return n.stepped?k9:n.tension||"monotone"===n.cubicInterpolationMode?O9:i_}(r);let m,v;for(m=0,v=u.length;m<v;++m){const{start:A,end:I}=u[m],M=a[A],R=a[I];if(M===R){h.push(M);continue}const q=p(M,R,Math.abs((o-M[i])/(R[i]-M[i])),r.stepped);q[i]=e[i],h.push(q)}return 1===h.length?h[0]:h}pathSegment(e,i,r){return kk(this)(e,this,i,r)}path(e,i,r){const o=this.segments,a=kk(this);let u=this._loop;i=i||0,r=r||this.points.length-i;for(const h of o)u&=a(e,this,h,{start:i,end:i+r-1});return!!u}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function GY(n,t,e,i){zY&&!t.options.segment?function qY(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),FB(n,t.options),n.stroke(r)}(n,t,e,i):function jY(n,t,e,i){const{segments:r,options:o}=t,a=kk(t);for(const u of r)FB(n,o,u.style),n.beginPath(),a(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function UB(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}let $Y=(()=>{class n extends Mc{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:a,y:u}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return UB(this,e,"x",i)}inYRange(e,i){return UB(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!EE(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,tS(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function BB(n,t){const{x:e,y:i,base:r,width:o,height:a}=n.getProps(["x","y","base","width","height"],t);let u,h,p,m,v;return n.horizontal?(v=a/2,u=Math.min(e,r),h=Math.max(e,r),p=i-v,m=i+v):(v=o/2,u=e-v,h=e+v,p=Math.min(i,r),m=Math.max(i,r)),{left:u,top:p,right:h,bottom:m}}function Op(n,t,e,i){return n?0:ds(t,e,i)}function Ok(n,t,e,i){const r=null===t,o=null===e,u=n&&!(r&&o)&&BB(n,i);return u&&(r||Dh(t,u.left,u.right))&&(o||Dh(e,u.top,u.bottom))}function JY(n,t){n.rect(t.x,t.y,t.w,t.h)}function Fk(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class _S extends Mc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:a}=function KY(n){const t=BB(n),e=t.right-t.left,i=t.bottom-t.top,r=function WY(n,t,e){const r=n.borderSkipped,o=AU(n.options.borderWidth);return{t:Op(r.top,o.top,0,e),r:Op(r.right,o.right,0,t),b:Op(r.bottom,o.bottom,0,e),l:Op(r.left,o.left,0,t)}}(n,e/2,i/2),o=function YY(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=e_(r),a=Math.min(t,e),u=n.borderSkipped,h=i||Dn(r);return{topLeft:Op(!h||u.top||u.left,o.topLeft,0,a),topRight:Op(!h||u.top||u.right,o.topRight,0,a),bottomLeft:Op(!h||u.bottom||u.left,o.bottomLeft,0,a),bottomRight:Op(!h||u.bottom||u.right,o.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),u=function QY(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?AE:JY;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),u(t,Fk(a,e,o)),t.clip(),u(t,Fk(o,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Fk(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Ok(this,t,e,i)}inXRange(t,e){return Ok(this,t,null,e)}inYRange(t,e){return Ok(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}_S.id="bar",_S.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},_S.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var XY=Object.freeze({__proto__:null,ArcElement:gS,LineElement:mS,PointElement:$Y,BarElement:_S});function VB(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function HB(n){n.data.datasets.forEach(t=>{VB(t)})}var iK={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void HB(n);const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:a,indexAxis:u}=r,h=n.getDatasetMeta(o),p=a||r.data;if("y"===TE([u,n.options.indexAxis])||!h.controller.supportsDecimation)return;const m=n.scales[h.xAxisID];if("linear"!==m.type&&"time"!==m.type||n.options.parsing)return;let M,{start:v,count:A}=function nK(n,t){const e=t.length;let r,i=0;const{iScale:o}=n,{min:a,max:u,minDefined:h,maxDefined:p}=o.getUserBounds();return h&&(i=ds(Ph(t,o.axis,a).lo,0,e-1)),r=p?ds(Ph(t,o.axis,u).hi+1,i,e)-i:e-i,{start:i,count:r}}(h,p);if(A<=(e.threshold||4*i))VB(r);else{switch(Zn(a)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(R){this._data=R}})),e.algorithm){case"lttb":M=function eK(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const a=[],u=(e-2)/(o-2);let h=0;const p=t+e-1;let v,A,I,M,R,m=t;for(a[h++]=n[m],v=0;v<o-2;v++){let X,L=0,q=0;const he=Math.floor((v+1)*u)+1+t,ne=Math.min(Math.floor((v+2)*u)+1,e)+t,de=ne-he;for(X=he;X<ne;X++)L+=n[X].x,q+=n[X].y;L/=de,q/=de;const ke=Math.floor(v*u)+1+t,ze=Math.min(Math.floor((v+1)*u)+1,e)+t,{x:ct,y:bt}=n[m];for(I=M=-1,X=ke;X<ze;X++)M=.5*Math.abs((ct-L)*(n[X].y-bt)-(ct-n[X].x)*(q-bt)),M>I&&(I=M,A=n[X],R=X);a[h++]=A,m=R}return a[h++]=n[p],a}(p,v,A,i,e);break;case"min-max":M=function tK(n,t,e,i){let a,u,h,p,m,v,A,I,M,R,r=0,o=0;const L=[],X=n[t].x,ne=n[t+e-1].x-X;for(a=t;a<t+e;++a){u=n[a],h=(u.x-X)/ne*i,p=u.y;const de=0|h;if(de===m)p<M?(M=p,v=a):p>R&&(R=p,A=a),r=(o*r+u.x)/++o;else{const ke=a-1;if(!Zn(v)&&!Zn(A)){const ze=Math.min(v,A),ct=Math.max(v,A);ze!==I&&ze!==ke&&L.push({...n[ze],x:r}),ct!==I&&ct!==ke&&L.push({...n[ct],x:r})}a>0&&ke!==I&&L.push(n[ke]),L.push(u),m=de,o=0,M=R=p,v=A=I=a}}return L}(p,v,A,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=M}})},destroy(n){HB(n)}};function Lk(n,t,e,i){if(i)return;let r=t[n],o=e[n];return"angle"===n&&(r=Fa(r),o=Fa(o)),{property:n,start:r,end:o}}function Uk(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ZB(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function qB(n,t){let e=[],i=!1;return xi(n)?(i=!0,e=n):e=function sK(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:a,end:u})=>{u=Uk(a,u,r);const h=r[a],p=r[u];null!==i?(o.push({x:h.x,y:i}),o.push({x:p.x,y:i})):null!==e&&(o.push({x:e,y:h.y}),o.push({x:e,y:p.y}))}),o}(n,t),e.length?new mS({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function oK(n,t,e){let r=n[t].fill;const o=[t];let a;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!Tr(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;o.push(r),r=a.fill}return!1}function aK(n,t,e){const i=function dK(n){const t=n.options,e=t.fill;let i=an(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Dn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Tr(r)&&Math.floor(r)===r?function lK(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function pK(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:a,last:u,point:h}=gK(o,t,"x");if(!(!h||a&&u))if(a)i.unshift(h);else if(n.push(h),!u)break}n.push(...i)}function gK(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,a=n.points;let u=!1,h=!1;for(let p=0;p<o.length;p++){const m=o[p],v=a[m.start][e],A=a[m.end][e];if(Dh(r,v,A)){u=r===v,h=r===A;break}}return{first:u,last:h,point:i}}class jB{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:a}=this;return t.arc(r,o,a,(e=e||{start:0,end:vi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function Bk(n,t,e){const i=function mK(n){const{chart:t,fill:e,line:i}=n;if(Tr(e))return function _K(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function hK(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,a=i.points,u=function fK(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);u.push(qB({x:null,y:t.bottom},i));for(let h=0;h<o.length;h++){const p=o[h];for(let m=p.start;m<=p.end;m++)pK(r,a[m],u)}return new mS({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function yK(n){return(n.scale||{}).getPointPositionForValue?function bK(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,a=function uK(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:Dn(n)?n.value:t.getBaseValue(),i}(e,t,o),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,o);return new jB({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)u.push(t.getPointPositionForValue(h,a));return u}(n):function vK(n){const{scale:t={},fill:e}=n,i=function cK(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:Dn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Tr(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof jB?r:qB(r,i)}(t),{line:r,scale:o,axis:a}=t,u=r.options,h=u.fill,p=u.backgroundColor,{above:m=p,below:v=p}=h||{};i&&r.points.length&&(nS(n,e),function wK(n,t){const{line:e,target:i,above:r,below:o,area:a,scale:u}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&o!==r&&(zB(n,i,a.top),GB(n,{line:e,target:i,color:r,scale:u,property:h}),n.restore(),n.save(),zB(n,i,a.bottom)),GB(n,{line:e,target:i,color:o,scale:u,property:h}),n.restore()}(n,{line:r,target:i,above:m,below:v,area:e,scale:o,axis:a}),iS(n))}function zB(n,t,e){const{segments:i,points:r}=t;let o=!0,a=!1;n.beginPath();for(const u of i){const{start:h,end:p}=u,m=r[h],v=r[Uk(h,p,r)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),a=!!t.pathSegment(n,u,{move:a}),a?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function GB(n,t){const{line:e,target:i,property:r,color:o,scale:a}=t,u=function rK(n,t,e){const i=n.segments,r=n.points,o=t.points,a=[];for(const u of i){let{start:h,end:p}=u;p=Uk(h,p,r);const m=Lk(e,r[h],r[p],u.loop);if(!t.segments){a.push({source:u,target:m,start:r[h],end:r[p]});continue}const v=zU(t,m);for(const A of v){const I=Lk(e,o[A.start],o[A.end],A.loop),M=jU(u,r,I);for(const R of M)a.push({source:R,target:A,start:{[e]:ZB(m,I,"start",Math.max)},end:{[e]:ZB(m,I,"end",Math.min)}})}}return a}(e,i,r);for(const{source:h,target:p,start:m,end:v}of u){const{style:{backgroundColor:A=o}={}}=h,I=!0!==i;n.save(),n.fillStyle=A,CK(n,a,I&&Lk(r,m,v)),n.beginPath();const M=!!e.pathSegment(n,h);let R;if(I){M?n.closePath():$B(n,i,v,r);const L=!!i.pathSegment(n,p,{move:M,reverse:!0});R=M&&L,R||$B(n,i,m,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function CK(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:a,end:u}=e||{};"x"===o&&(n.beginPath(),n.rect(a,i,u-a,r-i),n.clip())}function $B(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var EK={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,a,u,h;for(a=0;a<i;++a)o=n.getDatasetMeta(a),u=o.dataset,h=null,u&&u.options&&u instanceof mS&&(h={visible:n.isDatasetVisible(a),index:a,fill:aK(u,a,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=oK(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let a=r.length-1;a>=0;--a){const u=r[a].$filler;!u||(u.line.updateControlPoints(o,u.axis),i&&Bk(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;o&&Bk(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==e.drawTime||Bk(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const WB=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class YB extends Mc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ii(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Xr(i.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=WB(i,o);let p,m;e.font=r.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(a,o,u,h)+10):(m=this.maxHeight,p=this._fitCols(a,o,u,h)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:a,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],m=r+u;let v=t;o.textAlign="left",o.textBaseline="middle";let A=-1,I=-m;return this.legendItems.forEach((M,R)=>{const L=i+e/2+o.measureText(M.text).width;(0===R||p[p.length-1]+L+2*u>a)&&(v+=m,p[p.length-(R>0?0:1)]=0,I+=m,A++),h[R]={left:0,top:I,row:A,width:L,height:r},p[p.length-1]+=L+u}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:a,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],m=a-t;let v=u,A=0,I=0,M=0,R=0;return this.legendItems.forEach((L,q)=>{const X=i+e/2+o.measureText(L.text).width;q>0&&I+r+2*u>m&&(v+=A+u,p.push({width:A,height:I}),M+=A+u,R++,A=I=0),h[q]={left:M,top:I,col:R,width:X,height:r},A=Math.max(A,X),I+=r+u}),v+=A,p.push({width:A,height:I}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,a=c0(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=to(i,this.left+r,this.right-this.lineWidths[u]);for(const p of e)u!==p.row&&(u=p.row,h=to(i,this.left+r,this.right-this.lineWidths[u])),p.top+=this.top+t+r,p.left=a.leftForLtr(a.x(h),p.width),h+=p.width+r}else{let u=0,h=to(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const p of e)p.col!==u&&(u=p.col,h=to(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+r,p.left=a.leftForLtr(a.x(p.left),p.width),h+=p.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;nS(t,this),this._draw(),iS(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:a}=t,u=Mn.color,h=c0(t.rtl,this.left,this.width),p=Xr(a.font),{color:m,padding:v}=a,A=p.size,I=A/2;let M;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:R,boxHeight:L,itemHeight:q}=WB(a,A),ne=this.isHorizontal(),de=this._computeTitleHeight();M=ne?{x:to(o,this.left+v,this.right-i[0]),y:this.top+v+de,line:0}:{x:this.left+v,y:to(o,this.top+de+v,this.bottom-e[0].height),line:0},VU(this.ctx,t.textDirection);const ke=q+v;this.legendItems.forEach((ze,ct)=>{r.strokeStyle=ze.fontColor||m,r.fillStyle=ze.fontColor||m;const bt=r.measureText(ze.text).width,_n=h.textAlign(ze.textAlign||(ze.textAlign=a.textAlign)),En=R+I+bt;let un=M.x,di=M.y;h.setWidth(this.width),ne?ct>0&&un+En+v>this.right&&(di=M.y+=ke,M.line++,un=M.x=to(o,this.left+v,this.right-i[M.line])):ct>0&&di+ke>this.bottom&&(un=M.x=un+e[M.line].width+v,M.line++,di=M.y=to(o,this.top+de+v,this.bottom-e[M.line].height)),function(ze,ct,bt){if(isNaN(R)||R<=0||isNaN(L)||L<0)return;r.save();const _n=an(bt.lineWidth,1);if(r.fillStyle=an(bt.fillStyle,u),r.lineCap=an(bt.lineCap,"butt"),r.lineDashOffset=an(bt.lineDashOffset,0),r.lineJoin=an(bt.lineJoin,"miter"),r.lineWidth=_n,r.strokeStyle=an(bt.strokeStyle,u),r.setLineDash(an(bt.lineDash,[])),a.usePointStyle){const En={radius:R*Math.SQRT2/2,pointStyle:bt.pointStyle,rotation:bt.rotation,borderWidth:_n},un=h.xPlus(ze,R/2);tS(r,En,un,ct+I)}else{const En=ct+Math.max((A-L)/2,0),un=h.leftForLtr(ze,R),di=e_(bt.borderRadius);r.beginPath(),Object.values(di).some(ps=>0!==ps)?AE(r,{x:un,y:En,w:R,h:L,radius:di}):r.rect(un,En,R,L),r.fill(),0!==_n&&r.stroke()}r.restore()}(h.x(un),di,ze),un=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(_n,un+R+I,ne?un+En:this.right,t.rtl),function(ze,ct,bt){Xm(r,bt.text,ze,ct+q/2,p,{strikethrough:bt.hidden,textAlign:h.textAlign(bt.textAlign)})}(h.x(un),di,ze),ne?M.x+=En+v:M.y+=ke}),HU(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Xr(e.font),r=no(e.padding);if(!e.display)return;const o=c0(t.rtl,this.left,this.width),a=this.ctx,u=e.position,p=r.top+i.size/2;let m,v=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),m=this.top+p,v=to(t.align,v,this.right-A);else{const M=this.columnSizes.reduce((R,L)=>Math.max(R,L.height),0);m=p+to(t.align,this.top,this.bottom-M-t.labels.padding-this._computeTitleHeight())}const I=to(u,v,v+A);a.textAlign=o.textAlign(ok(u)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Xm(a,e.text,I,m,i)}_computeTitleHeight(){const t=this.options.title,e=Xr(t.font),i=no(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Dh(t,this.left,this.right)&&Dh(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Dh(t,r.left,r.left+r.width)&&Dh(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function TK(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!o&&Ii(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Ii(e.onHover,[t,i,this],this)}else i&&Ii(e.onClick,[t,i,this],this)}}var xK={id:"legend",_element:YB,start(n,t,e){const i=n.legend=new YB({ctx:n.ctx,options:e,chart:n});io.configure(n,i,e),io.addBox(n,i)},stop(n){io.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;io.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(e?0:void 0),h=no(u.borderWidth);return{text:t[a.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Vk extends Mc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=xi(i.text)?i.text.length:1;this._padding=no(i.padding);const o=r*Xr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:a}=this,u=a.align;let p,m,v,h=0;return this.isHorizontal()?(m=to(u,i,o),v=e+t,p=o-i):("left"===a.position?(m=i+t,v=to(u,r,e),h=-.5*Qi):(m=o-t,v=to(u,e,r),h=.5*Qi),p=r-e),{titleX:m,titleY:v,maxWidth:p,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Xr(e.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:h,rotation:p}=this._drawArgs(o);Xm(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:p,textAlign:ok(e.align),textBaseline:"middle",translation:[a,u]})}}var SK={id:"title",_element:Vk,start(n,t,e){!function IK(n,t){const e=new Vk({ctx:n.ctx,options:t,chart:n});io.configure(n,e,t),io.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){io.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;io.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yS=new WeakMap;var DK={id:"subtitle",start(n,t,e){const i=new Vk({ctx:n.ctx,options:e,chart:n});io.configure(n,i,e),io.addBox(n,i),yS.set(n,i)},stop(n){io.removeBox(n,yS.get(n)),yS.delete(n)},beforeUpdate(n,t,e){const i=yS.get(n);io.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const OE={average(n){if(!n.length)return!1;let t,e,i=0,r=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const u=a.tooltipPosition();i+=u.x,r+=u.y,++o}}return{x:i/o,y:r/o}},nearest(n,t){if(!n.length)return!1;let o,a,u,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(o=0,a=n.length;o<a;++o){const h=n[o].element;if(h&&h.hasValue()){const m=ck(t,h.getCenterPoint());m<r&&(r=m,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function td(n,t){return t&&(xi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Oh(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function MK(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:a,value:u}=o.getLabelAndValue(r);return{chart:n,label:a,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function KB(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:a,boxHeight:u}=t,h=Xr(t.bodyFont),p=Xr(t.titleFont),m=Xr(t.footerFont),v=o.length,A=r.length,I=i.length,M=no(t.padding);let R=M.height,L=0,q=i.reduce((ne,de)=>ne+de.before.length+de.lines.length+de.after.length,0);q+=n.beforeBody.length+n.afterBody.length,v&&(R+=v*p.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),q&&(R+=I*(t.displayColors?Math.max(u,h.lineHeight):h.lineHeight)+(q-I)*h.lineHeight+(q-1)*t.bodySpacing),A&&(R+=t.footerMarginTop+A*m.lineHeight+(A-1)*t.footerSpacing);let X=0;const he=function(ne){L=Math.max(L,e.measureText(ne).width+X)};return e.save(),e.font=p.string,ri(n.title,he),e.font=h.string,ri(n.beforeBody.concat(n.afterBody),he),X=t.displayColors?a+2+t.boxPadding:0,ri(i,ne=>{ri(ne.before,he),ri(ne.lines,he),ri(ne.after,he)}),X=0,e.font=m.string,ri(n.footer,he),e.restore(),L+=M.width,{width:L,height:R}}function NK(n,t,e,i){const{x:r,width:o}=e,{width:a,chartArea:{left:u,right:h}}=n;let p="center";return"center"===i?p=r<=(u+h)/2?"left":"right":r<=o/2?p="left":r>=a-o/2&&(p="right"),function RK(n,t,e,i){const{x:r,width:o}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+o+a>t.width||"right"===n&&r-o-a<0)return!0}(p,n,t,e)&&(p="center"),p}function QB(n,t,e){const i=e.yAlign||t.yAlign||function PK(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||NK(n,t,e,i),yAlign:i}}function JB(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:a}=n,{xAlign:u,yAlign:h}=e,p=r+o,{topLeft:m,topRight:v,bottomLeft:A,bottomRight:I}=e_(a);let M=function kK(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,u);const R=function OK(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,h,p);return"center"===h?"left"===u?M+=p:"right"===u&&(M-=p):"left"===u?M-=Math.max(m,A)+r:"right"===u&&(M+=Math.max(v,I)+r),{x:ds(M,0,i.width-t.width),y:ds(R,0,i.height-t.height)}}function vS(n,t,e){const i=no(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function XB(n){return td([],Oh(n))}function e4(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let t4=(()=>{class n extends Mc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,a=new YU(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function FK(n,t,e){return Np(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=r.beforeTitle.apply(this,[e]),a=r.title.apply(this,[e]),u=r.afterTitle.apply(this,[e]);let h=[];return h=td(h,Oh(o)),h=td(h,Oh(a)),h=td(h,Oh(u)),h}getBeforeBody(e,i){return XB(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:r}=i,o=[];return ri(e,a=>{const u={before:[],lines:[],after:[]},h=e4(r,a);td(u.before,Oh(h.beforeLabel.call(this,a))),td(u.lines,h.label.call(this,a)),td(u.after,Oh(h.afterLabel.call(this,a))),o.push(u)}),o}getAfterBody(e,i){return XB(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:r}=i,o=r.beforeFooter.apply(this,[e]),a=r.footer.apply(this,[e]),u=r.afterFooter.apply(this,[e]);let h=[];return h=td(h,Oh(o)),h=td(h,Oh(a)),h=td(h,Oh(u)),h}_createItems(e){const i=this._active,r=this.chart.data,o=[],a=[],u=[];let p,m,h=[];for(p=0,m=i.length;p<m;++p)h.push(MK(this.chart,i[p]));return e.filter&&(h=h.filter((v,A,I)=>e.filter(v,A,I,r))),e.itemSort&&(h=h.sort((v,A)=>e.itemSort(v,A,r))),ri(h,v=>{const A=e4(e.callbacks,v);o.push(A.labelColor.call(this,v)),a.push(A.labelPointStyle.call(this,v)),u.push(A.labelTextColor.call(this,v))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=u,this.dataPoints=h,h}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let a,u=[];if(o.length){const h=OE[r.position].call(this,o,this._eventPosition);u=this._createItems(r),this.title=this.getTitle(u,r),this.beforeBody=this.getBeforeBody(u,r),this.body=this.getBody(u,r),this.afterBody=this.getAfterBody(u,r),this.footer=this.getFooter(u,r);const p=this._size=KB(this,r),m=Object.assign({},h,p),v=QB(this.chart,r,m),A=JB(r,m,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,a={opacity:1,x:A.x,y:A.y,width:p.width,height:p.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=u,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const a=this.getCaretPosition(e,r,o);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:a}=this,{caretSize:u,cornerRadius:h}=r,{topLeft:p,topRight:m,bottomLeft:v,bottomRight:A}=e_(h),{x:I,y:M}=e,{width:R,height:L}=i;let q,X,he,ne,de,ke;return"center"===a?(de=M+L/2,"left"===o?(q=I,X=q-u,ne=de+u,ke=de-u):(q=I+R,X=q+u,ne=de-u,ke=de+u),he=q):(X="left"===o?I+Math.max(p,v)+u:"right"===o?I+R-Math.max(m,A)-u:this.caretX,"top"===a?(ne=M,de=ne-u,q=X-u,he=X+u):(ne=M+L,de=ne+u,q=X+u,he=X-u),ke=ne),{x1:q,x2:X,x3:he,y1:ne,y2:de,y3:ke}}drawTitle(e,i,r){const o=this.title,a=o.length;let u,h,p;if(a){const m=c0(r.rtl,this.x,this.width);for(e.x=vS(this,r.titleAlign,r),i.textAlign=m.textAlign(r.titleAlign),i.textBaseline="middle",u=Xr(r.titleFont),h=r.titleSpacing,i.fillStyle=r.titleColor,i.font=u.string,p=0;p<a;++p)i.fillText(o[p],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+h,p+1===a&&(e.y+=r.titleMarginBottom-h)}}_drawColorBox(e,i,r,o,a){const u=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:p,boxWidth:m,boxPadding:v}=a,A=Xr(a.bodyFont),I=vS(this,"left",a),M=o.x(I),L=i.y+(p<A.lineHeight?(A.lineHeight-p)/2:0);if(a.usePointStyle){const q={radius:Math.min(m,p)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},X=o.leftForLtr(M,m)+m/2,he=L+p/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,tS(e,q,X,he),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,tS(e,q,X,he)}else{e.lineWidth=u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const q=o.leftForLtr(M,m-v),X=o.leftForLtr(o.xPlus(M,1),m-v-2),he=e_(u.borderRadius);Object.values(he).some(ne=>0!==ne)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,AE(e,{x:q,y:L,w:m,h:p,radius:he}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),AE(e,{x:X,y:L+1,w:m-2,h:p-2,radius:he}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(q,L,m,p),e.strokeRect(q,L,m,p),e.fillStyle=u.backgroundColor,e.fillRect(X,L+1,m-2,p-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:a,bodyAlign:u,displayColors:h,boxHeight:p,boxWidth:m,boxPadding:v}=r,A=Xr(r.bodyFont);let I=A.lineHeight,M=0;const R=c0(r.rtl,this.x,this.width),L=function(bt){i.fillText(bt,R.x(e.x+M),e.y+I/2),e.y+=I+a},q=R.textAlign(u);let X,he,ne,de,ke,ze,ct;for(i.textAlign=u,i.textBaseline="middle",i.font=A.string,e.x=vS(this,q,r),i.fillStyle=r.bodyColor,ri(this.beforeBody,L),M=h&&"right"!==q?"center"===u?m/2+v:m+2+v:0,de=0,ze=o.length;de<ze;++de){for(X=o[de],he=this.labelTextColors[de],i.fillStyle=he,ri(X.before,L),ne=X.lines,h&&ne.length&&(this._drawColorBox(i,e,de,R,r),I=Math.max(A.lineHeight,p)),ke=0,ct=ne.length;ke<ct;++ke)L(ne[ke]),I=A.lineHeight;ri(X.after,L)}M=0,I=A.lineHeight,ri(this.afterBody,L),e.y-=a}drawFooter(e,i,r){const o=this.footer,a=o.length;let u,h;if(a){const p=c0(r.rtl,this.x,this.width);for(e.x=vS(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=p.textAlign(r.footerAlign),i.textBaseline="middle",u=Xr(r.footerFont),i.fillStyle=r.footerColor,i.font=u.string,h=0;h<a;++h)i.fillText(o[h],p.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:a,yAlign:u}=this,{x:h,y:p}=e,{width:m,height:v}=r,{topLeft:A,topRight:I,bottomLeft:M,bottomRight:R}=e_(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(h+A,p),"top"===u&&this.drawCaret(e,i,r,o),i.lineTo(h+m-I,p),i.quadraticCurveTo(h+m,p,h+m,p+I),"center"===u&&"right"===a&&this.drawCaret(e,i,r,o),i.lineTo(h+m,p+v-R),i.quadraticCurveTo(h+m,p+v,h+m-R,p+v),"bottom"===u&&this.drawCaret(e,i,r,o),i.lineTo(h+M,p+v),i.quadraticCurveTo(h,p+v,h,p+v-M),"center"===u&&"left"===a&&this.drawCaret(e,i,r,o),i.lineTo(h,p+A),i.quadraticCurveTo(h,p,h+A,p),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const u=OE[e.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=KB(this,e),p=Object.assign({},u,this._size),m=QB(i,e,p),v=JB(e,p,m,i);(o._to!==v.x||a._to!==v.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const u=no(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,i),VU(e,i.textDirection),a.y+=u.top,this.drawTitle(a,e,i),this.drawBody(a,e,i),this.drawFooter(a,e,i),HU(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:h,index:p})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[p],index:p}}),a=!GI(r,o),u=this._positionChanged(o,i);(a||u)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],u=this._getActiveElements(e,a,i,r),h=this._positionChanged(u,e),p=i||!GI(u,a)||h;return p&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),p}_getActiveElements(e,i,r,o){const a=this.options;if("mouseout"===e.type)return[];if(!o)return i;const u=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&u.reverse(),u}_positionChanged(e,i){const{caretX:r,caretY:o,options:a}=this,u=OE[a.position].call(this,e,i);return!1!==u&&(r!==u.x||o!==u.y)}}return n.positioners=OE,n})();var LK={id:"tooltip",_element:t4,positioners:OE,afterInit(n,t,e){e&&(n.tooltip=new t4({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Sh,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Sh,beforeBody:Sh,beforeLabel:Sh,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Zn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Sh,afterBody:Sh,beforeFooter:Sh,footer:Sh,afterFooter:Sh}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},UK=Object.freeze({__proto__:null,Decimation:iK,Filler:EK,Legend:xK,SubTitle:DK,Title:SK,Tooltip:LK});class bS extends s_{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Zn(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:ds(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function VK(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,an(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function n4(n,t,{horizontal:e,minRotation:i}){const r=Dc(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+n).length)}bS.id="category",bS.defaults={ticks:{callback:bS.prototype.getLabelForValue}};class wS extends s_{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Zn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const a=h=>r=e?r:h,u=h=>o=i?o:h;if(t){const h=ed(r),p=ed(o);h<0&&p<0?u(0):h>0&&p>0&&a(0)}if(r===o){let h=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(h=Math.abs(.05*o)),u(o+h),t||a(r-h)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function ZK(n,t){const e=[],{bounds:r,step:o,min:a,max:u,precision:h,count:p,maxTicks:m,maxDigits:v,includeBounds:A}=n,I=o||1,M=m-1,{min:R,max:L}=t,q=!Zn(a),X=!Zn(u),he=!Zn(p),ne=(L-R)/(v+1);let ke,ze,ct,bt,de=aU((L-R)/M/I)*I;if(de<1e-14&&!q&&!X)return[{value:R},{value:L}];bt=Math.ceil(L/de)-Math.floor(R/de),bt>M&&(de=aU(bt*de/M/I)*I),Zn(h)||(ke=Math.pow(10,h),de=Math.ceil(de*ke)/ke),"ticks"===r?(ze=Math.floor(R/de)*de,ct=Math.ceil(L/de)*de):(ze=R,ct=L),q&&X&&o&&function T$(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((u-a)/o,de/1e3)?(bt=Math.round(Math.min((u-a)/de,m)),de=(u-a)/bt,ze=a,ct=u):he?(ze=q?a:ze,ct=X?u:ct,bt=p-1,de=(ct-ze)/bt):(bt=(ct-ze)/de,bt=_E(bt,Math.round(bt),de/1e3)?Math.round(bt):Math.ceil(bt));const _n=Math.max(cU(de),cU(ze));ke=Math.pow(10,Zn(h)?_n:h),ze=Math.round(ze*ke)/ke,ct=Math.round(ct*ke)/ke;let En=0;for(q&&(A&&ze!==a?(e.push({value:a}),ze<a&&En++,_E(Math.round((ze+En*de)*ke)/ke,a,n4(a,ne,n))&&En++):ze<a&&En++);En<bt;++En)e.push({value:Math.round((ze+En*de)*ke)/ke});return X&&A&&ct!==u?e.length&&_E(e[e.length-1].value,u,n4(u,ne,n))?e[e.length-1].value=u:e.push({value:u}):(!X||ct===u)&&e.push({value:ct}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&lU(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return xE(t,this.chart.options.locale,this.options.ticks.format)}}class Hk extends wS{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Tr(t)?t:0,this.max=Tr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Dc(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function i4(n){return n/Math.pow(10,Math.floor(kl(n)))==1}Hk.id="linear",Hk.defaults={ticks:{callback:uS.formatters.numeric}};class Zk extends s_{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=wS.prototype.parse.apply(this,[t,e]);if(0!==i)return Tr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Tr(t)?Math.max(0,t):null,this.max=Tr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=h=>i=t?i:h,a=h=>r=e?r:h,u=(h,p)=>Math.pow(10,Math.floor(kl(h))+p);i===r&&(i<=0?(o(1),a(10)):(o(u(i,-1)),a(u(r,1)))),i<=0&&o(u(r,-1)),r<=0&&a(u(i,1)),this._zero&&this.min!==this._suggestedMin&&i===u(this.min,0)&&o(u(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function qK(n,t){const e=Math.floor(kl(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let o=Rl(n.min,Math.pow(10,Math.floor(kl(t.min)))),a=Math.floor(kl(o)),u=Math.floor(o/Math.pow(10,a)),h=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:o,major:i4(o)}),++u,10===u&&(u=1,++a,h=a>=0?1:h),o=Math.round(u*Math.pow(10,a)*h)/h}while(a<e||a===e&&u<i);const p=Rl(n.max,o);return r.push({value:p,major:i4(o)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&lU(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":xE(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=kl(t),this._valueRange=kl(this.max)-kl(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(kl(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function qk(n){const t=n.ticks;if(t.display&&n.display){const e=no(t.backdropPadding);return an(t.font&&t.font.size,Mn.font.size)+e.height}return 0}function jK(n,t,e){return e=xi(e)?e:[e],{w:J$(n,t.string,e),h:e.length*t.lineHeight}}function r4(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function GK(n,t,e,i,r){const o=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let u=0,h=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function WK(n){return 0===n||180===n?"center":n<180?"left":"right"}function YK(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function KK(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function s4(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,vi);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=n.getPointPosition(a,t),r.lineTo(o.x,o.y)}}Zk.id="logarithmic",Zk.defaults={ticks:{callback:uS.formatters.logarithmic,major:{enabled:!0}}};class FE extends wS{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=no(qk(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Tr(t)&&!isNaN(t)?t:0,this.max=Tr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qk(this.options))}generateTickLabels(t){wS.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Ii(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function zK(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,a=n.options.pointLabels,u=a.centerPointLabels?Qi/o:0;for(let h=0;h<o;h++){const p=a.setContext(n.getPointLabelContext(h));r[h]=p.padding;const m=n.getPointPosition(h,n.drawingArea+r[h],u),v=Xr(p.font),A=jK(n.ctx,v,n._pointLabels[h]);i[h]=A;const I=Fa(n.getIndexAngle(h)+u),M=Math.round(lk(I));GK(e,t,I,r4(M,m.x,A.w,0,180),r4(M,m.y,A.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function $K(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,a=qk(o)/2,u=n.drawingArea,h=o.pointLabels.centerPointLabels?Qi/r:0;for(let p=0;p<r;p++){const m=n.getPointPosition(p,u+a+e[p],h),v=Math.round(lk(Fa(m.angle+pr))),A=t[p],I=KK(m.y,A.h,v),M=WK(v),R=YK(m.x,A.w,M);i.push({x:m.x,y:I,textAlign:M,left:R,top:I,right:R+A.w,bottom:I+A.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return Fa(t*(vi/(this._pointLabels.length||1))+Dc(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Zn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Zn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function XK(n,t,e){return Np(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-pr+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),s4(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,o=this._pointLabels.length;let a,u,h;if(e.pointLabels.display&&function QK(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=i.setContext(n.getPointLabelContext(r)),a=Xr(o.font),{x:u,y:h,textAlign:p,left:m,top:v,right:A,bottom:I}=n._pointLabelItems[r],{backdropColor:M}=o;if(!Zn(M)){const R=e_(o.borderRadius),L=no(o.backdropPadding);e.fillStyle=M;const q=m-L.left,X=v-L.top,he=A-m+L.width,ne=I-v+L.height;Object.values(R).some(de=>0!==de)?(e.beginPath(),AE(e,{x:q,y:X,w:he,h:ne,radius:R}),e.fill()):e.fillRect(q,X,he,ne)}Xm(e,n._pointLabels[r],u,h+a.lineHeight/2,a,{color:o.color,textAlign:p,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((p,m)=>{0!==m&&(u=this.getDistanceFromCenterForValue(p.value),function JK(n,t,e,i){const r=n.ctx,o=t.circular,{color:a,lineWidth:u}=t;!o&&!i||!a||!u||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=u,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),s4(n,e,o,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(m-1)),u,o))}),i.display){for(t.save(),a=o-1;a>=0;a--){const p=i.setContext(this.getPointLabelContext(a)),{color:m,lineWidth:v}=p;!v||!m||(t.lineWidth=v,t.strokeStyle=m,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),h=this.getPointPosition(a,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,h)=>{if(0===h&&!e.reverse)return;const p=i.setContext(this.getContext(h)),m=Xr(p.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),p.showLabelBackdrop){t.font=m.string,a=t.measureText(u.label).width,t.fillStyle=p.backdropColor;const v=no(p.backdropPadding);t.fillRect(-a/2-v.left,-o-m.size/2-v.top,a+v.width,m.size+v.height)}Xm(t,u.label,0,-o,m,{color:p.color})}),t.restore()}drawTitle(){}}FE.id="radialLinear",FE.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uS.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},FE.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},FE.descriptors={angleLines:{_fallback:"grid"}};const CS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ta=Object.keys(CS);function eQ(n,t){return n-t}function o4(n,t){if(Zn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),Tr(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!mE(o)&&!0!==o?e.startOf(a,r):e.startOf(a,"isoWeek",o)),+a)}function a4(n,t,e,i){const r=ta.length;for(let o=ta.indexOf(n);o<r-1;++o){const a=CS[ta[o]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(u*a.size))<=i)return ta[o]}return ta[r-1]}function l4(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=vk(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function c4(n,t,e){const i=[],r={},o=t.length;let a,u;for(a=0;a<o;++a)u=t[a],r[u]=a,i.push({value:u,major:!1});return 0!==o&&e?function iQ(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),a=t[t.length-1].value;let u,h;for(u=o;u<=a;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}(n,i,r,e):i}let jk=(()=>{class n extends s_{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const r=e.time||(e.time={}),o=this._adapter=new AW._date(e.adapters.date);pE(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:o4(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:u,maxDefined:h}=this.getUserBounds();function p(m){!u&&!isNaN(m.min)&&(o=Math.min(o,m.min)),!h&&!isNaN(m.max)&&(a=Math.max(a,m.max))}(!u||!h)&&(p(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&p(this.getMinMax(!1))),o=Tr(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),a=Tr(a)&&!isNaN(a)?a:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,h=function c9(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(o,a,this.max);return this._unit=i.unit||(r.autoSkip?a4(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function tQ(n,t,e,i,r){for(let o=ta.length-1;o>=ta.indexOf(e);o--){const a=ta[o];if(CS[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return ta[e?ta.indexOf(e):0]}(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function nQ(n){for(let t=ta.indexOf(n)+1,e=ta.length;t<e;++t)if(CS[ta[t]].common)return ta[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&h.reverse(),c4(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let o,a,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),r=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;i=ds(i,0,u),r=ds(r,0,u),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,a=o.time,u=a.unit||a4(a.minUnit,i,r,this._getLabelCapacity(i)),h=an(a.stepSize,1),p="week"===u&&a.isoWeekday,m=mE(p)||!0===p,v={};let I,M,A=i;if(m&&(A=+e.startOf(A,"isoWeek",p)),A=+e.startOf(A,m?"day":u),e.diff(r,i,u)>1e5*h)throw new Error(i+" and "+r+" are too far apart with stepSize of "+h+" "+u);const R="data"===o.ticks.source&&this.getDataTimestamps();for(I=A,M=0;I<r;I=+e.add(I,h,u),M++)l4(v,I,R);return(I===r||"ticks"===o.bounds||1===M)&&l4(v,I,R),Object.keys(v).sort((L,q)=>L-q).map(L=>+L)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,i,r,o){const a=this.options,u=a.time.displayFormats,h=this._unit,p=this._majorUnit,v=p&&u[p],A=r[i],M=this._adapter.format(e,o||(p&&v&&A&&A.major?v:h&&u[h])),R=a.ticks.callback;return R?Ii(R,[M,i,r],this):M}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=Dc(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(o),u=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:r*a+h*u,h:r*u+h*a}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,a=this._tickFormatFunction(e,0,c4(this,[e],this._majorUnit),o),u=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(o4(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return IU(e.sort(eQ))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function ES(n,t,e){let o,a,u,h,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ph(n,"pos",t)),({pos:o,time:u}=n[i]),({pos:a,time:h}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ph(n,"time",t)),({time:o,pos:u}=n[i]),({time:a,pos:h}=n[r]));const p=a-o;return p?u+(h-u)*(t-o)/p:u}class zk extends jk{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ES(e,this.min),this._tableRange=ES(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let a,u,h,p,m;for(a=0,u=t.length;a<u;++a)p=t[a],p>=e&&p<=i&&r.push(p);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,u=r.length;a<u;++a)m=r[a+1],h=r[a-1],p=r[a],Math.round((m+h)/2)!==p&&o.push({time:p,pos:a/(u-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ES(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ES(this._table,i*this._tableRange+this._minPos,!0)}}zk.id="timeseries",zk.defaults=jk.defaults;const u4=[EW,XY,UK,Object.freeze({__proto__:null,CategoryScale:bS,LinearScale:Hk,LogarithmicScale:Zk,RadialLinearScale:FE,TimeScale:jk,TimeSeriesScale:zk})];let sQ=(()=>{class n{constructor(){}ngOnInit(){this.createChart()}createChart(){u0.register(...u4);const r=document.getElementById("my-chart");new u0(r,{type:"bar",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Analytics this year",data:[65,59,40,81,56,55,40,80,81,56,55,100],backgroundColor:["#1F4D8A","#45A0CE","#45A0CE","#1F4D8A","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","#1F4D8A"],borderColor:["#1F4D8A","#45A0CE","#1F4D8A","#1F4D8A","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","#1F4D8A"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-piachart"]],decls:2,vars:0,consts:[[1,"chart-container",2,"width","420px","height","250px"],["id","my-chart"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"canvas",1),s.qZA())}}),n})(),oQ=(()=>{class n{constructor(){}ngOnInit(){this.createChart()}createChart(){u0.register(...u4);const r=document.getElementById("my-chart-two");new u0(r,{type:"pie",data:{labels:["Apple","Lg","Samsung"],datasets:[{label:"most brands selles",data:[300,50,100],backgroundColor:["#A2AAAD","#990033","#1428a0"],hoverOffset:4}]}})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-charttwo"]],decls:2,vars:0,consts:[[1,"chart-container","mx-auto",2,"max-width","320px","height","250px"],["id","my-chart-two"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"canvas",1),s.qZA())}}),n})(),aQ=(()=>{class n{constructor(e,i,r){this.users=e,this._order=i,this.brandService=r,this.usersNumber=0,this.orderNumber=0,this.totalEarned=0,this.brandNumber=0}ngOnInit(){this.getAllUsers(),this.getAllOrders(),this.getBrandLength()}getAllUsers(){this.users.getAllUsers().subscribe(e=>{this.usersNumber=e.length})}getAllOrders(){this._order.getAllOrders().subscribe(e=>{this.orderNumber=e.length;let i=0;e.forEach(r=>{i+=Number(r.payload.doc.data().totalPaid)}),this.totalEarned=i})}getBrandLength(){this.brandService.getAllBrands().subscribe(e=>{this.brandNumber=e.length})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J3),s.Y36(X3),s.Y36(lE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:100,vars:4,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css","integrity","sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=","crossorigin","anonymous"],[1,"container","py-5"],[1,"col-md-12"],[1,"row"],[1,"col-xl-4","col-lg-6"],[1,"card","l-bg-blue-dark"],[1,"card-statistic-3","p-4"],[1,"card-icon","card-icon-large"],[1,"fas","fa-users"],[1,"mb-4"],[1,"card-title","mb-0"],[1,"row","align-items-center","mb-2","d-flex"],[1,"col-8"],[1,"d-flex","align-items-center","mb-0"],[1,"col-4","text-right"],[1,"fa","fa-arrow-up"],["data-height","8",1,"progress","mt-1",2,"height","8px"],["role","progressbar","data-width","25%","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","l-bg-green",2,"width","65%"],[1,"card","l-bg-green-dark"],[1,"fas","fa-ticket-alt"],["role","progressbar","data-width","25%","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","l-bg-orange",2,"width","45%"],[1,"card","l-bg-orange-dark"],[1,"fas","fa-dollar-sign"],["role","progressbar","data-width","25%","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","l-bg-cyan",2,"width","25%"],[1,"container-fluid","px-2"],[1,"container","mb-4","earn"],[1,"row","p-0","mb-4","d-flex","align-items-center","justify-content-center","mx-0"],[1,"col-md-6","text-center","text-white"],[1,"fs-1"],[1,"dollor"],[1,"col-md-6"],["src","./assets/images/sammy-blockchain.png","alt","image",1,"img-fluid","money-img","w-100"],[1,"container","col-12","mb-5"],[1,"row","mb-5"],[1,"col-md-6","py-5"],[1,"text-center"],[1,"col-md-6","py-5","mb-5","ps-4","text-center"],[1,"container","text-center","mt-5"],[1,"fs-6","shadow"],[1,"fa-solid","fa-heart"],[1,"d-flex","justify-content-around","px-sm-5"]],template:function(e,i){1&e&&(s._UZ(0,"link",0),s.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),s._UZ(8,"i",8),s.qZA(),s.TgZ(9,"div",9)(10,"h4",10),s._uU(11,"Orders"),s.qZA(),s.TgZ(12,"h5"),s._uU(13,"we have a lot of Orders"),s.qZA()(),s.TgZ(14,"div",11)(15,"div",12)(16,"h2",13),s._uU(17),s.qZA()(),s.TgZ(18,"div",14)(19,"span"),s._uU(20,"9.23% "),s._UZ(21,"i",15),s.qZA()()(),s.TgZ(22,"div",16),s._UZ(23,"div",17),s.qZA()()()(),s.TgZ(24,"div",4)(25,"div",18)(26,"div",6)(27,"div",7),s._UZ(28,"i",19),s.qZA(),s.TgZ(29,"div",9)(30,"h4",10),s._uU(31,"Users"),s.qZA(),s.TgZ(32,"h5"),s._uU(33,"we have a lot of Users"),s.qZA()(),s.TgZ(34,"div",11)(35,"div",12)(36,"h2",13),s._uU(37),s.qZA()(),s.TgZ(38,"div",14)(39,"span"),s._uU(40,"10% "),s._UZ(41,"i",15),s.qZA()()(),s.TgZ(42,"div",16),s._UZ(43,"div",20),s.qZA()()()(),s.TgZ(44,"div",4)(45,"div",21)(46,"div",6)(47,"div",7),s._UZ(48,"i",22),s.qZA(),s.TgZ(49,"div",9)(50,"h4",10),s._uU(51,"Brands"),s.qZA(),s.TgZ(52,"h5"),s._uU(53,"we have a lot of Brands"),s.qZA()(),s.TgZ(54,"div",11)(55,"div",12)(56,"h2",13),s._uU(57),s.qZA()(),s.TgZ(58,"div",14)(59,"span"),s._uU(60,"2.5% "),s._UZ(61,"i",15),s.qZA()()(),s.TgZ(62,"div",16),s._UZ(63,"div",23),s.qZA()()()()()()(),s.TgZ(64,"div",24)(65,"div",25)(66,"div",26)(67,"div",27)(68,"h2",28),s._uU(69,"Total Earnings"),s.qZA(),s.TgZ(70,"p",29),s._uU(71),s.qZA()(),s.TgZ(72,"div",30),s._UZ(73,"img",31),s.qZA()()()(),s.TgZ(74,"div",32)(75,"div",33)(76,"div",34)(77,"h1",35),s._uU(78,"Analytics this year"),s.qZA(),s._UZ(79,"app-piachart"),s.qZA(),s.TgZ(80,"div",36)(81,"h1",35),s._uU(82,"Most brands sellers"),s.qZA(),s._UZ(83,"app-charttwo"),s.qZA()()(),s.TgZ(84,"div",37)(85,"p",38),s._uU(86,"Made with "),s._UZ(87,"i",39),s._uU(88," By"),s.qZA(),s.TgZ(89,"div",40)(90,"div")(91,"p"),s._uU(92,"Asmaa Abd El-Nasser"),s.qZA(),s.TgZ(93,"p"),s._uU(94,"Omnia Ramadan"),s.qZA()(),s.TgZ(95,"div")(96,"p"),s._uU(97,"George Atef"),s.qZA(),s.TgZ(98,"p"),s._uU(99,"Ahmed Ibrahim"),s.qZA()()()()),2&e&&(s.xp6(17),s.hij(" ",i.orderNumber," "),s.xp6(20),s.hij(" ",i.usersNumber," "),s.xp6(20),s.Oqu(i.brandNumber),s.xp6(14),s.hij("",i.totalEarned.toFixed(2),"$"))},dependencies:[sQ,oQ],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;border:none;position:relative;margin-bottom:30px;box-shadow:0 .46875rem 2.1875rem #5a61691a,0 .9375rem 1.40625rem #5a61691a,0 .25rem .53125rem #5a61691f,0 .125rem .1875rem #5a61691a}.l-bg-cherry[_ngcontent-%COMP%]{background:linear-gradient(to right,#493240,#f09)!important;color:#fff}.l-bg-blue-dark[_ngcontent-%COMP%], .l-bg-green-dark[_ngcontent-%COMP%], .l-bg-orange-dark[_ngcontent-%COMP%]{background:linear-gradient(to right,#4286f4,#001A2C)!important;color:#fff}.card[_ngcontent-%COMP%]   .card-statistic-3[_ngcontent-%COMP%]   .card-icon-large[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-statistic-3[_ngcontent-%COMP%]   .card-icon-large[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-statistic-3[_ngcontent-%COMP%]   .card-icon-large[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-statistic-3[_ngcontent-%COMP%]   .card-icon-large[_ngcontent-%COMP%]   .fal[_ngcontent-%COMP%]{font-size:110px}.card[_ngcontent-%COMP%]   .card-statistic-3[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{text-align:center;line-height:50px;margin-left:15px;color:#000;position:absolute;right:-5px;top:20px;opacity:.1}.l-bg-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#289cf5 0%,#001A2C 100%)!important;color:#fff}.l-bg-orange[_ngcontent-%COMP%]{background:linear-gradient(to right,#289cf5,#001A2C)!important;color:#fff}.l-bg-cyan[_ngcontent-%COMP%]{background:linear-gradient(135deg,#289cf5,#001A2C)!important;color:#fff}.earn[_ngcontent-%COMP%]{background-color:#289cf5;border-radius:16px}.earn[_ngcontent-%COMP%]   .dollor[_ngcontent-%COMP%]{color:gold;font-size:20px;font-weight:700}.earn[_ngcontent-%COMP%]   .money-img[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{color:#316ac1;font-size:35px;margin-bottom:30px}"]}),n})();var d4=B(3673);class LE{constructor(t){return t}}class f4{constructor(){return(0,Wt.vb)("auth")}}const Gk=new s.OlP("angularfire2.auth-instances");function cQ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new LE(i)}}const uQ={provide:f4,deps:[[new s.FiY,Gk]]},dQ={provide:LE,useFactory:function lQ(n,t){const e=(0,Wt.JM)("auth",n,t);return e&&new LE(e)},deps:[[new s.FiY,Gk],jd]};let hQ=(()=>{class n{constructor(){(0,gc.KN)("angularfire",Wt.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dQ,uQ]}),n})();function fQ(n,...t){return{ngModule:hQ,providers:[{provide:Gk,useFactory:cQ(n),multi:!0,deps:[s.R0b,s.zs3,Wt.HU,ny,[new s.FiY,$d],...t]}]}}const pQ=(0,Wt.u3)(d4.n,!0),gQ=(0,Wt.u3)(d4.a6,!0);function mQ(n,t){if(1&n&&(s.TgZ(0,"div",14)(1,"div",15),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.massage)}}let _Q=(()=>{class n{constructor(e,i,r){this.auth=e,this.authLog=i,this.route=r,this.massage=null,this.isAdminLogged=!1}ngOnInit(){}adminLogIN(e){gQ(this.auth,e.email,e.password).then(i=>{this.massage=null,this.authLog.logIn(e.email,e.password,i.user.uid),this.isAdminLogged=this.authLog.getIsAdminLogged,this.route.navigate(["/Home"])}).catch(i=>{this.massage="* Wrong Email or Password!"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(LE),s.Y36($m),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"card","my-3"],[1,"text-center"],["src","./assets/images/xcite-logo-en.png","width","200px","alt","profile",1,"img-fluid","profile-image-pic","img-thumbnail","rounded-circle","py-5","my-4"],[1,"text-center","text-black-50","py-3","fs-4","hello"],[1,"card-body","cardbody-color","p-lg-5",3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],["type","text","id","email","name","email","ngModel","","aria-describedby","email","placeholder","email",1,"form-control"],["type","password","name","password","ngModel","","id","password","placeholder","password","required","","minlength","8",1,"form-control"],["class","py-2",4,"ngIf"],["type","submit",1,"btn","btn-color","px-5","mb-5","w-100"],[1,"py-2"],[1,"alert-danger","px-2","py-3"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s._UZ(5,"img",5),s.qZA(),s.TgZ(6,"div",6),s._uU(7," hello Admins "),s.qZA(),s.TgZ(8,"form",7,8),s.NdJ("ngSubmit",function(){s.CHM(r);const a=s.MAs(9);return s.KtG(i.adminLogIN(a.value))}),s.TgZ(10,"div",9),s._UZ(11,"input",10),s.qZA(),s.TgZ(12,"div",9),s._UZ(13,"input",11),s.qZA(),s.YNc(14,mQ,3,1,"div",12),s.TgZ(15,"div",4)(16,"button",13),s._uU(17," Login "),s.qZA()()()()()()(),s.TgZ(18,"div",4),s._uU(19," Mail for test: Test@test.com "),s._UZ(20,"br"),s._uU(21," password: testtest\n"),s.qZA()}2&e&&(s.xp6(14),s.Q6J("ngIf",i.massage))},dependencies:[xn,t0,Ic,Sc,xp,aE,sk,Ip,sE],styles:[".btn-color[_ngcontent-%COMP%]{background-color:#0e1c36;color:#fff}.profile-image-pic[_ngcontent-%COMP%]{height:200px;width:440px;object-fit:cover}.cardbody-color[_ngcontent-%COMP%]{background-color:#ebf2fa}a[_ngcontent-%COMP%]{text-decoration:none}.hello[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:5px;color:#0e1c36}"]}),n})();function Mo(n){return null!=n&&"false"!=`${n}`}function AS(n){return Array.isArray(n)?n:[n]}function Vr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function h0(n){return n instanceof s.SBq?n.nativeElement:n}var vQ=B(1144);const bQ=["addListener","removeListener"],wQ=["addEventListener","removeEventListener"],CQ=["on","off"];function Fh(n,t,e,i){if((0,po.m)(e)&&(i=e,e=void 0),i)return Fh(n,t,e).pipe(Vo(i));const[r,o]=function TQ(n){return(0,po.m)(n.addEventListener)&&(0,po.m)(n.removeEventListener)}(n)?wQ.map(a=>u=>n[a](t,u,e)):function EQ(n){return(0,po.m)(n.addListener)&&(0,po.m)(n.removeListener)}(n)?bQ.map(p4(n,t)):function AQ(n){return(0,po.m)(n.on)&&(0,po.m)(n.off)}(n)?CQ.map(p4(n,t)):[];if(!r&&(0,vQ.z)(n))return(0,Zt.z)(a=>Fh(a,t,e))((0,Cs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ti.y(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return r(u),()=>o(u)})}function p4(n,t){return e=>i=>n[e](t,i)}var g4=B(4408);const UE={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=UE;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Es.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=UE;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=UE;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var m4=B(7565);const _4=new class IQ extends m4.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class xQ extends g4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=UE.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(UE.cancelAnimationFrame(e),t._scheduled=void 0)}});let $k,SQ=1;const TS={};function y4(n){return n in TS&&(delete TS[n],!0)}const DQ={setImmediate(n){const t=SQ++;return TS[t]=!0,$k||($k=Promise.resolve()),$k.then(()=>y4(t)&&n()),t},clearImmediate(n){y4(n)}},{setImmediate:MQ,clearImmediate:PQ}=DQ,xS={setImmediate(...n){const{delegate:t}=xS;return(t?.setImmediate||MQ)(...n)},clearImmediate(n){const{delegate:t}=xS;return(t?.clearImmediate||PQ)(n)},delegate:void 0},IS=new class NQ extends m4.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class RQ extends g4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=xS.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(xS.clearImmediate(e),t._scheduled=void 0)}});var OQ=B(3532);function v4(n=0,t,e=Wv.P){let i=-1;return null!=t&&((0,OQ.K)(t)?e=t:i=t),new ti.y(r=>{let o=function FQ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Wk(n,t=Wv.z){return function kQ(n){return(0,$n.e)((t,e)=>{let i=!1,r=null,o=null,a=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const p=r;r=null,e.next(p)}a&&e.complete()},h=()=>{o=null,a&&e.complete()};t.subscribe((0,ni.x)(e,p=>{i=!0,r=p,o||(0,Cs.Xf)(n(p)).subscribe(o=(0,ni.x)(e,u,h))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>v4(n,t))}var Yk=B(5032);function bi(n){return(0,$n.e)((t,e)=>{(0,Cs.Xf)(n).subscribe((0,ni.x)(e,()=>e.complete(),Yk.Z)),!e.closed&&t.subscribe(e)})}let Kk;try{Kk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Kk=!1}let BE,DS,o_,Qk,La=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function fd(n){return n===pi}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Kk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SS(n){return function LQ(){if(null==BE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>BE=!0}))}finally{BE=BE||!1}return BE}()?n:!!n.capture}function w4(){if(null==o_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return o_=!1,o_;if("scrollBehavior"in document.documentElement.style)o_=!0;else{const n=Element.prototype.scrollTo;o_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return o_}function VE(){if("object"!=typeof document||!document)return 0;if(null==DS){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),DS=0,0===n.scrollLeft&&(n.scrollLeft=1,DS=0===n.scrollLeft?1:2),n.remove()}return DS}function a_(n){return n.composedPath?n.composedPath()[0]:n.target}function Jk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let Xk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Bt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ti.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Wk(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):yt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ci(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=h0(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Fh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(La),s.LFG(le,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eO=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Bt.x,this._elementScrolled=new ti.y(a=>this.ngZone.runOutsideAngular(()=>Fh(this.elementRef.nativeElement,"scroll").pipe(bi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=VE()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==VE()?e.left=e.right:1==VE()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;w4()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==VE()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==VE()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Xk),s.Y36(s.R0b),s.Y36(cE,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),tO=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Bt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Wk(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(La),s.LFG(s.R0b),s.LFG(le,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[uE,HE,uE,HE]}),n})();function ZE(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function I4(n){return ci((t,e)=>n<=e)}const S4=new Set;let p0,XQ=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tJ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function eJ(n){if(!S4.has(n))try{p0||(p0=document.createElement("style"),p0.setAttribute("type","text/css"),document.head.appendChild(p0)),p0.sheet&&(p0.sheet.insertRule(`@media ${n} {body{ }}`,0),S4.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(La))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tJ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let nJ=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Bt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return D4(AS(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=fo(D4(AS(e)).map(a=>this._registerQuery(a).observable));return o=js(o.pipe((0,Qn.q)(1)),o.pipe(I4(1),KC(0))),o.pipe((0,gt.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:p})=>{u.matches=u.matches||h,u.breakpoints[p]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ti.y(a=>{const u=h=>this._zone.run(()=>a.next(h));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(jr(i),(0,gt.U)(({matches:a})=>({query:e,matches:a})),bi(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XQ),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D4(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class R4 extends class sJ{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Bt.x,this._typeaheadSubscription=Es.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Bt.x,this.change=new Bt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Vn.b)(e=>this._pressedLetters.push(e)),KC(t),ci(()=>this._pressedLetters.length>0),(0,gt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||ZE(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let N4=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function aJ(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function oJ(n){try{return n.frameElement}catch{return null}}(function gJ(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===O4(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=O4(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function fJ(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function pJ(n){return!function cJ(n){return function dJ(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function lJ(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function uJ(n){return function hJ(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||k4(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(La))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function O4(n){if(!k4(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class mJ{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Qn.q)(1)).subscribe(t)}}let _J=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new mJ(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(N4),s.LFG(s.R0b),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function aO(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const yJ=new s.OlP("cdk-input-modality-detector-options"),vJ={ignoreKeys:[18,17,224,91,16]},g0=SS({passive:!0,capture:!0});let bJ=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Oi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=a_(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oO(a)?"keyboard":"mouse"),this._mostRecentTarget=a_(a))},this._onTouchstart=a=>{aO(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=a_(a))},this._options={...vJ,...o},this.modalityDetected=this._modality.pipe(I4(1)),this.modalityChanged=this.modalityDetected.pipe(EI()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,g0),r.addEventListener("mousedown",this._onMousedown,g0),r.addEventListener("touchstart",this._onTouchstart,g0)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,g0),document.removeEventListener("mousedown",this._onMousedown,g0),document.removeEventListener("touchstart",this._onTouchstart,g0))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(La),s.LFG(s.R0b),s.LFG(le),s.LFG(yJ,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CJ=new s.OlP("cdk-focus-monitor-default-options"),MS=SS({passive:!0,capture:!0});let PS=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Bt.x,this._rootNodeFocusAndBlurListener=u=>{const h=a_(u),p="focus"===u.type?this._onFocus:this._onBlur;for(let m=h;m;m=m.parentElement)p.call(this,u,m)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=h0(e);if(!this._platform.isBrowser||1!==r.nodeType)return yt(null);const o=function BQ(n){if(function UQ(){if(null==Qk){const n=typeof document<"u"?document.head:null;Qk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Qk}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new Bt.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=h0(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=h0(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,h])=>this._originChanged(u,i,h)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=a_(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,MS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,MS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(La),s.LFG(bJ),s.LFG(le,8),s.LFG(CJ,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L4="cdk-high-contrast-black-on-white",U4="cdk-high-contrast-white-on-black",lO="cdk-high-contrast-active";let EJ=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(nJ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lO,L4,U4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(lO,L4):2===i&&e.add(lO,U4)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(La),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TJ=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function AJ(){return!0}});let Rs=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Jk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(EJ),s.LFG(TJ,8),s.LFG(le))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[uE,uE]}),n})();function H4(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Mo(t)}}}function Z4(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function qE(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Mo(t)}}}let q4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function jE(n,t,e){n.nativeElement.classList.toggle(t,e)}let z4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Rs,Rs]}),n})();class IJ{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const G4={enterDuration:225,exitDuration:150},cO=SS({passive:!0}),$4=["mousedown","touchstart"],W4=["mouseup","mouseleave","touchend","touchcancel"];class DJ{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=h0(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...G4,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function MJ(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,h=e-r.top,p=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=u-a+"px",m.style.top=h-a+"px",m.style.height=2*a+"px",m.style.width=2*a+"px",null!=i.color&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);const v=window.getComputedStyle(m),I=v.transitionDuration,M="none"===v.transitionProperty||"0s"===I||"0s, 0s"===I,R=new IJ(this,m,i,M);m.style.transform="scale3d(1, 1, 1)",R.state=0,i.persistent||(this._mostRecentTransientRipple=R);let L=null;return!M&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const q=()=>this._finishRippleTransition(R),X=()=>this._destroyRipple(R);m.addEventListener("transitionend",q),m.addEventListener("transitioncancel",X),L={onTransitionEnd:q,onTransitionCancel:X}}),this._activeRipples.set(R,L),(M||!p)&&this._finishRippleTransition(R),R}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...G4,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=h0(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents($4))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(W4),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=oO(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!aO(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,cO)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&($4.forEach(t=>{this._triggerElement.removeEventListener(t,this,cO)}),this._pointerUpEventsRegistered&&W4.forEach(t=>{this._triggerElement.removeEventListener(t,this,cO)}))}}const PJ=new s.OlP("mat-ripple-global-options");let uO=(()=>{class n{constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new DJ(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(La),s.Y36(PJ,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Y4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Rs,Rs]}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Rs]}),n})();class Q4{}const Lh="*";function dO(n,t){return{type:7,name:n,definitions:t,options:{}}}function zE(n,t=null){return{type:4,styles:t,timings:n}}function J4(n,t=null){return{type:2,steps:n,options:t}}function Uh(n){return{type:6,styles:n,offset:null}}function RS(n,t,e){return{type:0,name:n,styles:t,options:e}}function GE(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function X4(n){Promise.resolve(null).then(n)}class $E{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){X4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?X4(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const tV=["*"],kJ=["content"];function OJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function FJ(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const LJ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],UJ=["mat-drawer","mat-drawer-content","*"],BJ={transformDrawer:dO("transform",[RS("open, open-instant",Uh({transform:"none",visibility:"visible"})),RS("void",Uh({"box-shadow":"none",visibility:"hidden"})),GE("void => open-instant",zE("0ms")),GE("void <=> open, open-instant => void",zE("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},VJ=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function HJ(){return!1}}),nV=new s.OlP("MAT_DRAWER_CONTAINER");let NS=(()=>{class n extends eO{constructor(e,i,r,o,a){super(r,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>rV)),s.Y36(s.SBq),s.Y36(Xk),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:eO,useExisting:n}]),s.qOj],ngContentSelectors:tV,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),iV=(()=>{class n{constructor(e,i,r,o,a,u,h,p){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=p,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Bt.x,this._animationEnd=new Bt.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(ci(m=>m),(0,gt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(ci(m=>m.fromState!==m.toState&&0===m.toState.indexOf("open")),Md(void 0)),this._closedStream=this.openedChange.pipe(ci(m=>!m),(0,gt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(ci(m=>m.fromState!==m.toState&&"void"===m.toState),Md(void 0)),this._destroyed=new Bt.x,this.onPositionChanged=new s.vpe,this._modeChanged=new Bt.x,this.openedChange.subscribe(m=>{m?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Fh(this._elementRef.nativeElement,"keydown").pipe(ci(m=>27===m.keyCode&&!this.disableClose&&!ZE(m)),bi(this._destroyed)).subscribe(m=>this._ngZone.run(()=>{this.close(),m.stopPropagation(),m.preventDefault()}))}),this._animationEnd.pipe(EI((m,v)=>m.fromState===v.fromState&&m.toState===v.toState)).subscribe(m=>{const{fromState:v,toState:A}=m;(0===A.indexOf("open")&&"void"===v||"void"===A&&0===v.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Mo(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Mo(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Mo(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe((0,Qn.q)(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(_J),s.Y36(PS),s.Y36(La),s.Y36(s.R0b),s.Y36(N4),s.Y36(le,8),s.Y36(nV,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(kJ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:tV,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[eO],encapsulation:2,data:{animation:[BJ.transformDrawer]},changeDetection:0}),n})(),rV=(()=>{class n{constructor(e,i,r,o,a,u=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=h,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new Bt.x,this._doCheckSubject=new Bt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Bt.x,e&&e.change.pipe(bi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(bi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Mo(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Mo(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(jr(this._allDrawers),bi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(jr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(KC(10),bi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ci(i=>i.fromState!==i.toState),bi(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(bi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(bi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Qn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(bi((0,Go.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cE,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(tO),s.Y36(VJ),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,NS,5),s.Suo(r,iV,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(NS,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:nV,useExisting:n}])],ngContentSelectors:UJ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(LJ),s.YNc(0,OJ,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,FJ,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[xn,NS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),ZJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mr,Rs,HE,HE,Rs]}),n})();class sV{}class oV{}class nd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===o.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qJ{encodeKey(t){return aV(t)}encodeValue(t){return aV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zJ=/%(\d[a-f0-9])/gi,GJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aV(n){return encodeURIComponent(n).replace(zJ,(t,e)=>GJ[e]??t)}function kS(n){return`${n}`}class Fp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qJ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jJ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(kS):[kS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(kS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $J{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function lV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cV(n){return typeof Blob<"u"&&n instanceof Blob}function uV(n){return typeof FormData<"u"&&n instanceof FormData}class WE{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function WJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new nd),this.context||(this.context=new $J),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new Fp,this.urlWithParams=e}serializeBody(){return null===this.body?null:lV(this.body)||cV(this.body)||uV(this.body)||function YJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uV(this.body)?null:cV(this.body)?this.body.type||null:lV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,p=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((v,A)=>v.set(A,t.setHeaders[A]),h)),t.setParams&&(p=Object.keys(t.setParams).reduce((v,A)=>v.set(A,t.setParams[A]),p)),new WE(e,i,o,{params:p,headers:h,context:m,reportProgress:u,responseType:r,withCredentials:a})}}var Hr=(()=>((Hr=Hr||{})[Hr.Sent=0]="Sent",Hr[Hr.UploadProgress=1]="UploadProgress",Hr[Hr.ResponseHeader=2]="ResponseHeader",Hr[Hr.DownloadProgress=3]="DownloadProgress",Hr[Hr.Response=4]="Response",Hr[Hr.User=5]="User",Hr))();class fO{constructor(t,e=200,i="OK"){this.headers=t.headers||new nd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pO extends fO{constructor(t={}){super(t),this.type=Hr.ResponseHeader}clone(t={}){return new pO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class OS extends fO{constructor(t={}){super(t),this.type=Hr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new OS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dV extends fO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function gO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let FS=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof WE)o=e;else{let h,p;h=r.headers instanceof nd?r.headers:new nd(r.headers),r.params&&(p=r.params instanceof Fp?r.params:new Fp({fromObject:r.params})),o=new WE(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=yt(o).pipe(Ca(h=>this.handler.handle(h)));if(e instanceof WE||"events"===r.observe)return a;const u=a.pipe(ci(h=>h instanceof OS));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,gt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,gt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,gt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,gt.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Fp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,gO(r,i))}post(e,i,r={}){return this.request("POST",e,gO(r,i))}put(e,i,r={}){return this.request("PUT",e,gO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class hV{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const fV=new s.OlP("HTTP_INTERCEPTORS");let KJ=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const QJ=/^\)\]\}',?\n/;let pV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ti.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((I,M)=>r.setRequestHeader(I,M.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const I=e.detectContentTypeHeader();null!==I&&r.setRequestHeader("Content-Type",I)}if(e.responseType){const I=e.responseType.toLowerCase();r.responseType="json"!==I?I:"text"}const o=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const I=r.statusText||"OK",M=new nd(r.getAllResponseHeaders()),R=function JJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new pO({headers:M,status:r.status,statusText:I,url:R}),a},h=()=>{let{headers:I,status:M,statusText:R,url:L}=u(),q=null;204!==M&&(q=typeof r.response>"u"?r.responseText:r.response),0===M&&(M=q?200:0);let X=M>=200&&M<300;if("json"===e.responseType&&"string"==typeof q){const he=q;q=q.replace(QJ,"");try{q=""!==q?JSON.parse(q):null}catch(ne){q=he,X&&(X=!1,q={error:ne,text:q})}}X?(i.next(new OS({body:q,headers:I,status:M,statusText:R,url:L||void 0})),i.complete()):i.error(new dV({error:q,headers:I,status:M,statusText:R,url:L||void 0}))},p=I=>{const{url:M}=u(),R=new dV({error:I,status:r.status||0,statusText:r.statusText||"Unknown Error",url:M||void 0});i.error(R)};let m=!1;const v=I=>{m||(i.next(u()),m=!0);let M={type:Hr.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),"text"===e.responseType&&!!r.responseText&&(M.partialText=r.responseText),i.next(M)},A=I=>{let M={type:Hr.UploadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),i.next(M)};return r.addEventListener("load",h),r.addEventListener("error",p),r.addEventListener("timeout",p),r.addEventListener("abort",p),e.reportProgress&&(r.addEventListener("progress",v),null!==o&&r.upload&&r.upload.addEventListener("progress",A)),r.send(o),i.next({type:Hr.Sent}),()=>{r.removeEventListener("error",p),r.removeEventListener("abort",p),r.removeEventListener("load",h),r.removeEventListener("timeout",p),e.reportProgress&&(r.removeEventListener("progress",v),null!==o&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(da))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const mO=new s.OlP("XSRF_COOKIE_NAME"),_O=new s.OlP("XSRF_HEADER_NAME");class gV{}let XJ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(s.Lbi),s.LFG(mO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),yO=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gV),s.LFG(_O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),eX=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(fV,[]);this.chain=i.reduceRight((r,o)=>new hV(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oV),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),tX=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:yO,useClass:KJ}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:mO,useValue:e.cookieName}:[],e.headerName?{provide:_O,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[yO,{provide:fV,useExisting:yO,multi:!0},{provide:gV,useClass:XJ},{provide:mO,useValue:"XSRF-TOKEN"},{provide:_O,useValue:"X-XSRF-TOKEN"}]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[FS,{provide:sV,useClass:eX},pV,{provide:oV,useExisting:pV}],imports:[tX.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const iX=["*"];let LS;function YE(n){return function rX(){if(void 0===LS&&(LS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(LS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return LS}()?.createHTML(n)||n}function mV(n){return Error(`Unable to find icon with the name "${n}"`)}function _V(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function yV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class l_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let US=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new l_(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw yV(r);const u=YE(a);return this._addSvgIconConfig(e,i,new l_("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new l_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw yV(i);const a=YE(o);return this._addSvgIconSetConfig(e,new l_("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw _V(e);const r=this._cachedIconsByUrl.get(i);return r?yt(BS(r)):this._loadSvgIconFromConfig(new l_(e,null)).pipe((0,Vn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,gt.U)(o=>BS(o)))}getNamedSvgIcon(e,i=""){const r=vV(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):qs(mV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?yt(BS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,gt.U)(i=>BS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?yt(r):Z6(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ho(u=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(p)),yt(null)})))).pipe((0,gt.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw mV(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(a,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Vn.b)(i=>e.svgText=i),(0,gt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?yt(null):this._fetchIcon(e).pipe((0,Vn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(YE("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(YE("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:u}=r[o];"id"!==a&&i.setAttribute(a,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function sX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!a)throw _V(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,gt.U)(p=>YE(p)),ol(()=>this._inProgressUrlFetches.delete(a)),(0,sb.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(vV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return aX(o)?new l_(o.url,null,o.options):new l_(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(FS,8),s.LFG(Bo),s.LFG(le,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BS(n){return n.cloneNode(!0)}function vV(n,t){return n+":"+t}function aX(n){return!(!n.url||!n.options)}const lX=Z4(class{constructor(n){this._elementRef=n}}),cX=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),uX=new s.OlP("mat-icon-location",{providedIn:"root",factory:function dX(){const n=(0,s.f3M)(le),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),bV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hX=bV.map(n=>`[${n}]`).join(", "),fX=/^url\(['"]?#(.*?)['"]?\)$/;let VS=(()=>{class n extends lX{constructor(e,i,r,o,a,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Es.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Mo(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(hX),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)bV.forEach(a=>{const u=i[o],h=u.getAttribute(a),p=h?h.match(fX):null;if(p){let m=r.get(u);m||(m=[],r.set(u,m)),m.push({name:a,value:p[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Qn.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(US),s.$8M("aria-hidden"),s.Y36(uX),s.Y36(s.qLn),s.Y36(cX,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:iX,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),pX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Rs,Rs]}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Rs,Rs]}),n})();const EV=["*"],mX=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],_X=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],CX=H4(qE(class{})),EX=qE(class{}),AX=new s.OlP("MatList"),AV=new s.OlP("MatNavList");let TX=(()=>{class n extends CX{constructor(){super(...arguments),this._stateChanges=new Bt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[s._Bn([{provide:AV,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:EV,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),xX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),n})(),IX=(()=>{class n extends EX{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Bt.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(bi(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Mo(e)}ngAfterContentInit(){!function j4(n,t,e="mat"){n.changes.pipe(jr(n)).subscribe(({length:i})=>{jE(t,`${e}-2-line`,!1),jE(t,`${e}-3-line`,!1),jE(t,`${e}-multi-line`,!1),2===i||3===i?jE(t,`${e}-${i}-line`,!0):i>3&&jE(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(AV,8),s.Y36(AX,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,TV,5),s.Suo(r,xV,5),s.Suo(r,q4,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:_X,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(mX),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[uO],encapsulation:2,changeDetection:0}),n})(),NX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[z4,Y4,Rs,K4,Mr,z4,Rs,K4,CV]}),n})(),kX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-side-bar"]],decls:33,vars:0,consts:[[1,"logo","py-1"],["src","./assets/images/xcite-logo-en.png","alt","logo image",1,"img-fliud","ms-2"],["matSubheader","",1,"mt-3"],["mat-list-item","","routerLink","/Home","routerLinkActive","list-item-link"],["mat-list-item","","routerLink","/Profile","routerLinkActive","list-item-link"],["mat-list-item","","routerLink","/Users","routerLinkActive","list-item-link"],["mat-list-item","","routerLink","/Categories","routerLinkActive","list-item-link"],["mat-list-item","","routerLink","/Products","routerLinkActive","list-item-link"],["mat-list-item","","routerLink","/orders","routerLinkActive","list-item-link"],["mat-list-item","","routerLink","/Brands","routerLinkActive","list-item-link"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-nav-list")(1,"div",0),s._UZ(2,"img",1),s.qZA(),s.TgZ(3,"h2",2),s._uU(4,"X-Cite"),s.qZA(),s.TgZ(5,"a",3)(6,"mat-icon"),s._uU(7,"home"),s.qZA(),s._uU(8," Home "),s.qZA(),s.TgZ(9,"a",4)(10,"mat-icon"),s._uU(11,"person"),s.qZA(),s._uU(12," Profile "),s.qZA(),s.TgZ(13,"a",5)(14,"mat-icon"),s._uU(15,"supervised_user_circle"),s.qZA(),s._uU(16," Users "),s.qZA(),s.TgZ(17,"a",6)(18,"mat-icon"),s._uU(19,"Category"),s.qZA(),s._uU(20," Categories "),s.qZA(),s.TgZ(21,"a",7)(22,"mat-icon"),s._uU(23,"shopping_basket"),s.qZA(),s._uU(24," Products "),s.qZA(),s.TgZ(25,"a",8)(26,"mat-icon"),s._uU(27," monetization_on"),s.qZA(),s._uU(28," orders "),s.qZA(),s.TgZ(29,"a",9)(30,"mat-icon"),s._uU(31,"account_balance"),s.qZA(),s._uU(32," Brands "),s.qZA()())},dependencies:[bf,o1,VS,TX,IX,xX],styles:[".mat-nav-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#45a0ce;font-size:22px}.mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.mat-icon[_ngcontent-%COMP%]{vertical-align:center;margin-right:1rem;margin-left:.3rem;color:#45a0ce}.mat-list-item[_ngcontent-%COMP%]{margin-bottom:2px;transition:all .5s}.mat-list-item[_ngcontent-%COMP%]:hover{background-color:#6489c5!important}"]}),n})();const OX=["*",[["mat-toolbar-row"]]],FX=["*","mat-toolbar-row"],LX=Z4(class{constructor(n){this._elementRef=n}});let SV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),UX=(()=>{class n extends LX{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(La),s.Y36(le))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,SV,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:FX,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(OX),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),BX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Rs,Rs]}),n})();function DV(n,t){return t?e=>js(t.pipe((0,Qn.q)(1),function VX(){return(0,$n.e)((n,t)=>{n.subscribe((0,ni.x)(t,Yk.Z))})}()),e.pipe(DV(n))):(0,Zt.z)((e,i)=>n(e,i).pipe((0,Qn.q)(1),Md(e)))}function MV(n,t=Wv.z){const e=v4(n,t);return DV(()=>e)}class vO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class HX extends vO{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class PV extends vO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ZX extends vO{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class jX extends class qX{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof HX?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof PV?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ZX?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const RV=w4();class GX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vr(-this._previousScrollPosition.left),t.style.top=Vr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),RV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RV&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class $X{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NV{enable(){}disable(){}attach(){}}function bO(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function kV(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class WX{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YX=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new NV,this.close=a=>new $X(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new GX(this._viewportRuler,this._document),this.reposition=a=>new WX(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xk),s.LFG(tO),s.LFG(s.R0b),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OV{constructor(t){if(this.scrollStrategy=new NV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class KX{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let FV=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QX=(()=>{class n extends FV{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const u=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JX=(()=>{class n extends FV{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=a_(o)},this._clickListener=o=>{const a=a_(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const m=h[p];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(a)||m.overlayElement.contains(u))break;const v=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(o)):v.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(La),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LV=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Jk()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Jk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(La))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XX{constructor(t,e,i,r,o,a,u,h,p,m=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new Bt.x,this._attachments=new Bt.x,this._detachments=new Bt.x,this._locationChanges=Es.w0.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Bt.x,this._outsidePointerEvents=new Bt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Qn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vr(this._config.width),t.height=Vr(this._config.height),t.minWidth=Vr(this._config.minWidth),t.minHeight=Vr(this._config.minHeight),t.maxWidth=Vr(this._config.maxWidth),t.maxHeight=Vr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=AS(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bi((0,Go.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UV="cdk-overlay-connected-position-bounding-box",eee=/([A-Za-z%]+)$/;class tee{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Bt.x,this._resizeSubscription=Es.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(UV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,r,u),p=this._getOverlayPoint(h,e,u),m=this._getOverlayFit(p,e,i,u);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(m,p,i)?o.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<m.visibleArea)&&(a={overlayFit:m,overlayPoint:p,originPoint:h,position:u,overlayRect:e})}if(o.length){let u=null,h=-1;for(const p of o){const m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>h&&(h=m,u=p)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&c_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=VV(e);let{x:a,y:u}=t,h=this._getOffset(r,"x"),p=this._getOffset(r,"y");h&&(a+=h),p&&(u+=p);let A=0-u,I=u+o.height-i.height,M=this._subtractOverflows(o.width,0-a,a+o.width-i.width),R=this._subtractOverflows(o.height,A,I),L=M*R;return{visibleArea:L,isCompletelyWithinViewport:o.width*o.height===L,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:M==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=BV(this._overlayRef.getConfig().minHeight),u=BV(this._overlayRef.getConfig().minWidth),p=t.fitsInViewportHorizontally||null!=u&&u<=o;return(t.fitsInViewportVertically||null!=a&&a<=r)&&p}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=VV(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),h=Math.max(o.top-i.top-t.y,0),p=Math.max(o.left-i.left-t.x,0);let m=0,v=0;return m=r.width<=o.width?p||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,v=r.height<=o.height?h||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:m,y:v},{x:t.x+m,y:t.y+v}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new KX(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,u,m,v,A;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const I=Math.min(i.bottom-t.y+i.top,t.y),M=this._lastBoundingBoxSize.height;o=2*I,a=t.y-I,o>M&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-M/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,m=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)v=t.x,m=i.right-t.x;else{const I=Math.min(i.right-t.x+i.left,t.x),M=this._lastBoundingBoxSize.width;m=2*I,v=t.x-I,m>M&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-M/2)}return{top:a,left:v,bottom:u,right:A,width:m,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Vr(i.height),r.top=Vr(i.top),r.bottom=Vr(i.bottom),r.width=Vr(i.width),r.left=Vr(i.left),r.right=Vr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Vr(o)),a&&(r.maxWidth=Vr(a))}this._lastBoundingBoxSize=i,c_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){c_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){c_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();c_(i,this._getExactOverlayY(e,t,m)),c_(i,this._getExactOverlayX(e,t,m))}else i.position="static";let u="",h=this._getOffset(e,"x"),p=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),p&&(u+=`translateY(${p}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=Vr(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Vr(a.maxWidth):o&&(i.maxWidth="")),c_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Vr(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Vr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kV(t,i),isOriginOutsideView:bO(t,i),isOverlayClipped:kV(e,i),isOverlayOutsideView:bO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&AS(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function c_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function BV(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(eee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function VV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HV="cdk-global-overlay-wrapper";class nee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(HV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:u}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),m=this._xPosition,v=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let I="",M="",R="";h?R="flex-start":"center"===m?(R="center",A?M=v:I=v):A?"left"===m||"end"===m?(R="flex-end",I=v):("right"===m||"start"===m)&&(R="flex-start",M=v):"left"===m||"start"===m?(R="flex-start",I=v):("right"===m||"end"===m)&&(R="flex-end",M=v),t.position=this._cssPosition,t.marginLeft=h?"0":I,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":M,e.justifyContent=R,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(HV),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let iee=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new nee}flexibleConnectedTo(e){return new tee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tO),s.LFG(le),s.LFG(La),s.LFG(LV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ree=0,HS=(()=>{class n{constructor(e,i,r,o,a,u,h,p,m,v,A,I){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=p,this._directionality=m,this._location=v,this._outsideClickDispatcher=A,this._animationsModuleType=I}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new OV(e);return a.direction=a.direction||this._directionality.value,new XX(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ree++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new jX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YX),s.LFG(LV),s.LFG(s._Vd),s.LFG(iee),s.LFG(QX),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(le),s.LFG(cE),s.LFG(Ve),s.LFG(JX),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const aee={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[HS],useFactory:function oee(n){return()=>n.scrollStrategies.reposition()}};let lee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[HS,aee],imports:[uE,zX,C4,C4]}),n})();const cee=["mat-menu-item",""];function uee(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const ZV=["*"];function dee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const ZS={transformMenu:dO("transformMenu",[RS("void",Uh({opacity:0,transform:"scale(0.8)"})),GE("void => enter",zE("120ms cubic-bezier(0, 0, 0.2, 1)",Uh({opacity:1,transform:"scale(1)"}))),GE("* => void",zE("100ms 25ms linear",Uh({opacity:0})))]),fadeInItems:dO("fadeInItems",[RS("showing",Uh({opacity:1})),GE("void => *",[Uh({opacity:0}),zE("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},hee=new s.OlP("MatMenuContent"),wO=new s.OlP("MAT_MENU_PANEL"),fee=qE(H4(class{}));let qS=(()=>{class n extends fee{constructor(e,i,r,o,a){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new Bt.x,this._focused=new Bt.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(le),s.Y36(PS),s.Y36(wO,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:cee,ngContentSelectors:ZV,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,uee,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[xn,uO],encapsulation:2,changeDetection:0}),n})();const qV=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function pee(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let gee=0,KE=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=Es.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Bt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+gee++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Mo(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Mo(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new R4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(jr(this._directDescendantItems),Wn(e=>(0,Go.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(jr(this._directDescendantItems),Wn(i=>(0,Go.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:ZE(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe((0,Qn.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(jr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(qV),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,hee,5),s.Suo(r,qS,5),s.Suo(r,qS,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),mee=(()=>{class n extends KE{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(qV),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:wO,useExisting:n}]),s.qOj],ngContentSelectors:ZV,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,dee,3,6,"ng-template"))},dependencies:[ld],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ZS.transformMenu,ZS.fadeInItems]},changeDetection:0}),n})();const jV=new s.OlP("mat-menu-scroll-strategy"),yee={provide:jV,deps:[HS],useFactory:function _ee(n){return()=>n.scrollStrategies.reposition()}},zV=SS({passive:!0});let vee=(()=>{class n{constructor(e,i,r,o,a,u,h,p,m){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=h,this._focusMonitor=p,this._ngZone=m,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Es.w0.EMPTY,this._hoverSubscription=Es.w0.EMPTY,this._menuCloseSubscription=Es.w0.EMPTY,this._handleTouchStart=v=>{aO(v)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof KE?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,zV),u&&(u._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,zV),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof KE&&(e._startAnimation(),e._directDescendantItems.changes.pipe(bi(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof KE?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ci(r=>"void"===r.toState),(0,Qn.q)(1),bi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new OV({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,a)):e.setPositionClasses(o,a)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[a,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[h,p]=[a,u],[m,v]=[r,o],A=0;if(this.triggersSubmenu()){if(v=r="before"===e.xPosition?"start":"end",o=m="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const I=this._parentMaterialMenu.items.first;this._parentInnerPadding=I?I._getHostElement().offsetTop:0}A="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(h="top"===a?"bottom":"top",p="top"===u?"bottom":"top");i.withPositions([{originX:r,originY:h,overlayX:m,overlayY:a,offsetY:A},{originX:o,originY:h,overlayX:v,overlayY:a,offsetY:A},{originX:r,originY:p,overlayX:m,overlayY:u,offsetY:-A},{originX:o,originY:p,overlayX:v,overlayY:u,offsetY:-A}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:yt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ci(a=>a!==this._menuItemInstance),ci(()=>this._menuOpen)):yt();return(0,Go.T)(e,r,o,i)}_handleMousedown(e){oO(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ci(e=>e===this._menuItemInstance&&!e.disabled),MV(0,IS)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof KE&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Qn.q)(1),MV(0,IS),bi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new PV(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(HS),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(jV),s.Y36(wO,8),s.Y36(qS,10),s.Y36(cE,8),s.Y36(PS),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),bee=(()=>{class n extends vee{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),wee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[yee],imports:[Mr,Rs,Y4,lee,HE,Rs]}),n})(),Cee=(()=>{class n{constructor(e,i,r){this.authAdmin=e,this.router=i,this.afAuth=r,this.currentAdmin={},this.openAndClose=new s.vpe}ngOnInit(){this.afAuth.onAuthStateChanged(e=>{console.log(e),this.authAdmin.getCurrentAdmin(e?.uid).subscribe(i=>{console.log(i),this.currentAdmin={...i,id:e?.uid}})})}change(){}toggleSideBar(){this.openAndClose.emit()}logOut(){this.authAdmin.logOut(),this.router.navigate(["/Login"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($m),s.Y36(Hn),s.Y36(vl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],outputs:{openAndClose:"openAndClose"},decls:22,vars:2,consts:[[1,"nav-bar","bg"],["mat-icon-button","",3,"click"],[1,"menu-icon"],[1,"name-logo"],[1,"row","d-flex","align-items-center","justify-content-between"],["mat-button","",1,"user","d-flex","align-items-center",3,"matMenuTriggerFor"],[1,"information-admin"],[1,"mColor","fs-6","p-0","m-0"],[1,"icon","mColor"],[1,"mt-3","ms-3"],["menu","matMenu"],["mat-menu-item","",1,"px-4",3,"click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row",0)(2,"button",1),s.NdJ("click",function(){return i.toggleSideBar()}),s.TgZ(3,"mat-icon",2),s._uU(4,"menu"),s.qZA()(),s.TgZ(5,"h1",3),s._uU(6,"X-cite"),s.qZA(),s.TgZ(7,"div",4)(8,"ul")(9,"li")(10,"button",5)(11,"div",6)(12,"b",7),s._uU(13),s.qZA(),s.TgZ(14,"mat-icon",8),s._uU(15,"arrow_downward"),s.qZA()()(),s.TgZ(16,"mat-menu",9,10)(18,"button",11),s.NdJ("click",function(){return i.logOut()}),s.TgZ(19,"mat-icon"),s._uU(20,"exit_to_app"),s.qZA(),s._uU(21," Logout "),s.qZA()()()()()()()),2&e){const r=s.MAs(17);s.xp6(10),s.Q6J("matMenuTriggerFor",r),s.xp6(3),s.Oqu(i.currentAdmin.name)}},dependencies:[VS,UX,SV,mee,qS,bee],styles:["mat-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100}.menu-icon[_ngcontent-%COMP%]{color:#4a5f6e;width:30px}.nav-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.information-admin[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:flex-end;justify-content:center;gap:10px}.information-admin[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#113650;font-size:22px;font-weight:700;text-transform:capitalize;margin-top:7px}.information-admin[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:19px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.name-logo[_ngcontent-%COMP%]{font-size:40px;text-transform:uppercase;font-weight:700;color:#fec526;color:linear-gradient(270deg,rgb(255,255,255) 26%,rgb(254,197,38) 100%)}button[_ngcontent-%COMP%]{border:0;outline:none;background-color:transparent}.user[_ngcontent-%COMP%]{font-size:17px}.user-image[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px}.user-image-icon[_ngcontent-%COMP%]{height:18px;font-size:16px}.bg[_ngcontent-%COMP%]{background:rgb(0,26,44);background:linear-gradient(270deg,rgb(0,26,44) 24%,rgb(254,197,38) 100%)}.mColor[_ngcontent-%COMP%]{color:#fec526!important}"]}),n})(),Eee=(()=>{class n{constructor(){this.sideBarOpen=!0}ngOnInit(){}sideBarToggler(){this.sideBarOpen=!this.sideBarOpen}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main-layout"]],decls:6,vars:1,consts:[["mode","side",3,"opened"],[3,"openAndClose"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-drawer-container")(1,"mat-drawer",0),s._UZ(2,"app-side-bar"),s.qZA(),s.TgZ(3,"mat-drawer-content")(4,"app-header",1),s.NdJ("openAndClose",function(){return i.sideBarToggler()}),s.qZA(),s._UZ(5,"router-outlet"),s.qZA()()),2&e&&(s.xp6(1),s.Q6J("opened",i.sideBarOpen))},dependencies:[jo,iV,rV,NS,kX,Cee],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer[_ngcontent-%COMP%]{width:19%;background-color:#001a2c}mat-drawer-container[_ngcontent-%COMP%]{height:100%}"]}),n})(),Aee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-not-found"]],decls:22,vars:0,consts:[["id","svgWrap_2","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 700 250"],["id","id3_2","d","M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z"],["id","id2_2","d","M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z"],["id","id1_2","d","M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z"],["id","svgWrap_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 700 250"],["id","id3_1","d","M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z"],["id","id2_1","d","M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z"],["id","id1_1","d","M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z"],["id","glow"],["result","coloredBlur","stddeviation","4",1,"blur"],["in","coloredBlur"],["in","SourceGraphic"]],template:function(e,i){1&e&&(s._UZ(0,"div"),s.O4$(),s.TgZ(1,"svg",0)(2,"g"),s._UZ(3,"path",1)(4,"path",2)(5,"path",3),s.qZA()(),s.TgZ(6,"svg",4)(7,"g"),s._UZ(8,"path",5)(9,"path",6)(10,"path",7),s.qZA()(),s.TgZ(11,"svg")(12,"defs")(13,"filter",8),s._UZ(14,"fegaussianblur",9),s.TgZ(15,"femerge"),s._UZ(16,"femergenode",10)(17,"femergenode",11),s.qZA()()()(),s.kcU(),s.TgZ(18,"h1"),s._uU(19,"404"),s.qZA(),s.TgZ(20,"h2"),s._uU(21,"Page Not Found"),s.qZA())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;overflow:hidden}div[_ngcontent-%COMP%]{position:absolute;top:0%;left:0%;height:100%;width:100%;margin:0;background:radial-gradient(circle,#240015 0%,#12000b 100%);overflow:hidden}.wrap[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}h1[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;margin-top:150px;font-size:120px;text-transform:uppercase;transform:translate(-50%,-50%);display:block;color:#12000a;font-weight:300;font-family:Audiowide;text-shadow:0px 0px 4px #12000a;animation:fadeInText 3s ease-in 3.5s forwards,flicker4 5s linear 7.5s infinite,hueRotate 6s ease-in-out 3s infinite}h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:150px;font-size:32px;text-transform:uppercase;transform:translate(-50%,-50%);display:block;color:#12000a;font-weight:300;font-family:Audiowide;text-shadow:0px 0px 4px #12000a;animation:fadeInText 3s ease-in 3.5s forwards,flicker4 5s linear 7.5s infinite,hueRotate 6s ease-in-out 3s infinite}#svgWrap_1[_ngcontent-%COMP%], #svgWrap_2[_ngcontent-%COMP%]{position:absolute;height:auto;width:600px;max-width:100%;top:50%;left:50%;transform:translate(-50%,-50%)}#svgWrap_1[_ngcontent-%COMP%], #svgWrap_2[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{animation:hueRotate 6s ease-in-out 3s infinite}#id1_1[_ngcontent-%COMP%], #id2_1[_ngcontent-%COMP%], #id3_1[_ngcontent-%COMP%]{stroke:#ff005d;stroke-width:3px;fill:transparent;filter:url(#glow)}#id1_2[_ngcontent-%COMP%], #id2_2[_ngcontent-%COMP%], #id3_2[_ngcontent-%COMP%]{stroke:#12000a;stroke-width:3px;fill:transparent;filter:url(#glow)}#id3_1[_ngcontent-%COMP%]{stroke-dasharray:940px;stroke-dashoffset:-940px;animation:drawLine3 2.5s ease-in-out 0s forwards,flicker3 4s linear 4s infinite}#id2_1[_ngcontent-%COMP%]{stroke-dasharray:735px;stroke-dashoffset:-735px;animation:drawLine2 2.5s ease-in-out .5s forwards,flicker2 4s linear 4.5s infinite}#id1_1[_ngcontent-%COMP%]{stroke-dasharray:940px;stroke-dashoffset:-940px;animation:drawLine1 2.5s ease-in-out 1s forwards,flicker1 4s linear 5s infinite}@keyframes drawLine1{0%{stroke-dashoffset:-940px}to{stroke-dashoffset:0px}}@keyframes drawLine2{0%{stroke-dashoffset:-735px}to{stroke-dashoffset:0px}}@keyframes drawLine3{0%{stroke-dashoffset:-940px}to{stroke-dashoffset:0px}}@keyframes flicker1{0%{stroke:#ff005d}1%{stroke:transparent}3%{stroke:transparent}4%{stroke:#ff005d}6%{stroke:#ff005d}7%{stroke:transparent}13%{stroke:transparent}14%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker2{0%{stroke:#ff005d}50%{stroke:#ff005d}51%{stroke:transparent}61%{stroke:transparent}62%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker3{0%{stroke:#ff005d}1%{stroke:transparent}10%{stroke:transparent}11%{stroke:#ff005d}40%{stroke:#ff005d}41%{stroke:transparent}45%{stroke:transparent}46%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker4{0%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}30%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}31%{color:#12000a;text-shadow:0px 0px 4px #12000a}32%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}36%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}37%{color:#12000a;text-shadow:0px 0px 4px #12000a}41%{color:#12000a;text-shadow:0px 0px 4px #12000a}42%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}85%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}86%{color:#12000a;text-shadow:0px 0px 4px #12000a}95%{color:#12000a;text-shadow:0px 0px 4px #12000a}96%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}to{color:#ff005d;text-shadow:0px 0px 4px #ff005d}}@keyframes fadeInText{1%{color:#12000a;text-shadow:0px 0px 4px #12000a}70%{color:#ff005d;text-shadow:0px 0px 14px #ff005d}to{color:#ff005d;text-shadow:0px 0px 4px #ff005d}}@keyframes hueRotate{0%{filter:hue-rotate(0deg)}50%{filter:hue-rotate(-120deg)}to{filter:hue-rotate(0deg)}}"]}),n})();const Tee=["content"],xee=["scroll"],Iee=["padding"],QE=function(n){return{searchTerm:n}};function See(n,t){if(1&n&&(s.TgZ(0,"div",6),s.GkF(1,7),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",s.VKq(2,QE,e.filterValue))}}function Dee(n,t){if(1&n&&(s.TgZ(0,"div",8),s.GkF(1,7),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",s.VKq(2,QE,e.filterValue))}}const GV=["*"],Mee=["searchInput"];function Pee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.unselect(r))}),s._uU(1,"\xd7"),s.qZA(),s._UZ(2,"span",16)}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngItemLabel",e.label)("escape",i.escapeHTML)}}function Ree(n,t){}const Nee=function(n,t,e){return{item:n,clear:t,label:e}};function kee(n,t){if(1&n&&(s.TgZ(0,"div",12),s.YNc(1,Pee,3,2,"ng-template",null,13,s.W1O),s.YNc(3,Ree,0,0,"ng-template",14),s.qZA()),2&n){const e=t.$implicit,i=s.MAs(2),r=s.oxw(2);s.ekj("ng-value-disabled",e.disabled),s.xp6(3),s.Q6J("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",s.kEZ(4,Nee,e.value,r.clearItem,e.label))}}function Oee(n,t){if(1&n&&(s.ynx(0),s.YNc(1,kee,4,8,"div",11),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function Fee(n,t){}const Lee=function(n,t){return{items:n,clear:t}};function Uee(n,t){if(1&n&&s.YNc(0,Fee,0,0,"ng-template",14),2&n){const e=s.oxw();s.Q6J("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",s.WLB(2,Lee,e.selectedValues,e.clearItem))}}function Bee(n,t){1&n&&s._UZ(0,"div",19)}function Vee(n,t){}function Hee(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Bee,1,0,"ng-template",null,17,s.W1O),s.YNc(3,Vee,0,0,"ng-template",18),s.BQk()),2&n){const e=s.MAs(2),i=s.oxw();s.xp6(3),s.Q6J("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function Zee(n,t){if(1&n&&(s.TgZ(0,"span",20)(1,"span",21),s._uU(2,"\xd7"),s.qZA()()),2&n){const e=s.oxw();s.s9C("title",e.clearAllText)}}function qee(n,t){if(1&n&&s._UZ(0,"span",27),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngItemLabel",e.label)("escape",i.escapeHTML)}}function jee(n,t){}const zee=function(n,t,e,i){return{item:n,item$:t,index:e,searchTerm:i}};function Gee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.toggleItem(o))})("mouseover",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.onItemHover(o))}),s.YNc(1,qee,1,2,"ng-template",null,26,s.W1O),s.YNc(3,jee,0,0,"ng-template",14),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(2),r=s.oxw(2);s.ekj("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),s.uIk("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId),s.xp6(3),s.Q6J("ngTemplateOutlet",e.children?r.optgroupTemplate||i:r.optionTemplate||i)("ngTemplateOutletContext",s.l5B(17,zee,e.value,e,e.index,r.searchTerm))}}function $ee(n,t){if(1&n&&(s.TgZ(0,"span")(1,"span",30),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.addTagText),s.xp6(1),s.hij('"',e.searchTerm,'"')}}function Wee(n,t){}function Yee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",28),s.NdJ("mouseover",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.itemsList.unmarkItem())})("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.selectTag())}),s.YNc(1,$ee,4,2,"ng-template",null,29,s.W1O),s.YNc(3,Wee,0,0,"ng-template",14),s.qZA()}if(2&n){const e=s.MAs(2),i=s.oxw(2);s.ekj("ng-option-marked",!i.itemsList.markedItem),s.xp6(3),s.Q6J("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",s.VKq(4,QE,i.searchTerm))}}function Kee(n,t){if(1&n&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Oqu(e.notFoundText)}}function Qee(n,t){}function Jee(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Kee,2,1,"ng-template",null,31,s.W1O),s.YNc(3,Qee,0,0,"ng-template",14),s.BQk()),2&n){const e=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",s.VKq(2,QE,i.searchTerm))}}function Xee(n,t){if(1&n&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Oqu(e.typeToSearchText)}}function ete(n,t){}function tte(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Xee,2,1,"ng-template",null,33,s.W1O),s.YNc(3,ete,0,0,"ng-template",18),s.BQk()),2&n){const e=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function nte(n,t){if(1&n&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Oqu(e.loadingText)}}function ite(n,t){}function rte(n,t){if(1&n&&(s.ynx(0),s.YNc(1,nte,2,1,"ng-template",null,34,s.W1O),s.YNc(3,ite,0,0,"ng-template",14),s.BQk()),2&n){const e=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",s.VKq(2,QE,i.searchTerm))}}function ste(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"ng-dropdown-panel",22),s.NdJ("update",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.viewPortItems=r)})("scroll",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.scroll.emit(r))})("scrollToEnd",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.scrollToEnd.emit(r))})("outsideClick",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.close())}),s.ynx(1),s.YNc(2,Gee,4,22,"div",23),s.YNc(3,Yee,4,6,"div",24),s.BQk(),s.YNc(4,Jee,4,4,"ng-container",3),s.YNc(5,tte,4,1,"ng-container",3),s.YNc(6,rte,4,4,"ng-container",3),s.qZA()}if(2&n){const e=s.oxw();s.ekj("ng-select-multiple",e.multiple),s.Q6J("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),s.xp6(2),s.Q6J("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),s.xp6(1),s.Q6J("ngIf",e.showAddTag),s.xp6(1),s.Q6J("ngIf",e.showNoItemsFound()),s.xp6(1),s.Q6J("ngIf",e.showTypeToSearch()),s.xp6(1),s.Q6J("ngIf",e.loading&&0===e.itemsList.filteredItems.length)}}const $V=/[&<>"']/g,ote=RegExp($V.source),ate={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xr(n){return null!=n}function JE(n){return"object"==typeof n&&xr(n)}function jS(n){return n instanceof Function}let ute=(()=>{class n{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?function lte(n){return n&&ote.test(n)?n.replace($V,t=>ate[t]):n}(this.ngItemLabel):this.ngItemLabel}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[s.TTD]}),n})(),dte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-option-tmp",""]]}),n})(),hte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-optgroup-tmp",""]]}),n})(),fte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-label-tmp",""]]}),n})(),pte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-multi-label-tmp",""]]}),n})(),gte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-header-tmp",""]]}),n})(),mte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-footer-tmp",""]]}),n})(),_te=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-notfound-tmp",""]]}),n})(),yte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-typetosearch-tmp",""]]}),n})(),vte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-loadingtext-tmp",""]]}),n})(),bte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-tag-tmp",""]]}),n})(),wte=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ng-loadingspinner-tmp",""]]}),n})();function WV(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Cte={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function zS(n){return n.replace(/[^\u0000-\u007E]/g,e=>Cte[e]||e)}class Ete{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){const e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;const e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){!t.selected||(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&xr(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return e=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,t):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===t:i=>i.value===t||!i.children&&i.label&&i.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(t){const e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=zS(t).toLocaleLowerCase(),this.filteredItems.find(e=>zS(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t)return void this.resetFilteredItems();this._filteredItems=[],t=this._ngSelect.searchFn?t:zS(t).toLocaleLowerCase();const e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const r of Array.from(this._groups.keys())){const o=[];for(const a of this._groups.get(r))i&&(a.parent&&a.parent.selected||a.selected)||e(t,this._ngSelect.searchFn?a.value:a)&&o.push(a);if(o.length>0){const[a]=o.slice(-1);if(a.parent){const u=this._items.find(h=>h===a.parent);this._filteredItems.push(u)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(t=>!t.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(0===this._filteredItems.length)return;const e=this._getLastMarkedIndex();this._markedIndex=e>-1?e:t?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(t,e){if(!JE(t))return t;if(-1===e.indexOf("."))return t[e];{const i=e.split(".");let r=t;for(let o=0,a=i.length;o<a;++o){if(null==r)return null;r=r[i[o]]}return r}}mapItem(t,e){const i=xr(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=xr(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:xr(i)?i.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){const t=this._ngSelect.multiple;for(const e of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=xr(i)?this.findItem(i):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(t){if(this._filteredItems.push(t),t.parent){const e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(const e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return zS(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){const i=new Map;if(0===t.length)return i;if(Array.isArray(t[0].value[e])){for(const a of t){const u=(a.value[e]||[]).map((h,p)=>this.mapItem(h,p));i.set(a,u)}return i}const r=jS(this._ngSelect.groupBy),o=a=>{const u=r?e(a.value):a.value[e];return xr(u)?u:void 0};for(const a of t){const u=o(a),h=i.get(u);h?h.push(a):i.set(u,[a])}return i}_flatten(t){const e=jS(this._ngSelect.groupBy),i=[];for(const r of Array.from(t.keys())){let o=i.length;if(void 0===r){const v=t.get(void 0)||[];i.push(...v.map(A=>(A.index=o++,A)));continue}const a=JE(r),u={label:a?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:WV()},h=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,p=this._ngSelect.groupValue||(()=>a?r.value:{[h]:r}),m=t.get(r).map(v=>(v.parent=u,v.children=void 0,v.index=o++,v));u.children=m,u.value=p(r,m.map(v=>v.value)),i.push(u),i.push(...m)}return i}}var Pc=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace"}(Pc||(Pc={})),Pc))();let YV=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,r){const o=this._dimensions,a=o.itemHeight*i,h=Math.max(0,e)/a*i;let p=Math.min(i,Math.ceil(h)+(o.itemsPerViewport+1));const v=Math.max(0,p-o.itemsPerViewport);let A=Math.min(v,Math.floor(h)),I=o.itemHeight*Math.ceil(A)-o.itemHeight*Math.min(A,r);return I=isNaN(I)?0:I,A=isNaN(A)?-1:A,p=isNaN(p)?-1:p,A-=r,A=Math.max(0,A),p+=r,p=Math.min(i,p),{topPadding:I,scrollHeight:a,start:A,end:p}}setDimensions(e,i){const r=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:r}}getScrollTo(e,i,r){const{panelHeight:o}=this.dimensions,a=e+i,h=r+o;return o>=a&&r===e?null:a>h?r+a-h:e<=r?e:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const KV=["top","right","bottom","left"],Ate=typeof requestAnimationFrame<"u"?_4:IS;let QV=(()=>{class n{constructor(e,i,r,o,a){this._renderer=e,this._zone=i,this._panelService=r,this._document=a,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new s.vpe,this.scroll=new s.vpe,this.scrollToEnd=new s.vpe,this.outsideClick=new s.vpe,this._destroy$=new Bt.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:i}=this._panelService.dimensions,r=this.markedItem.index*e;return i>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){const i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;const r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){const a=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*a,a,this._lastScrollPosition)}else{const a=this._dropdown.querySelector(`#${e.htmlId}`);o=this._panelService.getScrollTo(a.offsetTop,a.clientHeight,i?a.offsetTop:this._lastScrollPosition)}xr(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),KV.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){KV.forEach(r=>{const o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});const i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{Fh(this.scrollElementRef.nativeElement,"scroll").pipe(bi(this._destroy$),Wk(0,Ate)).subscribe(e=>{const i=e.path||e.composedPath&&e.composedPath();this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:e.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,Go.T)(Fh(this._document,"touchstart",{capture:!0}),Fh(this._document,"mousedown",{capture:!0})).pipe(bi(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const i=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),xr(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=r*this.itemsLength+"px",this._panelService.setDimensions(r,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+e.getBoundingClientRect().height>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-i.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-e.bottom+r+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-i.top+r+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Fh(this._dropdown,"mousedown").pipe(bi(this._destroy$)).subscribe(e=>{"INPUT"!==e.target.tagName&&e.preventDefault()})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(YV),s.Y36(s.SBq),s.Y36(le,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Tee,7,s.SBq),s.Gf(xee,7,s.SBq),s.Gf(Iee,7,s.SBq)),2&e){let r;s.iGM(r=s.CRH())&&(i.contentElementRef=r.first),s.iGM(r=s.CRH())&&(i.scrollElementRef=r.first),s.iGM(r=s.CRH())&&(i.paddingElementRef=r.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[s.TTD],ngContentSelectors:GV,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,See,2,4,"div",0),s.TgZ(1,"div",1,2),s._UZ(3,"div",null,3),s.TgZ(5,"div",null,4),s.Hsn(7),s.qZA()(),s.YNc(8,Dee,2,4,"div",5)),2&e&&(s.Q6J("ngIf",i.headerTemplate),s.xp6(3),s.ekj("total-padding",i.virtualScroll),s.xp6(2),s.ekj("scrollable-content",i.virtualScroll&&i.items.length),s.xp6(3),s.Q6J("ngIf",i.footerTemplate))},dependencies:[xn,Us],encapsulation:2,changeDetection:0}),n})(),Tte=(()=>{class n{constructor(e){this.elementRef=e,this.stateChange$=new Bt.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&"false"!=`${e}`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[s.TTD],ngContentSelectors:GV,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),xte=(()=>{class n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ite=(()=>{class n{warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JV=new s.OlP("ng-select-selection-model");let CO=(()=>{class n{constructor(e,i,r,o,a,u,h){this.classes=e,this.autoFocus=i,this.config=r,this._cd=u,this._console=h,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=p=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new s.vpe,this.focusEvent=new s.vpe,this.changeEvent=new s.vpe,this.openEvent=new s.vpe,this.closeEvent=new s.vpe,this.searchEvent=new s.vpe,this.clearEvent=new s.vpe,this.addEvent=new s.vpe,this.removeEvent=new s.vpe,this.scroll=new s.vpe,this.scrollToEnd=new s.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=WV(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Bt.x,this._keyPress$=new Bt.x,this._onChange=p=>{},this._onTouched=()=>{},this.clearItem=p=>{const m=this.selectedItems.find(v=>v.value===p);this.unselect(m)},this.trackByOption=(p,m)=>this.trackByFn?this.trackByFn(m.value):m,this._mergeGlobalConfig(r),this.itemsList=new Ete(this,o()),this.element=a.nativeElement}get items(){return this._items}set items(e){null===e&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(null!=e&&!jS(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return xr(this._clearSearchOnAdd)?this._clearSearchOnAdd:xr(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=xr(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),xr(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Pc[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){switch(e.which){case Pc.ArrowDown:this._handleArrowDown(e);break;case Pc.ArrowUp:this._handleArrowUp(e);break;case Pc.Space:this._handleSpace(e);break;case Pc.Enter:this._handleEnter(e);break;case Pc.Tab:this._handleTab(e);break;case Pc.Esc:this.close(),e.preventDefault();break;case Pc.Backspace:this._handleBackspace()}}handleMousedown(e){const i=e.target;"INPUT"!==i.tagName&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){!e||(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}selectTag(){let e;e=jS(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);!function cte(n){return n instanceof Promise}(e)?e&&this.select(i(e)):e.then(r=>this.select(i(r))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=xr(i)?!JE(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&xr(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const r=(0,Go.T)(this.ngOptions.changes,this._destroy$);(0,Go.T)(...this.ngOptions.map(o=>o.stateChange$)).pipe(bi(r)).subscribe(o=>{const a=this.itemsList.findItem(o.value);a.disabled=o.disabled,a.label=o.label||a.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(jr(this.ngOptions),bi(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),i()})}_isValidWriteValue(e){if(!xr(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const i=r=>!(!xr(this.compareWith)&&JE(r)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(r=>i(r)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const i=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{const a=JE(r),u=!a&&!this.bindValue;a||u?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>i(r)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(bi(this._destroy$),(0,Vn.b)(e=>this._pressedKeys.push(e)),KC(200),ci(()=>this._pressedKeys.length>0),(0,gt.U)(()=>this._pressedKeys.join(""))).subscribe(e=>{const i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,i={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const r of Object.keys(i))e.setAttribute(r,i[r])}_updateNgModel(){const e=[];for(const r of this.selectedItems)if(this.bindValue){let o=null;o=r.children?r.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(r.value,this.bindValue),e.push(o)}else e.push(r.value);const i=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(xr(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=xr(this.virtualScroll)?this.virtualScroll:!!xr(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=xr(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("class"),s.$8M("autofocus"),s.Y36(xte),s.Y36(JV),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ite))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,dte,5,s.Rgc),s.Suo(r,hte,5,s.Rgc),s.Suo(r,fte,5,s.Rgc),s.Suo(r,pte,5,s.Rgc),s.Suo(r,gte,5,s.Rgc),s.Suo(r,mte,5,s.Rgc),s.Suo(r,_te,5,s.Rgc),s.Suo(r,yte,5,s.Rgc),s.Suo(r,vte,5,s.Rgc),s.Suo(r,bte,5,s.Rgc),s.Suo(r,wte,5,s.Rgc),s.Suo(r,Tte,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.optionTemplate=o.first),s.iGM(o=s.CRH())&&(i.optgroupTemplate=o.first),s.iGM(o=s.CRH())&&(i.labelTemplate=o.first),s.iGM(o=s.CRH())&&(i.multiLabelTemplate=o.first),s.iGM(o=s.CRH())&&(i.headerTemplate=o.first),s.iGM(o=s.CRH())&&(i.footerTemplate=o.first),s.iGM(o=s.CRH())&&(i.notFoundTemplate=o.first),s.iGM(o=s.CRH())&&(i.typeToSearchTemplate=o.first),s.iGM(o=s.CRH())&&(i.loadingTextTemplate=o.first),s.iGM(o=s.CRH())&&(i.tagTemplate=o.first),s.iGM(o=s.CRH())&&(i.loadingSpinnerTemplate=o.first),s.iGM(o=s.CRH())&&(i.ngOptions=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(QV,5),s.Gf(Mee,7)),2&e){let r;s.iGM(r=s.CRH())&&(i.dropdownPanel=r.first),s.iGM(r=s.CRH())&&(i.searchInput=r.first)}},hostVars:20,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i.handleKeyDown(o)}),2&e&&s.ekj("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[s._Bn([{provide:Pl,useExisting:(0,s.Gpc)(()=>n),multi:!0},YV]),s.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0),s.NdJ("mousedown",function(a){return i.handleMousedown(a)}),s.TgZ(1,"div",1)(2,"div",2),s._uU(3),s.qZA(),s.YNc(4,Oee,2,2,"ng-container",3),s.YNc(5,Uee,1,5,null,3),s.TgZ(6,"div",4)(7,"input",5,6),s.NdJ("input",function(){s.CHM(r);const a=s.MAs(8);return s.KtG(i.filter(a.value))})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){s.CHM(r);const a=s.MAs(8);return s.KtG(i.onCompositionEnd(a.value))})("focus",function(a){return i.onInputFocus(a)})("blur",function(a){return i.onInputBlur(a)})("change",function(a){return a.stopPropagation()}),s.qZA()()(),s.YNc(9,Hee,4,1,"ng-container",3),s.YNc(10,Zee,3,1,"span",7),s.TgZ(11,"span",8),s._UZ(12,"span",9),s.qZA()(),s.YNc(13,ste,7,19,"ng-dropdown-panel",10)}2&e&&(s.ekj("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),s.xp6(3),s.Oqu(i.placeholder),s.xp6(1),s.Q6J("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),s.xp6(1),s.uIk("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),s.xp6(1),s.Q6J("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),s.uIk("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),s.xp6(2),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.showClear()),s.xp6(3),s.Q6J("ngIf",i.isOpen))},dependencies:[ld,si,xn,Us,QV,ute],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),n})();function Ste(){return new Dte}class Dte{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,i){if(t.selected=!0,(!t.children||!e&&i)&&this._selected.push(t),e)if(t.parent){const r=t.parent.children.length,o=t.parent.children.filter(a=>a.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),this._selected=i&&this._activeChildren(t)?[...this._selected.filter(r=>r.parent!==t),t]:[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(i=>i!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){const i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...i.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(const i of t)i.disabled||(i.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}}let Mte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:JV,useValue:Ste}],imports:[Mr]}),n})();function Pte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",15),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.goToProduct(o.product.id))}),s._uU(1),s.TgZ(2,"b"),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.product.name," "),s.xp6(2),s.hij("(",e.amount,")")}}const Rte=function(n){return{"background-color":n}},Nte=function(){return["Pending","charged","Completed"]};function kte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",5)(2,"p",6),s._uU(3),s.qZA(),s.TgZ(4,"p")(5,"b"),s._uU(6,"Purchase Unites:"),s.qZA()(),s.TgZ(7,"ul"),s.YNc(8,Pte,4,2,"li",7),s.qZA()(),s.TgZ(9,"div",8)(10,"p")(11,"b"),s._uU(12,"Total Paid:"),s.qZA(),s._uU(13),s.qZA(),s.TgZ(14,"p")(15,"b"),s._uU(16,"User Name:"),s.qZA(),s._uU(17),s.TgZ(18,"span",9),s._uU(19),s.qZA()(),s.TgZ(20,"p")(21,"b"),s._uU(22,"User Email:"),s.qZA(),s._uU(23),s.qZA(),s.TgZ(24,"p")(25,"b"),s._uU(26,"paid with:"),s.qZA(),s._uU(27),s.qZA()(),s.TgZ(28,"div",10)(29,"p")(30,"b"),s._uU(31,"Order Id:"),s.qZA(),s._uU(32),s.qZA(),s.TgZ(33,"p",11)(34,"b"),s._uU(35,"State:"),s.qZA()(),s.TgZ(36,"p",12)(37,"ng-select",13),s.NdJ("change",function(){const o=s.CHM(e).index,a=s.oxw();return s.KtG(a.changeOrderUpToDate(a.states[o]))})("ngModelChange",function(r){const a=s.CHM(e).index,u=s.oxw();return s.KtG(u.states[a].state=r)}),s.qZA(),s.TgZ(38,"button",14),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw();return s.KtG(a.updateOrderState(a.states[o]))}),s._uU(39,"Update"),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngStyle",s.VKq(13,Rte,i%2?"white":"#e8e8e8")),s.xp6(3),s.Oqu(e.timeCreated),s.xp6(5),s.Q6J("ngForOf",e.purchase_units),s.xp6(5),s.hij(" ",e.totalPaid,"$"),s.xp6(4),s.hij(" ",e.userName," "),s.xp6(2),s.hij("(",e.userId?"Registered":"unRegistered",")"),s.xp6(4),s.hij(" ",e.userEmail,""),s.xp6(4),s.hij(" ",e.paypalMail,""),s.xp6(5),s.hij(" ",e.id,""),s.xp6(5),s.Q6J("items",s.DdM(15,Nte))("multiple",!1)("ngModel",r.states[i].state),s.xp6(1),s.Q6J("disabled",r.states[i].upToDate)}}function Ote(n,t){1&n&&(s.TgZ(0,"div")(1,"h3"),s._uU(2,"There is No Orders untill now!"),s.qZA()())}let Fte=(()=>{class n{constructor(e,i,r){this.orderService=e,this.productService=i,this.router=r,this.orderList=[],this.states=[]}ngOnInit(){this.orderService.getAllOrders().subscribe(e=>{let i=[];e.forEach(r=>{i.push(...r.payload.doc.data().purchase_units.map(o=>o.id))}),this.productService.getSpecificProductsWithIds(i).subscribe(r=>{let o=r.map(a=>({...a.payload.doc.data(),id:a.payload.doc.id}));this.orderList=e.map(a=>({...a.payload.doc.data(),fsId:a.payload.doc.id,purchase_units:a.payload.doc.data().purchase_units.map(u=>({...u,product:o.find(h=>h.id==u.id)}))})),this.states=this.orderList.map(a=>({id:a.fsId,state:a.state,upToDate:!0}))})})}goToProduct(e){this.router.navigate([`Product/${e}`])}updateOrderState(e){if(e.state){let i=this.orderService.getOrderById(e.id).subscribe(r=>{console.log("in subscripe");let o={...r,state:e.state};i.unsubscribe(),this.orderService.updateOrderState(e.id,o).then(()=>{e.upToDate=!0,console.log(this.states)})})}else console.log("empty state")}changeOrderUpToDate(e){e.upToDate=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(X3),s.Y36(dE),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-orders"]],decls:5,vars:2,consts:[[1,"container","mb-4"],[1,"fs-1","my-4"],["class","d-flex flex-wrap col-12 bordered rounded shadow my-0 pt-2",3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","flex-wrap","col-12","bordered","rounded","shadow","my-0","pt-2",3,"ngStyle"],[1,"col-lg-5","col-12","ps-3","pe-1","borderedEnd"],[1,"text-muted"],["class","cPointer",3,"click",4,"ngFor","ngForOf"],[1,"col-lg-4","col-12","ps-3","pe-1","borderedEnd"],[1,"text-muted",2,"font-size","0.6rem"],[1,"col-lg-3","col-12","p-3"],[1,"mb-1"],[1,"d-flex","flex-wrap","align-items-center"],["placeholder","Status","appendTo","body","required","",1,"shadow","col-lg-9","col-12",3,"items","multiple","ngModel","change","ngModelChange"],[1,"col-lg-3","col-12","btn","btn-dark","btn-sm",3,"disabled","click"],[1,"cPointer",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"p",1),s._uU(2,"ORDERS"),s.qZA(),s.YNc(3,kte,40,16,"div",2),s.YNc(4,Ote,3,0,"div",3),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.orderList),s.xp6(1),s.Q6J("ngIf",!i.orderList.length))},dependencies:[si,xn,Gl,Sc,aE,Ip,CO],styles:[".bordered[_ngcontent-%COMP%]{border-bottom:2px solid #001a2c}.borderedEnd[_ngcontent-%COMP%]{border-inline-end:.2px solid lightgray}.cPointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function Lte(n,t){1&n&&(s.TgZ(0,"h2",48),s._UZ(1,"i",49),s._uU(2," Add New Product:"),s.qZA())}function Ute(n,t){1&n&&(s.TgZ(0,"h2",48),s._UZ(1,"i",49),s._uU(2," Update Product:"),s.qZA())}function Bte(n,t){if(1&n&&(s.TgZ(0,"div",50)(1,"b"),s._uU(2,"Product ID:"),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw();s.xp6(3),s.hij(" ",e.updatedID," ")}}function Vte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Product Name is required! "),s.qZA())}function Hte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Product Name should be 5 chars at least! "),s.qZA())}function Zte(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Vte,2,0,"small",52),s.YNc(2,Hte,2,0,"small",52),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.ProNamePro||null==e.ProNamePro.errors?null:e.ProNamePro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProNamePro||null==e.ProNamePro.errors?null:e.ProNamePro.errors.minlength)}}function qte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0637\u0644\u0648\u0628 "),s.qZA())}function jte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0627 \u0628\u062f \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 5 \u0623\u062d\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644! "),s.qZA())}function zte(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,qte,2,0,"small",52),s.YNc(2,jte,2,0,"small",52),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.ProNameProAR||null==e.ProNameProAR.errors?null:e.ProNameProAR.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProNameProAR||null==e.ProNameProAR.errors?null:e.ProNameProAR.errors.minlength)}}function Gte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Description is required! "),s.qZA())}function $te(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Description should be 8 chars at least! "),s.qZA())}function Wte(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Gte,2,0,"small",52),s.YNc(2,$te,2,0,"small",52),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.ProDescriptionPro||null==e.ProDescriptionPro.errors?null:e.ProDescriptionPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProDescriptionPro||null==e.ProDescriptionPro.errors?null:e.ProDescriptionPro.errors.minlength)}}function Yte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," *\u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0637\u0644\u0648\u0628 "),s.qZA())}function Kte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0627 \u0628\u062f \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 8 \u0623\u062d\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644! "),s.qZA())}function Qte(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Yte,2,0,"small",52),s.YNc(2,Kte,2,0,"small",52),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.ProDescriptionProAR||null==e.ProDescriptionProAR.errors?null:e.ProDescriptionProAR.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProDescriptionProAR||null==e.ProDescriptionProAR.errors?null:e.ProDescriptionProAR.errors.minlength)}}function Jte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand Name is required! "),s.qZA())}function Xte(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Brand Name with Ar & En should be equal! "),s.qZA())}function ene(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Jte,2,0,"small",52),s.YNc(2,Xte,2,0,"small",52),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.ProBrandPro||null==e.ProBrandPro.errors?null:e.ProBrandPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.saveProductForm||null==e.saveProductForm.errors?null:e.saveProductForm.errors.brandsLang)}}function tne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function nne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u064a\u0646\u0628\u063a\u064a \u0623\u0646 \u062a\u0643\u0648\u0646 \u0646\u0641\u0633 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0641\u064a \u0643\u0644\u0627 \u0627\u0644\u0644\u063a\u062a\u064a\u0646 "),s.qZA())}function ine(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,tne,2,0,"small",52),s.YNc(2,nne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.ProBrandProAR||null==e.ProBrandProAR.errors?null:e.ProBrandProAR.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.saveProductForm||null==e.saveProductForm.errors?null:e.saveProductForm.errors.brandsLang)}}function rne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Quantity is required! "),s.qZA())}function sne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0627\u0644\u0643\u0645\u064a\u0629 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function one(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Quantity isn't match! "),s.qZA())}function ane(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0627\u0644\u0643\u0645\u064a\u0629 \u062e\u0627\u0637\u0626\u0629! "),s.qZA())}function lne(n,t){if(1&n&&(s.TgZ(0,"div",51)(1,"div",21),s.YNc(2,rne,2,0,"small",52),s.YNc(3,sne,2,0,"small",53),s.qZA(),s.TgZ(4,"div",21),s.YNc(5,one,2,0,"small",52),s.YNc(6,ane,2,0,"small",53),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",null==e.ProQuantityPro||null==e.ProQuantityPro.errors?null:e.ProQuantityPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProQuantityPro||null==e.ProQuantityPro.errors?null:e.ProQuantityPro.errors.required),s.xp6(2),s.Q6J("ngIf",null==e.ProQuantityPro||null==e.ProQuantityPro.errors?null:e.ProQuantityPro.errors.pattern),s.xp6(1),s.Q6J("ngIf",null==e.ProQuantityPro||null==e.ProQuantityPro.errors?null:e.ProQuantityPro.errors.pattern)}}function cne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Price is required! "),s.qZA())}function une(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0627\u0644\u0633\u0639\u0631 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function dne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Price isn't match! "),s.qZA())}function hne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0627\u0644\u0633\u0639\u0631 \u062e\u0627\u0637\u0626! "),s.qZA())}function fne(n,t){if(1&n&&(s.TgZ(0,"div",51)(1,"div",21),s.YNc(2,cne,2,0,"small",52),s.YNc(3,une,2,0,"small",53),s.qZA(),s.TgZ(4,"div",21),s.YNc(5,dne,2,0,"small",52),s.YNc(6,hne,2,0,"small",53),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",null==e.ProPricePro||null==e.ProPricePro.errors?null:e.ProPricePro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProPricePro||null==e.ProPricePro.errors?null:e.ProPricePro.errors.required),s.xp6(2),s.Q6J("ngIf",null==e.ProPricePro||null==e.ProPricePro.errors?null:e.ProPricePro.errors.pattern),s.xp6(1),s.Q6J("ngIf",null==e.ProPricePro||null==e.ProPricePro.errors?null:e.ProPricePro.errors.pattern)}}function pne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Discount is required! "),s.qZA())}function gne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0627\u0644\u062e\u0635\u0645 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function mne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Discount isn't match! "),s.qZA())}function _ne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0627\u0644\u062e\u0635\u0645 \u062e\u0627\u0637\u0626! "),s.qZA())}function yne(n,t){if(1&n&&(s.TgZ(0,"div",51)(1,"div",21),s.YNc(2,pne,2,0,"small",52),s.YNc(3,gne,2,0,"small",53),s.qZA(),s.TgZ(4,"div",21),s.YNc(5,mne,2,0,"small",52),s.YNc(6,_ne,2,0,"small",53),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",null==e.ProDiscountPro||null==e.ProDiscountPro.errors?null:e.ProDiscountPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProDiscountPro||null==e.ProDiscountPro.errors?null:e.ProDiscountPro.errors.required),s.xp6(2),s.Q6J("ngIf",null==e.ProDiscountPro||null==e.ProDiscountPro.errors?null:e.ProDiscountPro.errors.pattern),s.xp6(1),s.Q6J("ngIf",null==e.ProDiscountPro||null==e.ProDiscountPro.errors?null:e.ProDiscountPro.errors.pattern)}}function vne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Product SKU is required! "),s.qZA())}function bne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0631\u0645\u0632 \u0627\u0644\u0645\u0627\u0633\u062d \u0627\u0644\u0636\u0648\u0626\u064a \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function wne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Product SKU should be 6 chars! "),s.qZA())}function Cne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0631\u0645\u0632 \u0627\u0644\u0645\u0627\u0633\u062d \u0627\u0644\u0636\u0648\u0626\u064a \u064a\u062c\u0628 \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 6 \u0623\u0631\u0642\u0627\u0645 \u0641\u0642\u0637! "),s.qZA())}function Ene(n,t){if(1&n&&(s.TgZ(0,"div",51)(1,"div",21),s.YNc(2,vne,2,0,"small",52),s.YNc(3,bne,2,0,"small",53),s.qZA(),s.TgZ(4,"div",21),s.YNc(5,wne,2,0,"small",52),s.YNc(6,Cne,2,0,"small",53),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",null==e.ProSKUPro||null==e.ProSKUPro.errors?null:e.ProSKUPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.ProSKUPro||null==e.ProSKUPro.errors?null:e.ProSKUPro.errors.required),s.xp6(2),s.Q6J("ngIf",null==e.ProSKUPro||null==e.ProSKUPro.errors?null:e.ProSKUPro.errors.pattern),s.xp6(1),s.Q6J("ngIf",null==e.ProSKUPro||null==e.ProSKUPro.errors?null:e.ProSKUPro.errors.pattern)}}function Ane(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Product image is required! "),s.qZA())}function Tne(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function xne(n,t){if(1&n&&(s.TgZ(0,"div",51)(1,"div",21),s.YNc(2,Ane,2,0,"small",52),s.YNc(3,Tne,2,0,"small",53),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Q6J("ngIf",null==e||null==e.errors?null:e.errors.required),s.xp6(1),s.Q6J("ngIf",null==e||null==e.errors?null:e.errors.required)}}function Ine(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56),s._UZ(2,"input",57),s.TgZ(3,"button",58),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addNewProductImg())}),s._uU(4,"+"),s.qZA(),s.TgZ(5,"button",59),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw();return s.KtG(a.removeProductImg(o))}),s._uU(6,"-"),s.qZA()(),s.YNc(7,xne,4,2,"div",9),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(2),s.ekj("is-valid",null==e?null:e.valid)("is-invalid",(null==e?null:e.invalid)&&(null==e?null:e.touched)),s.s9C("name","proImg-"+i),s.s9C("id","proImg-"+i),s.s9C("formControlName",i),s.xp6(1),s.ekj("d-none",i!=r.ProImgsPro.controls.length-1),s.Q6J("disabled",null==e?null:e.invalid),s.xp6(2),s.ekj("d-none",0==i),s.xp6(2),s.Q6J("ngIf",!(null!=e&&e.invalid&&null!=e&&e.untouched))}}function Sne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Category Name is required! "),s.qZA())}function Dne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Sne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.ProCategoryPro||null==e.ProCategoryPro.errors?null:e.ProCategoryPro.errors.required)}}function Mne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 "),s.qZA())}function Pne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Mne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.ProCategoryProAR||null==e.ProCategoryProAR.errors?null:e.ProCategoryProAR.errors.required)}}const Ir=function(){return{standalone:!0}};function Rne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",60)(3,"b"),s._uU(4,"Category Name:"),s.qZA()(),s.TgZ(5,"ng-select",61),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeCat())})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.parentCat=r)}),s.qZA(),s.TgZ(6,"ng-select",62),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeSubCat())})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.subCat=r)}),s.qZA(),s.YNc(7,Dne,2,1,"div",9),s.qZA(),s.TgZ(8,"div",10)(9,"label",60)(10,"b"),s._uU(11,"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629:"),s.qZA()(),s.TgZ(12,"ng-select",63),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeCat())})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.parentCat=r)}),s.qZA(),s.TgZ(13,"ng-select",64),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeSubCat())})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.subCat=r)}),s.qZA(),s.YNc(14,Pne,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("items",e.catList)("multiple",!1)("ngModel",e.parentCat)("ngModelOptions",s.DdM(18,Ir)),s.xp6(1),s.Q6J("items",e.childCatList)("multiple",!1)("ngModel",e.subCat)("ngModelOptions",s.DdM(19,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=e.ProCategoryPro&&e.ProCategoryPro.invalid&&null!=e.ProCategoryPro&&e.ProCategoryPro.untouched)),s.xp6(5),s.Q6J("items",e.catList)("multiple",!1)("ngModel",e.parentCat)("ngModelOptions",s.DdM(20,Ir)),s.xp6(1),s.Q6J("items",e.childCatList)("multiple",!1)("ngModel",e.subCat)("ngModelOptions",s.DdM(21,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=e.ProCategoryProAR&&e.ProCategoryProAR.invalid&&null!=e.ProCategoryProAR&&e.ProCategoryProAR.untouched))}}function Nne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Processor is required! "),s.qZA())}function kne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Nne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("processor"))||null==i.errors?null:i.errors.required)}}function One(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0644\u0645\u0639\u0627\u0644\u062c \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function Fne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,One,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("processor"))||null==i.errors?null:i.errors.required)}}function Lne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",65)(3,"b"),s._uU(4,"Processor:"),s.qZA()(),s.TgZ(5,"ng-select",66),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"processor"))}),s.qZA(),s.YNc(6,kne,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",67)(9,"b"),s._uU(10,"\u0627\u0644\u0645\u0639\u0627\u0644\u062c:"),s.qZA()(),s.TgZ(11,"ng-select",68),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"processor"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.processor=r)}),s.qZA(),s.YNc(12,Fne,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.processor)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("processor"))&&i.invalid&&null!=(i=e.saveProductForm.get("processor"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.processor)("multiple",!1)("ngModel",e.Binds.processor)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("processor"))&&r.invalid&&null!=(r=e.saveProductForm.get("processor"))&&r.untouched))}}function Une(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Ram is required! "),s.qZA())}function Bne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Une,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("Ram"))||null==i.errors?null:i.errors.required)}}function Vne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0631\u0627\u0645 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function Hne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Vne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("Ram"))||null==i.errors?null:i.errors.required)}}function Zne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",69)(3,"b"),s._uU(4,"Ram:"),s.qZA()(),s.TgZ(5,"ng-select",70),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"Ram"))}),s.qZA(),s.YNc(6,Bne,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",71)(9,"b"),s._uU(10,"\u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u0631\u0627\u0645:"),s.qZA()(),s.TgZ(11,"ng-select",72),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"Ram"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.Ram=r)}),s.qZA(),s.YNc(12,Hne,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.Ram)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("Ram"))&&i.invalid&&null!=(i=e.saveProductForm.get("Ram"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.Ram)("multiple",!1)("ngModel",e.Binds.Ram)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("Ram"))&&r.invalid&&null!=(r=e.saveProductForm.get("Ram"))&&r.untouched))}}function qne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Display Size is required! "),s.qZA())}function jne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,qne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("displaySize"))||null==i.errors?null:i.errors.required)}}function zne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u062d\u062c\u0645 \u0627\u0644\u0634\u0627\u0634\u0629 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function Gne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,zne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("displaySize"))||null==i.errors?null:i.errors.required)}}function $ne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",73)(3,"b"),s._uU(4,"Display Size:"),s.qZA()(),s.TgZ(5,"ng-select",74),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"displaySize"))}),s.qZA(),s.YNc(6,jne,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",75)(9,"b"),s._uU(10,"\u062d\u062c\u0645 \u0627\u0644\u0634\u0627\u0634\u0629:"),s.qZA()(),s.TgZ(11,"ng-select",76),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"displaySize"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.displaySize=r)}),s.qZA(),s.YNc(12,Gne,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.displaySize)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("displaySize"))&&i.invalid&&null!=(i=e.saveProductForm.get("displaySize"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.displaySize)("multiple",!1)("ngModel",e.Binds.displaySize)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("displaySize"))&&r.invalid&&null!=(r=e.saveProductForm.get("displaySize"))&&r.untouched))}}function Wne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * OS is required! "),s.qZA())}function Yne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Wne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("OS"))||null==i.errors?null:i.errors.required)}}function Kne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u0634\u063a\u064a\u0644 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function Qne(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Kne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("OS"))||null==i.errors?null:i.errors.required)}}function Jne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",77)(3,"b"),s._uU(4,"Operating System:"),s.qZA()(),s.TgZ(5,"ng-select",78),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"OS"))}),s.qZA(),s.YNc(6,Yne,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",79)(9,"b"),s._uU(10,"\u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u0634\u063a\u064a\u0644:"),s.qZA()(),s.TgZ(11,"ng-select",80),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"OS"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.OS=r)}),s.qZA(),s.YNc(12,Qne,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.OS)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("OS"))&&i.invalid&&null!=(i=e.saveProductForm.get("OS"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.OS)("multiple",!1)("ngModel",e.Binds.OS)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("OS"))&&r.invalid&&null!=(r=e.saveProductForm.get("OS"))&&r.untouched))}}function Xne(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Type is required! "),s.qZA())}function eie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Xne,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("type"))||null==i.errors?null:i.errors.required)}}function tie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0644\u0646\u0648\u0639 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function nie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,tie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("type"))||null==i.errors?null:i.errors.required)}}function iie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",81)(3,"b"),s._uU(4,"Type:"),s.qZA()(),s.TgZ(5,"ng-select",82),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"type"))}),s.qZA(),s.YNc(6,eie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",83)(9,"b"),s._uU(10,"\u0627\u0644\u0646\u0648\u0639:"),s.qZA()(),s.TgZ(11,"ng-select",84),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"type"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.type=r)}),s.qZA(),s.YNc(12,nie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.type)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("type"))&&i.invalid&&null!=(i=e.saveProductForm.get("type"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.type)("multiple",!1)("ngModel",e.Binds.type)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("type"))&&r.invalid&&null!=(r=e.saveProductForm.get("type"))&&r.untouched))}}function rie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Storage is required! "),s.qZA())}function sie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,rie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("storage"))||null==i.errors?null:i.errors.required)}}function oie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0633\u0639\u0629 \u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0645\u0637\u0644\u0648\u0628\u0629 "),s.qZA())}function aie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,oie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("storage"))||null==i.errors?null:i.errors.required)}}function lie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",85)(3,"b"),s._uU(4,"Storage:"),s.qZA()(),s.TgZ(5,"ng-select",86),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"storage"))}),s.qZA(),s.YNc(6,sie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",87)(9,"b"),s._uU(10,"\u0633\u0639\u0629 \u0627\u0644\u062a\u062e\u0632\u064a\u0646:"),s.qZA()(),s.TgZ(11,"ng-select",88),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"storage"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.storage=r)}),s.qZA(),s.YNc(12,aie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.storage)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("storage"))&&i.invalid&&null!=(i=e.saveProductForm.get("storage"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.storage)("multiple",!1)("ngModel",e.Binds.storage)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("storage"))&&r.invalid&&null!=(r=e.saveProductForm.get("storage"))&&r.untouched))}}function cie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Graphics Memory is required! "),s.qZA())}function uie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,cie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("graphicsMemory"))||null==i.errors?null:i.errors.required)}}function die(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0633\u0639\u0629 \u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062c\u0631\u0627\u0641\u064a\u0643 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function hie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,die,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("graphicsMemory"))||null==i.errors?null:i.errors.required)}}function fie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",89)(3,"b"),s._uU(4,"Graphics Memory:"),s.qZA()(),s.TgZ(5,"ng-select",90),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"graphicsMemory"))}),s.qZA(),s.YNc(6,uie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",91)(9,"b"),s._uU(10,"\u0633\u0639\u0629 \u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062c\u0631\u0627\u0641\u064a\u0643:"),s.qZA()(),s.TgZ(11,"ng-select",92),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"graphicsMemory"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.graphicsMemory=r)}),s.qZA(),s.YNc(12,hie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.graphicsMemory)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("graphicsMemory"))&&i.invalid&&null!=(i=e.saveProductForm.get("graphicsMemory"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.graphicsMemory)("multiple",!1)("ngModel",e.Binds.graphicsMemory)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("graphicsMemory"))&&r.invalid&&null!=(r=e.saveProductForm.get("graphicsMemory"))&&r.untouched))}}function pie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Color is required! "),s.qZA())}function gie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,pie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("color"))||null==i.errors?null:i.errors.required)}}function mie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0644\u0644\u0648\u0646 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function _ie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,mie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("color"))||null==i.errors?null:i.errors.required)}}function yie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",93)(3,"b"),s._uU(4,"Color:"),s.qZA()(),s.TgZ(5,"ng-select",94),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"color"))}),s.qZA(),s.YNc(6,gie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",95)(9,"b"),s._uU(10,"\u0627\u0644\u0644\u0648\u0646:"),s.qZA()(),s.TgZ(11,"ng-select",96),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"color"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.color=r)}),s.qZA(),s.YNc(12,_ie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.color)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("color"))&&i.invalid&&null!=(i=e.saveProductForm.get("color"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.color)("multiple",!1)("ngModel",e.Binds.color)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("color"))&&r.invalid&&null!=(r=e.saveProductForm.get("color"))&&r.untouched))}}function vie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * TouchScreen is required! "),s.qZA())}function bie(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," *\u062a\u0648\u0641\u0631 \u0634\u0627\u0634\u0629 \u0627\u0644\u0644\u0645\u0633 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function wie(n,t){if(1&n&&(s.TgZ(0,"div",101),s.YNc(1,vie,2,0,"small",52),s.YNc(2,bie,2,0,"small",53),s.qZA()),2&n){const e=s.oxw(2);let i,r;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("touchScreen"))||null==i.errors?null:i.errors.required),s.xp6(1),s.Q6J("ngIf",null==(r=e.saveProductForm.get("touchScreen"))||null==r.errors?null:r.errors.required)}}const XV=function(){return[!0,!1]};function Cie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21)(2,"label",97)(3,"b"),s._uU(4,"Touch Screen:"),s.qZA()(),s.TgZ(5,"label",98)(6,"b"),s._uU(7,"\u062a\u0648\u0641\u0631 \u0634\u0627\u0634\u0629 \u0627\u0644\u0644\u0645\u0633:"),s.qZA()()(),s.TgZ(8,"ng-select",99),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.channgBoolianFormLang("touchScreen"))}),s.qZA(),s.YNc(9,wie,3,2,"div",100),s.qZA()}if(2&n){const e=s.oxw();let i;s.xp6(8),s.Q6J("items",s.DdM(3,XV))("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("touchScreen"))&&i.invalid&&null!=(i=e.saveProductForm.get("touchScreen"))&&i.untouched))}}function Eie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Rear Camera is required! "),s.qZA())}function Aie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Eie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("rearCamera"))||null==i.errors?null:i.errors.required)}}function Tie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0627\u0644\u062e\u0644\u0641\u064a\u0629 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function xie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Tie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("rearCamera"))||null==i.errors?null:i.errors.required)}}function Iie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",102)(3,"b"),s._uU(4,"Rear Camera:"),s.qZA()(),s.TgZ(5,"ng-select",103),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"rearCamera"))}),s.qZA(),s.YNc(6,Aie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",104)(9,"b"),s._uU(10,"\u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0627\u0644\u062e\u0644\u0641\u064a\u0629:"),s.qZA()(),s.TgZ(11,"ng-select",105),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"rearCamera"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.rearCamera=r)}),s.qZA(),s.YNc(12,xie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.rearCamera)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("rearCamera"))&&i.invalid&&null!=(i=e.saveProductForm.get("rearCamera"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.rearCamera)("multiple",!1)("ngModel",e.Binds.rearCamera)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("rearCamera"))&&r.invalid&&null!=(r=e.saveProductForm.get("rearCamera"))&&r.untouched))}}function Sie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Connectivity is required! "),s.qZA())}function Die(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Sie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("connectivity"))||null==i.errors?null:i.errors.required)}}function Mie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0643\u0645\u0628\u064a\u0648\u062a\u0631 \u0627\u0644\u0644\u0648\u062d\u064a \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function Pie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Mie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("connectivity"))||null==i.errors?null:i.errors.required)}}function Rie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",106)(3,"b"),s._uU(4,"Connectivity:"),s.qZA()(),s.TgZ(5,"ng-select",107),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"connectivity"))}),s.qZA(),s.YNc(6,Die,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",108)(9,"b"),s._uU(10,"\u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0643\u0648\u0645\u0628\u064a\u0648\u062a\u0631 \u0627\u0644\u0644\u0648\u062d\u064a:"),s.qZA()(),s.TgZ(11,"ng-select",109),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"connectivity"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.connectivity=r)}),s.qZA(),s.YNc(12,Pie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.connectivity)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("connectivity"))&&i.invalid&&null!=(i=e.saveProductForm.get("connectivity"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.connectivity)("multiple",!1)("ngModel",e.Binds.connectivity)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("connectivity"))&&r.invalid&&null!=(r=e.saveProductForm.get("connectivity"))&&r.untouched))}}function Nie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * SIM Count is required! "),s.qZA())}function kie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Nie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("SIMCount"))||null==i.errors?null:i.errors.required)}}function Oie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0639\u062f\u062f \u0634\u0631\u0627\u0626\u062d \u0627\u0644\u062e\u0637 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function Fie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Oie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("SIMCount"))||null==i.errors?null:i.errors.required)}}function Lie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",110)(3,"b"),s._uU(4,"SIM Count:"),s.qZA()(),s.TgZ(5,"ng-select",111),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"SIMCount"))}),s.qZA(),s.YNc(6,kie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",112)(9,"b"),s._uU(10,"\u0639\u062f\u062f \u0634\u0631\u0627\u0626\u062d \u0627\u0644\u062e\u0637:"),s.qZA()(),s.TgZ(11,"ng-select",113),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"SIMCount"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.SIMCount=r)}),s.qZA(),s.YNc(12,Fie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.SIMCount)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("SIMCount"))&&i.invalid&&null!=(i=e.saveProductForm.get("SIMCount"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.SIMCount)("multiple",!1)("ngModel",e.Binds.SIMCount)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("SIMCount"))&&r.invalid&&null!=(r=e.saveProductForm.get("SIMCount"))&&r.untouched))}}function Uie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * GPS is required! "),s.qZA())}function Bie(n,t){1&n&&(s.TgZ(0,"small",54),s._uU(1," * \u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0644\u0627\u062d\u0629 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function Vie(n,t){if(1&n&&(s.TgZ(0,"div",101),s.YNc(1,Uie,2,0,"small",52),s.YNc(2,Bie,2,0,"small",53),s.qZA()),2&n){const e=s.oxw(2);let i,r;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("GPS"))||null==i.errors?null:i.errors.required),s.xp6(1),s.Q6J("ngIf",null==(r=e.saveProductForm.get("GPS"))||null==r.errors?null:r.errors.required)}}function Hie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21)(2,"label",114)(3,"b"),s._uU(4,"GPS:"),s.qZA()(),s.TgZ(5,"label",115)(6,"b"),s._uU(7,"\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0644\u0627\u062d\u0629:"),s.qZA()()(),s.TgZ(8,"ng-select",116),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.channgBoolianFormLang("GPS"))}),s.qZA(),s.YNc(9,Vie,3,2,"div",100),s.qZA()}if(2&n){const e=s.oxw();let i;s.xp6(8),s.Q6J("items",s.DdM(3,XV))("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("GPS"))&&i.invalid&&null!=(i=e.saveProductForm.get("GPS"))&&i.untouched))}}function Zie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * TV Category is required! "),s.qZA())}function qie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Zie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("tvCat"))||null==i.errors?null:i.errors.required)}}function jie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0641\u0626\u0629 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function zie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,jie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("tvCat"))||null==i.errors?null:i.errors.required)}}function Gie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",117)(3,"b"),s._uU(4,"TV Category:"),s.qZA()(),s.TgZ(5,"ng-select",118),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"tvCat"))}),s.qZA(),s.YNc(6,qie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",119)(9,"b"),s._uU(10,"\u0641\u0626\u0629 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646:"),s.qZA()(),s.TgZ(11,"ng-select",120),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"tvCat"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.tvCat=r)}),s.qZA(),s.YNc(12,zie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.tvCat)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("tvCat"))&&i.invalid&&null!=(i=e.saveProductForm.get("tvCat"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.tvCat)("multiple",!1)("ngModel",e.Binds.tvCat)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("tvCat"))&&r.invalid&&null!=(r=e.saveProductForm.get("tvCat"))&&r.untouched))}}function $ie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * HD Technology is required! "),s.qZA())}function Wie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,$ie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("HDtech"))||null==i.errors?null:i.errors.required)}}function Yie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u062a\u0642\u0646\u064a\u0629 \u0625\u062a\u0634 \u062f\u064a \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function Kie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Yie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("HDtech"))||null==i.errors?null:i.errors.required)}}function Qie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",121)(3,"b"),s._uU(4,"HD Technology:"),s.qZA()(),s.TgZ(5,"ng-select",122),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"HDtech"))}),s.qZA(),s.YNc(6,Wie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",123)(9,"b"),s._uU(10,"\u062a\u0642\u0646\u064a\u0629 \u0625\u062a\u0634 \u062f\u064a:"),s.qZA()(),s.TgZ(11,"ng-select",124),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"HDtech"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.HDtech=r)}),s.qZA(),s.YNc(12,Kie,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.HDtech)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("HDtech"))&&i.invalid&&null!=(i=e.saveProductForm.get("HDtech"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.HDtech)("multiple",!1)("ngModel",e.Binds.HDtech)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("HDtech"))&&r.invalid&&null!=(r=e.saveProductForm.get("HDtech"))&&r.untouched))}}function Jie(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * TV Type is required! "),s.qZA())}function Xie(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,Jie,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("Type"))||null==i.errors?null:i.errors.required)}}function ere(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0646\u0648\u0639 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function tre(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,ere,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("Type"))||null==i.errors?null:i.errors.required)}}function nre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",125)(3,"b"),s._uU(4,"TV Type:"),s.qZA()(),s.TgZ(5,"ng-select",126),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"Type"))}),s.qZA(),s.YNc(6,Xie,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",127)(9,"b"),s._uU(10,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646:"),s.qZA()(),s.TgZ(11,"ng-select",128),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"Type"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.Type=r)}),s.qZA(),s.YNc(12,tre,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.Type)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("Type"))&&i.invalid&&null!=(i=e.saveProductForm.get("Type"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.Type)("multiple",!1)("ngModel",e.Binds.Type)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("Type"))&&r.invalid&&null!=(r=e.saveProductForm.get("Type"))&&r.untouched))}}function ire(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Motion Rate is required! "),s.qZA())}function rre(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,ire,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("motionRate"))||null==i.errors?null:i.errors.required)}}function sre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0645\u0639\u062f\u0644 \u0633\u0631\u0639\u0629 \u0627\u0644\u062d\u0631\u0643\u0629 \u0645\u0637\u0644\u0648\u0628 "),s.qZA())}function ore(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,sre,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("motionRate"))||null==i.errors?null:i.errors.required)}}function are(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",129)(3,"b"),s._uU(4,"Motion Rate:"),s.qZA()(),s.TgZ(5,"ng-select",130),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"motionRate"))}),s.qZA(),s.YNc(6,rre,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",131)(9,"b"),s._uU(10,"\u0645\u0639\u062f\u0644 \u0633\u0631\u0639\u0629 \u0627\u0644\u062d\u0631\u0643\u0629:"),s.qZA()(),s.TgZ(11,"ng-select",132),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"motionRate"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.motionRate=r)}),s.qZA(),s.YNc(12,ore,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.motionRate)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("motionRate"))&&i.invalid&&null!=(i=e.saveProductForm.get("motionRate"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.motionRate)("multiple",!1)("ngModel",e.Binds.motionRate)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("motionRate"))&&r.invalid&&null!=(r=e.saveProductForm.get("motionRate"))&&r.untouched))}}function lre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Display Type is required! "),s.qZA())}function cre(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,lre,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("displayType"))||null==i.errors?null:i.errors.required)}}function ure(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0634\u0629 \u0645\u0637\u0644\u0648\u0628! "),s.qZA())}function dre(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,ure,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("displayType"))||null==i.errors?null:i.errors.required)}}function hre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",133)(3,"b"),s._uU(4,"Display Type:"),s.qZA()(),s.TgZ(5,"ng-select",134),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"displayType"))}),s.qZA(),s.YNc(6,cre,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",135)(9,"b"),s._uU(10,"\u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0634\u0629:"),s.qZA()(),s.TgZ(11,"ng-select",136),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"displayType"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.displayType=r)}),s.qZA(),s.YNc(12,dre,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.displayType)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("displayType"))&&i.invalid&&null!=(i=e.saveProductForm.get("displayType"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.displayType)("multiple",!1)("ngModel",e.Binds.displayType)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("displayType"))&&r.invalid&&null!=(r=e.saveProductForm.get("displayType"))&&r.untouched))}}function fre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Card value is required! "),s.qZA())}function pre(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,fre,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("value"))||null==i.errors?null:i.errors.required)}}function gre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * \u0642\u064a\u0645\u0629 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0645\u0637\u0644\u0648\u0628\u0629! "),s.qZA())}function mre(n,t){if(1&n&&(s.TgZ(0,"div",51),s.YNc(1,gre,2,0,"small",52),s.qZA()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",null==(i=e.saveProductForm.get("value"))||null==i.errors?null:i.errors.required)}}function _re(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"label",137)(3,"b"),s._uU(4,"Card value:"),s.qZA()(),s.TgZ(5,"ng-select",138),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!0,"value"))}),s.qZA(),s.YNc(6,pre,2,1,"div",9),s.qZA(),s.TgZ(7,"div",10)(8,"label",139)(9,"b"),s._uU(10,"\u0642\u064a\u0645\u0629 \u0627\u0644\u0628\u0637\u0627\u0642\u0629:"),s.qZA()(),s.TgZ(11,"ng-select",140),s.NdJ("change",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeField(!1,"value"))})("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.Binds.value=r)}),s.qZA(),s.YNc(12,mre,2,1,"div",9),s.qZA()()}if(2&n){const e=s.oxw();let i,r;s.xp6(5),s.Q6J("items",e.value)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=(i=e.saveProductForm.get("value"))&&i.invalid&&null!=(i=e.saveProductForm.get("value"))&&i.untouched)),s.xp6(5),s.Q6J("items",e.value)("multiple",!1)("ngModel",e.Binds.value)("ngModelOptions",s.DdM(8,Ir)),s.xp6(1),s.Q6J("ngIf",!(null!=(r=e.saveProductForm.get("value"))&&r.invalid&&null!=(r=e.saveProductForm.get("value"))&&r.untouched))}}function yre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Add"),s.qZA())}function vre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Update"),s.qZA())}function bre(n,t){1&n&&(s.TgZ(0,"div",141)(1,"span",142),s._uU(2,"Loading..."),s.qZA()())}function wre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Added"),s.qZA())}function Cre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Updated"),s.qZA())}function Ere(n,t){if(1&n&&(s.TgZ(0,"div",143)(1,"h2"),s._uU(2,"Product has "),s.YNc(3,wre,2,0,"b",44),s.YNc(4,Cre,2,0,"ng-template",null,144,s.W1O),s._uU(6," succeccfully!"),s.qZA()()),2&n){const e=s.MAs(5),i=s.oxw();s.xp6(3),s.Q6J("ngIf",i.Add)("ngIfElse",e)}}let e5=(()=>{class n{constructor(e,i,r,o,a,u,h,p){this.activatedRoute=e,this.route=i,this.formBuilder=r,this.productService=o,this.CatService=a,this.BrandService=u,this.afAuth=h,this.adminService=p,this.Add=!1,this.updatedID=null,this.updatedProduct={},this.isload=!1,this.done=!1,this.catList=[],this.brandList=[],this.parentCat=null,this.childCatList=[],this.currentSpecificControls=[],this.currentSpecificControlsAR=[],this.currentAdmin={},this.Binds={processor:null,touchScreen:null,Ram:null,displaySize:null,OS:null,type:null,storage:null,graphicsMemory:null,color:null,rearCamera:null,connectivity:null,GPS:null,SIMCount:null,tvCat:null,HDtech:null,Type:null,displayType:null,motionRate:null,value:null,ProBrandName:null},this.processor=[{EN:"Intel Core i3",AR:"\u0627\u0646\u062a\u0644 \u0643\u0648\u0631 \u0622\u064a3"},{EN:"Intel Core i5",AR:"\u0627\u0646\u062a\u0644 \u0643\u0648\u0631 \u0622\u064a5"},{EN:"Intel Core i7",AR:"\u0627\u0646\u062a\u0644 \u0643\u0648\u0631 \u0622\u064a7"},{EN:"Intel\xae Core\u2122 i7 processor",AR:"\u0627\u0646\u062a\u0644 \u0643\u0648\u0631 \u062a\u064a \u0627\u0645 \u0622\u064a7 \u0645\u0639\u0627\u0644\u062c"},{EN:"Intel Core i9",AR:"\u0627\u0646\u062a\u0644 \u0643\u0648\u0631 \u0622\u064a9"},{EN:"Intel Celeron N4020",AR:"\u0627\u0646\u062a\u0644 \u0633\u064a\u0644\u064a\u0631\u0648\u0646 \u0627\u0646 \u0641\u0648\u0631 4020"},{EN:"Intel Celeron N4500",AR:"\u0627\u0646\u062a\u0644 \u0633\u064a\u0644\u064a\u0631\u0648\u0646 \u0627\u0646 \u0641\u0648\u0631 4500"},{EN:"Intel Pentium",AR:"\u0627\u0646\u062a\u0644 \u0628\u0627\u062a\u064a\u0646\u064a\u0648\u0645"},{EN:"M1",AR:"\u0625\u06451"},{EN:"M2",AR:"\u0625\u06452"},{EN:"M1 Pro",AR:"\u0625\u06451 \u0628\u0631\u0648"},{EN:"M1 Max",AR:"\u0625\u06451 \u0645\u0627\u0643\u0633"},{EN:"AMD Ryzen 7",AR:"\u0627\u0645\u062f \u0631\u064a\u0632\u0646 7"},{EN:"AMD Ryzen 5",AR:"\u0627\u0645\u062f \u0631\u064a\u0632\u0646 5"},{EN:"AMD Ryzen R5",AR:"\u0627\u0645\u062f \u0631\u064a\u0632\u0646 \u0622\u06315"},{EN:"AMD Ryzen 9",AR:"\u0627\u0645\u062f \u0631\u064a\u0632\u0646 9"},{EN:"Microsoft SQ1",AR:"\u0645\u064a\u0643\u0631\u0648\u0633\u0648\u0641\u062a \u0627\u0633 \u0643\u064a\u0648 1"},{EN:"A15 Bionic",AR:"\u0625\u064a15 \u0628\u064a\u0648\u0646\u064a\u0643"},{EN:"Embedded M12",AR:"\u0627\u0645\u0628\u064a\u062f\u064a\u062f \u0625\u064512"},{EN:"Quad Core",AR:"\u0643\u0648\u0627\u062f \u0643\u0648\u0631"},{EN:"A12X Bionic Chip",AR:"\u0625\u064a12 \u0628\u064a\u0648\u0646\u064a\u0643 \u0634\u064a\u0628"},{EN:"A13 Bionic chip",AR:"\u0625\u064a13 \u0628\u064a\u0648\u0646\u064a\u0643 \u0634\u064a\u0628"},{EN:"A10 Fusion Chip",AR:"\u0625\u064a10 \u0641\u064a\u0648\u0634\u0646 \u0634\u064a\u0628"},{EN:"M10",AR:"\u0625\u064510"},{EN:"4nm",AR:"\u0641\u0648\u0631 \u0625\u0646 \u0625\u0645"},{EN:"Apple M1 Chip",AR:"\u0623\u0628\u0644 \u0625\u06451 \u0634\u064a\u0628"},{EN:"Exynos 9611",AR:"\u0625\u0643\u0633\u064a\u0646\u0648\u0633 9611"},{EN:"Octa Core",AR:"\u0623\u0648\u0643\u062a\u0627 \u0643\u0648\u0631"},{EN:"Chipset MT8765",AR:"\u062a\u0634\u064a\u0628 \u0633\u064a\u062a \u0625\u0645 \u062a\u064a 8765"},{EN:"Dual Core",AR:"\u062f\u0648\u0627\u0644 \u0643\u0648\u0631"},{EN:"ARM Cortex A7",AR:"\u0625\u064a \u0622\u0631 \u0625\u0645 \u0643\u0648\u0631\u062a\u064a\u0643\u0633\u062a \u0625\u064a7"},{EN:"MTK MT8768",AR:"\u0625\u0645 \u062a\u064a \u0643\u064a \u0625\u0645 \u062a\u064a8768"},{EN:"MediaTek",AR:"\u0645\u064a\u062f\u064a\u0627 \u062a\u064a\u0643"},{EN:"MediaTek Helio G90T",AR:"\u0645\u064a\u062f\u064a\u0627 \u062a\u064a\u0643 \u0647\u064a\u0644\u064a\u0648 \u062c\u064a0 \u062a\u064a"},{EN:"MediaTek MT8765",AR:"\u0645\u064a\u062f\u064a\u0627 \u062a\u064a\u0643 \u0625\u0645 \u062a\u064a 8765"},{EN:"Kirin 710A",AR:"\u0643\u064a\u0631\u064a\u0646 710\u0625\u064a"},{EN:"Kirin 810",AR:"\u0643\u064a\u0631\u064a\u0646 810"},{EN:"Kirin 990",AR:"\u0643\u064a\u0631\u064a\u0646 990"},{EN:"Kirin 659",AR:"\u0643\u064a\u0631\u064a\u0646 659"},{EN:"Kirin 9000E",AR:"\u0643\u064a\u0631\u064a\u0646 9000\u0625\u064a"},{EN:"Kirin 960",AR:"\u0643\u064a\u0631\u064a\u0646 960"},{EN:"Qualcomm MSM",AR:"\u0643\u0648\u0627\u0644\u0643\u0648\u0645 \u0625\u0645 \u0625\u0633 \u0625\u0645"},{EN:"Qualcomm Snapdragon",AR:"\u0643\u0648\u0627\u0644\u0643\u0648\u0645 \u0633\u0646\u0627\u0628 \u062f\u0631\u0627\u062c\u0648\u0646"},{EN:"Qualcomm Snapdragon 865",AR:"\u0643\u0648\u0627\u0644\u0643\u0648\u0645 \u0633\u0646\u0627\u0628 \u062f\u0631\u0627\u062c\u0648\u0646 865"},{EN:"Qualcomm Snapdragon 730G",AR:"\u0643\u0648\u0627\u0644\u0643\u0645 \u0633\u0646\u0627\u0628 \u062f\u0631\u0627\u062c\u0648\u0646 730\u062c\u064a"}],this.Ram=[{EN:"-",AR:"-"},{EN:"2GB",AR:"2 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"4GB",AR:"4 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"8GB",AR:"8 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"12GB",AR:"12 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"16GB",AR:"16  \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"24GB",AR:"24 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"32GB",AR:"32 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"}],this.displaySize=[{EN:"6-inch",AR:"6 \u0628\u0648\u0635\u0629"},{EN:"6.4-inch",AR:"6.4 \u0628\u0648\u0635\u0629"},{EN:"6.9-inch",AR:"6.9 \u0628\u0648\u0635\u0629"},{EN:"7-inch",AR:"7 \u0628\u0648\u0635\u0629"},{EN:"7.9-inch",AR:"7.9 \u0628\u0648\u0635\u0629"},{EN:"8-inch",AR:"8 \u0628\u0648\u0635\u0629"},{EN:"8.3-inch",AR:"8.3 \u0628\u0648\u0635\u0629"},{EN:"8.5-inch",AR:"8.5 \u0628\u0648\u0635\u0629"},{EN:"8.7-inch",AR:"8.7 \u0628\u0648\u0635\u0629"},{EN:"9-inch",AR:"9 \u0628\u0648\u0635\u0629"},{EN:"9.6-inch",AR:"9.6 \u0628\u0648\u0635\u0629"},{EN:"9.7-inch",AR:"9.7 \u0628\u0648\u0635\u0629"},{EN:"10-inch",AR:"10 \u0628\u0648\u0635\u0629"},{EN:"10.0-inch",AR:"10.0 \u0628\u0648\u0635\u0629"},{EN:"10.1-inch",AR:"10.1 \u0628\u0648\u0635\u0629"},{EN:"10.2-inch",AR:"10.2 \u0628\u0648\u0635\u0629"},{EN:"10.3-inch",AR:"10.3 \u0628\u0648\u0635\u0629"},{EN:"10.4 inch",AR:"10.4 \u0628\u0648\u0635\u0629"},{EN:"10.5-inch",AR:"10.5 \u0628\u0648\u0635\u0629"},{EN:"10.8-inch",AR:"10.8 \u0628\u0648\u0635\u0629"},{EN:"10.9-inch",AR:"10.9 \u0628\u0648\u0635\u0629"},{EN:"11-inch",AR:"11 \u0628\u0648\u0635\u0629"},{EN:"11.6-inch",AR:"11.6 \u0628\u0648\u0635\u0629"},{EN:"12.3-inch",AR:"12.3 \u0628\u0648\u0635\u0629"},{EN:"12.4-inch",AR:"12.4 \u0628\u0648\u0635\u0629"},{EN:"12.6-inch",AR:"12.6 \u0628\u0648\u0635\u0629"},{EN:"12.9-inch",AR:"12.9 \u0628\u0648\u0635\u0629"},{EN:"13-inch",AR:"13 \u0628\u0648\u0635\u0629"},{EN:"13.3-inch",AR:"13.3 \u0628\u0648\u0635\u0629"},{EN:"13.5-inch",AR:"13.5 \u0628\u0648\u0635\u0629"},{EN:"13.6-inch",AR:"13.6 \u0628\u0648\u0635\u0629"},{EN:"13.9-inch",AR:"13.9 \u0628\u0648\u0635\u0629"},{EN:"14-inch",AR:"14 \u0628\u0648\u0635\u0629"},{EN:"14.1-inch",AR:"14.2-inch"},{EN:"14.4-inch",AR:"14.4 \u0628\u0648\u0635\u0629"},{EN:"14.6-inch",AR:"14.6 \u0628\u0648\u0635\u0629"},{EN:"15-inch",AR:"15 \u0628\u0648\u0635\u0629"},{EN:"15.4-inch",AR:"15.4 \u0628\u0648\u0635\u0629"},{EN:"15.6-inch",AR:"15.6 \u0628\u0648\u0635\u0629"},{EN:"16-inch",AR:"16 \u0628\u0648\u0635\u0629"},{EN:"16.2-inch",AR:"16.2 \u0628\u0648\u0635\u0629"},{EN:"17.3-inch",AR:"17.3 \u0628\u0648\u0635\u0629"},{EN:"19 inch",AR:"19 \u0628\u0648\u0635\u0629"},{EN:"24 inch",AR:"24 \u0628\u0648\u0635\u0629"},{EN:"32 inch",AR:"32 \u0628\u0648\u0635\u0629"},{EN:"40 inch",AR:"40 \u0628\u0648\u0635\u0629"},{EN:"43 inch",AR:"43 \u0628\u0648\u0635\u0629"},{EN:"47 inch",AR:"47 \u0628\u0648\u0635\u0629"},{EN:"48 inch",AR:"48 \u0628\u0648\u0635\u0629"},{EN:"49 inch",AR:"49 \u0628\u0648\u0635\u0629"},{EN:"50 inch",AR:"50 \u0628\u0648\u0635\u0629"},{EN:"55 inch",AR:"55 \u0628\u0648\u0635\u0629"},{EN:"58 inch",AR:"58 \u0628\u0648\u0635\u0629"},{EN:"60 inch",AR:"60 \u0628\u0648\u0635\u0629"},{EN:"65 inch",AR:"65 \u0628\u0648\u0635\u0629"},{EN:"70 inch",AR:"70 \u0628\u0648\u0635\u0629"},{EN:"75 inch",AR:"75 \u0628\u0648\u0635\u0629"},{EN:"77 inch",AR:"77 \u0628\u0648\u0635\u0629"},{EN:"82 inch",AR:"82 \u0628\u0648\u0635\u0629"},{EN:"83 inch",AR:"83 \u0628\u0648\u0635\u0629"},{EN:"85 inch",AR:"85 \u0628\u0648\u0635\u0629"},{EN:"86 inch",AR:"86 \u0628\u0648\u0635\u0629"},{EN:"98 inch",AR:"98 \u0628\u0648\u0635\u0629"},{EN:"100 inch",AR:"100 \u0628\u0648\u0635\u0629"}],this.OS=[{EN:"Mac OS",AR:"\u0645\u0627\u0643 \u0623\u0648 \u0625\u0633"},{EN:"Mac OS X",AR:"\u0645\u0627\u0643 \u0623\u0648 \u0625\u0633 \u0625\u0643\u0633"},{EN:"Microsoft DOS",AR:"\u0645\u064a\u0643\u0631\u0648\u0633\u0648\u0641\u062a \u062f\u0648\u0633"},{EN:"Windows 10",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 10"},{EN:"Windows 10 Pro",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 10 \u0628\u0631\u0648"},{EN:"Windows 10 Home",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 10 \u0647\u0648\u0645"},{EN:"Windows 10 S",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 10 \u0625\u0633"},{EN:"Windows 10 S mode",AR:"\u0648\u064a\u0646\u062f\u0648\u0633 10 \u0625\u0633 \u0645\u0648\u062f"},{EN:"Windows 11",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 11"},{EN:"Windows 11 Pro",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 11 \u0628\u0631\u0648"},{EN:"Windows 11 Home",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 11 \u0647\u0648\u0645"},{EN:"Windows 11 S",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 11 \u0625\u0633"},{EN:"Windows 11 S Mode",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 11 \u0625\u0633 \u0645\u0648\u062f"},{EN:"Windows 11 Home S Mode",AR:"\u0648\u064a\u0646\u062f\u0648\u0632 11 \u0647\u0648\u0645 \u0625\u0633 \u0645\u0648\u062f"},{EN:"iOS 10",AR:"\u0622\u064a \u0623\u0648 \u0625\u0633 10"},{EN:"iOS 12",AR:"\u0622\u064a \u0623\u0648 \u0625\u0633 12"},{EN:"iOS 13.0",AR:"\u0622\u064a \u0623\u0648 \u0625\u0633 13"},{EN:"IOS 14",AR:"\u0622\u064a \u0623\u0648 \u0625\u0633 14"},{EN:"iOS 15",AR:"\u0622\u064a \u0623\u0648 \u0625\u0633 15"},{EN:"IPadOS",AR:"\u0622\u064a\u0628\u0627\u062f \u0623\u0648 \u0625\u0633"},{EN:"iPadOS 14",AR:"\u0622\u064a\u0628\u0627\u062f \u0623\u0648 \u0625\u0633 14"},{EN:"iPadOS 15",AR:"\u0622\u064a\u0628\u0627\u062f \u0623\u0648 \u0625\u0633 15"},{EN:"iPadOS 15.3",AR:"\u0622\u064a\u0628\u0627\u062f \u0623\u0648 \u0625\u0633 15.3"},{EN:"Android",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f"},{EN:"Android OS",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f \u0623\u0648 \u0625\u0633"},{EN:"Android 7.0",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 7.0"},{EN:"Android 8.0",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 8.0"},{EN:"Android 8 Oreo",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 8 \u0623\u0648\u0631\u064a\u0648"},{EN:"Android 8.1",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 8.1"},{EN:"Android 8.1 Oreo",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 8.1 \u0623\u0648\u0631\u064a\u0648"},{EN:"Android 9",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 9"},{EN:"Android 9 GO",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 9 \u062c\u0648"},{EN:"Android 9.0 (Pie)",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 10 (\u0628\u0627\u064a)"},{EN:"Android 10",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 10"},{EN:"Android 10 pie",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 10 \u0628\u0627\u064a"},{EN:"Android 11",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 11"},{EN:"Android 11 Pie",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 11 \u0628\u0627\u064a"},{EN:"Android 11, One UI 3.1",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 11\u060c \u0648\u0646 \u064a\u0648 \u0622\u064a 3.1"},{EN:"Android 12",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f 12"},{EN:"Android Pie 12",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f \u0628\u0627\u064a 12"},{EN:"Android Oreo (Go edition)",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f \u0623\u0648\u0631\u064a\u0648 (\u0625\u0635\u062f\u0627\u0631 \u062c\u0648)"},{EN:"Android Lollipop 5.1",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f \u0644\u0648\u0644\u064a\u0628\u0648\u0628 5.1"},{EN:"Android Marshmallow 6.0",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f \u0645\u0627\u0631\u0634\u0645\u0627\u0644\u0648 6.0"},{EN:"Android Nougat 7.0",AR:"\u0623\u0646\u062f\u0631\u0648\u064a\u062f \u0646\u0648\u062c\u0627\u062a 7.0"},{EN:"EMUI 10.0.1",AR:"\u0625\u0645 \u064a\u0648 \u0622\u064a 10.0.1"},{EN:"EMUI 12",AR:"\u0625\u0645 \u064a\u0648 \u0622\u064a 12"},{EN:"Linux",AR:"\u0644\u064a\u0646\u0643\u0633"},{EN:"HarmonyOS 2",AR:"\u0647\u0627\u0631\u0645\u0648\u0646\u064a \u0623\u0648 \u0644\u0625\u0633 2"},{EN:"HarmonyOS 2.0",AR:"\u0647\u0627\u0631\u0645\u0648\u0646\u064a \u0623\u0648 \u0625\u0633 2.0"},{EN:"Proprietary OS",AR:"\u0628\u0631\u0648\u0628\u064a\u0631\u064a\u062a\u0627\u0631\u064a \u0623\u0648 \u0644\u0625\u0633"},{EN:"Series 30+",AR:"\u0633\u0644\u0633\u0644\u0629 +30"},{EN:"Nokia Series 30+",AR:"\u0633\u0644\u0633\u0644\u0629 \u0646\u0648\u0643\u064a\u0627 +30"}],this.type=[{EN:"Notebook",AR:"\u0646\u0648\u062a \u0628\u0648\u0643"},{EN:"Convertible",AR:"\u0642\u0627\u0628\u0644 \u0644\u0644\u062a\u062d\u0648\u064a\u0644"},{EN:"Gaming Laptop",AR:"\u0644\u0627\u0628\u062a\u0648\u0628 \u0644\u0644\u0627\u0644\u0639\u0627\u0628"},{EN:"MacBook",AR:"\u0645\u0627\u0643 \u0628\u0648\u0643"},{EN:"Ultrabook",AR:"\u0627\u0644\u062a\u0631\u0627 \u0628\u0648\u0643"},{EN:"iPhone SE",AR:"\u0622\u064a\u0641\u0648\u0646 \u0627\u0633 \u0625\u064a"},{EN:"iPhone 11",AR:" 11 \u0622\u064a\u0641\u0648\u0646"},{EN:"iPhone 11 Pro",AR:"\u0627\u064a\u0641\u0648\u0646 11 \u0628\u0631\u0648"},{EN:"iPhone 12",AR:"\u0627\u064a\u0641\u0648\u0646 12"},{EN:"iPhone 12 Pro",AR:"\u0627\u064a\u0641\u0648\u0646 12 \u0628\u0631\u0648"},{EN:"iPhone 12 Pro Max",AR:"\u0627\u064a\u0641\u0648\u0646 12 \u0628\u0631\u0648 \u0645\u0627\u0643\u0633"},{EN:"iPhone 13",AR:"\u0627\u064a\u0641\u0648\u0646 13"},{EN:"iPhone 13 mini",AR:"\u0627\u064a\u0641\u0648\u0646 13 \u0645\u0635\u063a\u0631"},{EN:"iPhone 13 Pro",AR:"\u0627\u064a\u0641\u0648\u0646 13 \u0628\u0631\u0648"},{EN:"iPhone 13 Pro Max",AR:"\u0627\u064a\u0641\u0648\u0646 13 \u0628\u0631\u0648 \u0645\u0627\u0643\u0633"},{EN:"Galaxy A03S",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0623\u064a \u0623\u0648 3 \u0627\u0633"},{EN:"Galaxy A32",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u064a 32"},{EN:"Galaxy A33",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u064a 33"},{EN:"Galaxy A52",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u064a 52"},{EN:"Galaxy A53",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u064a 53 "},{EN:"Galaxy A73",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u064a 73"},{EN:"Galaxy M12",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0645 12"},{EN:"Galaxy M13",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0645 13"},{EN:"Galaxy M22",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0645 22"},{EN:"Galaxy S9 Plus",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0633 9 \u0628\u0644\u0633"},{EN:"Galaxy S20+",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0633 20 \u0628\u0644\u0633"},{EN:"Galaxy S21 FE",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0633 21 \u0627\u0641 \u0625\u064a"},{EN:"Galaxy S22",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0633 22"},{EN:"Galaxy S22+",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0633 22 \u0628\u0644\u0633"},{EN:"Galaxy S22 Ultra",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0627\u0633 22 \u0627\u0644\u062a\u0631\u0627"},{EN:"Galaxy Z Flip",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0632\u064a\u062f \u0641\u0644\u064a\u0628"},{EN:"Galaxy Z Fold",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0632\u064a\u062f \u0641\u0648\u0644\u062f"},{EN:"Galaxy Note 10",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0646\u0648\u062a 10"},{EN:"Galaxy Note 20",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0646\u0648\u062a 20"},{EN:"Galaxy Note 20 Ultra",AR:"\u062c\u0627\u0644\u0627\u0643\u0633\u064a \u0646\u0648\u062a 20 \u0627\u0644\u062a\u0631\u0627"},{EN:"Redmi Note 11",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 11"},{EN:"Redmi Note 11S",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 11 \u0627\u0633"},{EN:"Redmi Note 10",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 10 "},{EN:"Redmi Note 10S",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 10"},{EN:"Redmi Note 10 Pro",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 10 \u0628\u0631\u0648"},{EN:"Redmi Note 11 Pro",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 11 \u0628\u0631\u0648"},{EN:"Redmi Note 11 Pro +",AR:"\u0631\u064a\u062f\u0645\u064a \u0646\u0648\u062a 11 \u0628\u0631\u0648"},{EN:"Redmi 10",AR:"\u0631\u064a\u062f\u0645\u064a 10"},{EN:"Redmi 10A",AR:"\u0631\u064a\u062f\u0645\u064a 10 \u0627\u064a"},{EN:"Redmi 9C",AR:"\u0631\u064a\u062f\u0645\u064a 9 \u0633\u064a"},{EN:"Redmi 10C",AR:"\u0631\u064a\u062f\u0645\u064a 10 \u0633\u064a"},{EN:"A03",AR:"\u0627\u064a \u0632\u064a\u0631\u0648 3"},{EN:"A5",AR:"\u0627\u064a 5"},{EN:"A13",AR:"\u0627\u064a 13"},{EN:"A55",AR:"\u0627\u064a 55"},{EN:"A77",AR:"\u0627\u064a 77"},{EN:"A95",AR:"\u0627\u064a 95"},{EN:"A96",AR:"\u0627\u064a 96"},{EN:"A16K",AR:"\u0627\u064a 16 \u0643"},{EN:"nova 8i",AR:"\u0646\u0648\u0641\u0627 8 \u0622\u064a"},{EN:"nova 9",AR:"\u0646\u0648\u0641\u0627 9"},{EN:"nova 9 SE",AR:"\u0646\u0648\u0641\u0627 9 \u0627\u0633 \u0625\u064a"},{EN:"nova Y70",AR:"\u0646\u0648\u0641\u0627 \u0648\u0627\u064a 70"},{EN:"Nord",AR:"\u0646\u0648\u0631\u062f"},{EN:"Nord 2",AR:"\u0646\u0648\u0631\u062f 2"},{EN:"Nord CE 2",AR:"\u0646\u0648\u0631\u062f \u0633\u064a \u0625\u064a 2"},{EN:"Nord 2T",AR:"\u0646\u0648\u0631\u062f 2 \u062a\u064a"},{EN:"Pixel 6",AR:" \u0628\u064a\u0643\u0633\u0644 6"},{EN:"Pixel 6 Pro",AR:"\u0628\u064a\u0643\u0633\u0644 6 \u0628\u0631\u0648"},{EN:"Moto E",AR:"\u0645\u0648\u062a\u0648 \u0625\u064a"},{EN:"Moto Edge 20",AR:"\u0645\u0648\u062a\u0648 \u0627\u064a\u062f\u062c 20"},{EN:"Moto Edge 30",AR:"\u0645\u0648\u062a\u0648 \u0627\u064a\u062f\u062c 30"},{EN:"Moto Edge 30 Pro",AR:"\u0645\u0648\u062a\u0648 \u0627\u064a\u062f\u062c 30 \u0628\u0631\u0648"},{EN:"Moto G",AR:"\u0645\u0648\u062a\u0648 \u062c\u0649"},{EN:"Moto G31",AR:"\u0645\u0648\u062a\u0648 \u062c\u064a 31"},{EN:"Moto G51",AR:"\u0645\u0648\u062a\u0648 \u062c\u064a 51"},{EN:"Moto G71",AR:"\u0645\u0648\u062a\u0648 \u062c\u064a 71"},{EN:"Moto G82",AR:"\u0645\u0648\u062a\u0648 \u062c\u064a 82"},{EN:"4 Pro",AR:"4 \u0628\u0631\u0648"},{EN:"7.1",AR:"7 \u0628\u0648\u064a\u0646\u062a 1"},{EN:"10 Pro",AR:"10 \u0628\u0631\u0648"},{EN:"11T Pro",AR:"11 \u062a\u064a \u0628\u0631\u0648"},{EN:"12",AR:"12"},{EN:"12 Pro",AR:"12 \u0628\u0631\u0648"},{EN:"20 R",AR:"20 \u0627\u0631"},{EN:"20 SE",AR:"20 \u0625\u0633 \u0625\u064a"},{EN:"20L+",AR:"20 \u0625\u0644 \u0628\u0644\u0633"},{EN:"106",AR:"106"},{EN:"110",AR:"110"},{EN:"104",AR:"104"},{EN:"105",AR:"105"},{EN:"130",AR:"130"},{EN:"150 TA-1253",AR:"150 \u062a\u064a \u0625\u064a-1253"},{EN:"305",AR:"305"},{EN:"Poco X3 GT",AR:"\u0628\u0648\u0643\u0648 \u0627\u0643\u0633 3 \u062c\u064a \u062a\u064a"},{EN:"Poco X4 GT 5G",AR:"\u0628\u0648\u0643\u0648 \u0627\u0643\u0633 4 \u062c\u064a \u062a\u064a 5 \u062c\u064a"},{EN:"Poco X4 Pro",AR:"\u0628\u0648\u0643\u0648 \u0627\u0643\u0633 4 \u0628\u0631\u0648"},{EN:"Poco F3",AR:"\u0628\u0648\u0643\u0648 \u0625\u0641 3"},{EN:"Poco F4 GT",AR:"\u0628\u0648\u0643\u0648 \u0625\u06414 \u062c\u064a \u062a\u064a"},{EN:"Poco M4 Pro",AR:"\u0628\u0648\u0643\u0648 \u0625\u06454 \u0628\u0631\u0648"},{EN:"C1",AR:"\u0633\u064a1"},{EN:"C20",AR:"\u0633\u064a20"},{EN:"C30",AR:"\u0633\u064a30"},{EN:"M32",AR:"\u0625\u064532"},{EN:"M33",AR:"\u0625\u064533"},{EN:"Mi 11 Lite",AR:"\u0625\u0645 \u0622\u064a 11 \u0644\u0627\u064a\u062a"},{EN:"Mi 11T Pro",AR:"\u0625\u0645 \u0622\u064a 11\u062a\u064a \u0628\u0631\u0648"},{EN:"E20",AR:"\u0625\u064a20"},{EN:"G10",AR:"\u062c\u064a10"},{EN:"G21",AR:"\u062c\u064a21"},{EN:"Y5P",AR:"\u0648\u0627\u064a 5 \u0628\u064a"},{EN:"Y6P",AR:"\u0648\u0627\u064a 6 \u0628\u064a"},{EN:"Y9a",AR:"\u0648\u0627\u064a 9 \u0627\u064a\u0647"},{EN:"Y15s",AR:"\u0648\u0627\u064a 15 \u0625\u0633"},{EN:"Y21",AR:"\u0648\u0627\u064a 21"},{EN:"Y21T",AR:"\u0648\u0627\u064a 21 \u062a\u064a"},{EN:"Y33s",AR:"\u0648\u0627\u064a 33 \u0625\u0633"},{EN:"Y55",AR:"\u0648\u0627\u064a 55"},{EN:"Y72",AR:"\u0648\u0627\u064a 72"},{EN:"Y76",AR:"\u0648\u0627\u064a 76"},{EN:"Y5 Lite",AR:"\u0648\u0627\u064a 5 \u0644\u0627\u064a\u062a"},{EN:"Y6 2019",AR:"\u0648\u0627\u064a 6 2019"},{EN:"P50",AR:"\u0628\u064a 50"},{EN:"P50 Pocket",AR:"\u0628\u064a 50 \u0628\u0648\u0643\u064a\u062a"},{EN:"P50 Pro",AR:"\u0628\u064a 50 \u0628\u0631\u0648"},{EN:"X70",AR:"\u0625\u0643\u0633 70"},{EN:"Mate XS 2",AR:"\u0645\u064a\u062a \u0625\u0643\u0633 \u0625\u0633 2"},{EN:"Oppo A16K",AR:"\u0623\u0648\u0628\u0648 \u0627\u064a\u0647 16 \u0643\u064a"},{EN:"V21",AR:"\u0641\u064a 21"},{EN:"Vivo Y20S",AR:"\u0641\u064a\u0641\u0648 \u0648\u0627\u064a 20\u0625\u0633"},{EN:"Reno7",AR:"\u0631\u064a\u0646\u06487"},{EN:"Reno7 Pro",AR:"\u0631\u064a\u0646\u0648 7 \u0628\u0631\u0648"},{EN:"Reno7 Z",AR:"\u0631\u064a\u0646\u06487 \u0632\u064a\u062f"},{EN:"iTunes",AR:"\u0622\u064a\u062a\u0648\u0646\u0632"},{EN:"GooglePlay",AR:"\u062c\u0648\u062c\u0644 \u0628\u0644\u0627\u064a"}],this.storage=[{EN:"4MB",AR:"4 \u0645\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"32MB",AR:"32 \u0645\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"4GB",AR:"4 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"8GB",AR:"8 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"16GB",AR:"16 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"32GB",AR:"32 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"64GB",AR:"64 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"128GB",AR:"128 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"256GB",AR:"256 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"256GB SSD",AR:"256 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"512GB",AR:"512 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"1TB",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a"},{EN:"2TB",AR:"2 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a"},{EN:"512 GB SSD",AR:"512 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"1TB SSD",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"256 GB SSD",AR:"256 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"128 GB SSD",AR:"128 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"1TB HDD",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a \u0625\u062a\u0634 \u062f\u064a \u062f\u064a"},{EN:"512GB SSD",AR:"512 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"1TB HDD,256 GB SSD",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a \u0625\u062a\u0634 \u062f\u064a \u062f\u064a\u060c 256 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"1TB HDD,128 GB SSD",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a \u0625\u062a\u0634 \u062f\u064a \u062f\u064a\u060c 128 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"1TB + 128GB SSD",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a + 128 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"1TB + 256GB SSD",AR:"1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a + 256 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u062f\u064a"},{EN:"256GB SSD, 1TB SSHD",AR:"256 \u0625\u0633 \u0625\u0633 \u062f\u064a\u060c 1 \u062a\u064a\u0631\u0627 \u0628\u0627\u064a\u062a \u0625\u0633 \u0625\u0633 \u0625\u062a\u0634 \u062f\u064a"}],this.graphicsMemory=[{EN:"-",AR:"-"},{EN:"Integrated",AR:"\u0645\u062f\u0645\u062c"},{EN:"2 GB",AR:"2 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"4 GB",AR:"4 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"6 GB",AR:"6 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"8 GB",AR:"8 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"12 GB",AR:"12 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"},{EN:"16 GB",AR:"16 \u062c\u064a\u062c\u0627 \u0628\u0627\u064a\u062a"}],this.color=[{EN:"Silver",AR:"\u0641\u0636\u064a"},{EN:"Black",AR:"\u0623\u0633\u0648\u062f"},{EN:"White",AR:"\u0623\u0628\u064a\u0636"},{EN:"Green",AR:"\u0623\u062e\u0636\u0631"},{EN:"Red",AR:"\u0623\u062d\u0645\u0631"},{EN:"Yellow",AR:"\u0623\u0635\u0641\u0631"},{EN:"Grey",AR:"\u0631\u0645\u0627\u062f\u064a"},{EN:"Brown",AR:"\u0628\u0646\u064a"},{EN:"Orange",AR:"\u0628\u0631\u062a\u0642\u0627\u0644\u064a"},{EN:"Purple",AR:"\u0628\u0646\u0641\u0633\u062c\u064a"},{EN:"Bronze",AR:"\u0628\u0631\u0648\u0646\u0632\u064a"},{EN:"Blue",AR:"\u0623\u0632\u0631\u0642"},{EN:"Aqua Blue",AR:"\u0623\u0632\u0631\u0642 \u0645\u0627\u0626\u064a"},{EN:"Pink",AR:"\u0628\u0645\u0628\u064a"},{EN:"Gold",AR:"\u0630\u0647\u0628\u064a"},{EN:"Rose Gold",AR:"\u0628\u0645\u0628\u064a \u0645\u0630\u0647\u0628"},{EN:"Platinum",AR:"\u0628\u0644\u0627\u062a\u064a\u0646\u064a"},{EN:"Multicolour",AR:"\u0645\u062a\u0639\u062f\u062f \u0627\u0644\u0623\u0644\u0648\u0627\u0646"}],this.connectivity=[{EN:"Wi-Fi Only",AR:"\u0648\u0627\u064a \u0641\u0627\u064a \u0641\u0642\u0637"},{EN:"4G LTE",AR:"4 \u062c\u064a  \u0625\u0644 \u062a\u064a \u0625\u064a"},{EN:"5G",AR:"5 \u062c\u064a"},{EN:"3G",AR:"3 \u062c\u064a"}],this.SIMCount=[{EN:"Dual SIM",AR:"\u064a\u062f\u0639\u0645 \u0634\u0631\u064a\u062d\u062a\u064a\u0646"},{EN:"Single SIM",AR:"\u0634\u0631\u064a\u062d\u0629 \u0648\u0627\u062d\u062f\u0629"}],this.tvCat=[{EN:"LED",AR:"\u0641\u0627\u0626\u0642\u0629 \u0627\u0644\u0648\u0636\u0648\u062d"},{EN:"QLED",AR:"\u0643\u064a\u0648 \u0627\u0644 \u0627\u064a \u062f\u064a"},{EN:"Gaming",AR:"\u0644\u0644\u0623\u0644\u0639\u0627\u0628"},{EN:"OLED",AR:"\u0627\u0648 \u0627\u0644 \u0627\u064a \u062f\u064a"}],this.HDtech=[{EN:"Ultra HD : 2160p",AR:"\u0641\u0627\u0626\u0642 \u0627\u0644\u0648\u0636\u0648\u062d: 2160 \u0628\u0643\u0633\u0644"},{EN:"4K",AR:"4 \u0643\u064a"},{EN:"4K Ultra HD (UHD)",AR:"\u0641\u0627\u0626\u0642 \u0627\u0644\u0648\u0636\u0648\u062d 4 \u0643\u064a"},{EN:"4K HDR",AR:"\u0646\u0637\u0627\u0642 \u062f\u064a\u0646\u0627\u0645\u064a\u0643\u064a \u0639\u0627\u0644\u064a 4 \u0643\u064a"},{EN:"Full HD",AR:"\u0643\u0627\u0645\u0644 \u0627\u0644\u0648\u0636\u0648\u062d"},{EN:"8K",AR:"8 \u0643\u064a"},{EN:"HD",AR:"\u0639\u0627\u0644\u064a \u0627\u0644\u0648\u0636\u0648\u062d"},{EN:"HD : 720p",AR:"\u0639\u0627\u0644\u064a \u0627\u0644\u0648\u0636\u0648\u062d: 720 \u0628\u0643\u0633\u0644"},{EN:"Full HD : 1080p",AR:"\u0643\u0627\u0645\u0644 \u0627\u0644\u0648\u0636\u0648\u062d \u0628\u062f\u0642\u0629 1080 \u0628\u0643\u0633\u0644"},{EN:"8K HDR",AR:"8 \u0643\u064a \u0625\u062a\u0634 \u062f\u064a \u0622\u0631"}],this.Type=[{EN:"Smart",AR:"\u0630\u0643\u064a"},{EN:"Standard",AR:"\u0639\u0627\u062f\u064a"}],this.displayType=[{EN:"-",AR:"-"},{EN:"2D",AR:"\u062b\u0646\u0627\u0626\u064a \u0627\u0644\u0623\u0628\u0639\u0627\u062f"},{EN:"3D",AR:"\u062b\u0644\u0627\u062b\u064a \u0627\u0644\u0623\u0628\u0639\u0627\u062f"}],this.rearCamera=[{EN:"2 Megapixels",AR:"2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"0.3 Megapixels",AR:"0.3 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"5 Megapixels",AR:"5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"8 Megapixels",AR:"8 \u0645\u064a\u062c\u0627 \u0628\u0643\u0633\u0644"},{EN:"12 Megapixels",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"13 Megapixels",AR:"13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"13+2 Megapixels",AR:"13+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"48MP + 8MP + 5MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12MP + 2MP + 2MP",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12MP + 12MP + 64MP",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64+8+5+2MP",AR:"64+8+5+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12 + 5 Megapixels",AR:"12+5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12MP + 12MP + 16MP",AR:""},{EN:"64MP+ 8MP + 2MP+ 2MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"8+2MP",AR:"8+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 8MP + 2MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 8MP + 13MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644+ 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 64MP + 40MP + 13MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 40 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50+13+12 MP",AR:"50+13+12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"48MP + 8MP + 2MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"13+5+2MP",AR:"13+5+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"48MP + 2MP + 2MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"40MP + 32MP + 13MP",AR:"40 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 32 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"40MP + 12MP + 12MP",AR:"40 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"16/48MP+ 5MP + 2MP + 2MP",AR:"16/48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"108MP + 16MP + 8MP",AR:"108 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 16 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP+12MP+12MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP + 8MP + 8MP + 2MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP+50MP+50MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 2MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644+ 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 48MP + 12MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 13MP + 5MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"48.0 MP + 5.0 MP + 2.0 MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 +  \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12MP+ 108MP+12MP",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 108 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP + 8MP + 5MP + 5MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP + 8MP + 5MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 12MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 +"},{EN:"48MP + 8MP + 5MP + 2MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"108+8+5+2MP",AR:"108+8+5+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"48MP + 5MP + 2MP + 2MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP + 8MP + 5MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 5MP + 2MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"48 MP + 8 MP + 2 MP + 2 MP",AR:"48 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50.0 MP + 5.0 MP + 2.0 MP + 2.0 MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP + 8MP + 2MP + 2MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12 MP + 12 MP + 8MP",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"VGA",AR:"\u0641\u064a \u062c\u064a \u0627\u064a\u0647"},{EN:"108+8+2+2 MP",AR:"108+8+2+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 2MP + 2MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"108MP + 8MP + 5MP",AR:"108 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64+8+2MP",AR:"64+8+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64+12+5+5MP",AR:"64+12+5+5 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"64MP + 8MP + 2MP",AR:"64 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 8 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50+8+2 MP",AR:"50+8+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"108+10+12+10 MP",AR:"108+10+12+10 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50+8+2+2MP",AR:"50+8+2+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"13MP + 2MP + 2MP",AR:"13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"108+8+2 MP",AR:"108+8+2 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"50MP + 10MP + 12MP",AR:"50 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 10 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12 Megapixels + 12 Megapixels",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12MP + 12MP + 12MP",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"12 MP + 10 MP",AR:"12 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 10 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"13.0 MP + 6.0 MP",AR:"13 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644 + 6 \u0645\u064a\u062c\u0627\u0628\u0643\u0633\u0644"},{EN:"No Primary Camera",AR:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0643\u0627\u0645\u064a\u0631\u0627 \u0623\u0633\u0627\u0633\u064a\u0629"}],this.motionRate=[{EN:"60 Hz",AR:"60 \u0647\u064a\u0631\u062a\u0632"},{EN:"50/60 Hz",AR:"50/60 \u0647\u064a\u0631\u062a\u0632"},{EN:"50 Hz",AR:"50 \u0647\u064a\u0631\u062a\u0632"},{EN:"120 Hz",AR:"120 \u0647\u064a\u0631\u062a\u0632"},{EN:"100 Hz",AR:"100 \u0647\u064a\u0631\u062a\u0632"},{EN:"200 Hz",AR:"200 \u0647\u064a\u0631\u062a\u0632"},{EN:"240 Hz",AR:"240 \u0647\u064a\u0631\u062a\u0632"},{EN:"100+",AR:"+100"}],this.value=[{EN:"-",AR:"-"},{EN:"2 USD",AR:"2 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"3 USD",AR:"3 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"4 USD",AR:"4 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"5 USD",AR:"5 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"10 USD",AR:"10 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"15 USD",AR:"15 \u064a"},{EN:"20 USD",AR:"20 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"25 USD",AR:"25 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"30 USD",AR:"30 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"35 USD",AR:"35 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"40 USD",AR:"40 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"45 USD",AR:"45 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"50 USD",AR:"50 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"60 USD",AR:"60 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"70 USD",AR:"70 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"75 USD",AR:"75 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"100 USD",AR:"100 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"150 USD",AR:"150 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"200 USD",AR:"200 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"250 USD",AR:"250 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"300 USD",AR:"300 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"400 USD",AR:"400 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"450 USD",AR:"450 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"500 USD",AR:"500 \u062f\u0648\u0644\u0627\u0631 \u0623\u0645\u0631\u064a\u0643\u064a"},{EN:"10 GBP",AR:"10 \u062c\u0646\u064a\u0647 \u0627\u0633\u062a\u0631\u0644\u064a\u0646\u064a"},{EN:"25 GBP",AR:"25 \u062c\u0646\u064a\u0647 \u0627\u0633\u062a\u0631\u0644\u064a\u0646\u064a"},{EN:"35 GBP",AR:"35 \u062c\u0646\u064a\u0647 \u0627\u0633\u062a\u0631\u0644\u064a\u0646\u064a"},{EN:"5 KD",AR:"5 \u062f\u064a\u0646\u0627\u0631 \u0643\u0648\u064a\u062a\u064a"},{EN:"10 KD",AR:"10 \u062f\u064a\u0646\u0627\u0631 \u0643\u0648\u064a\u062a\u064a"},{EN:"20 KD",AR:"20 \u062f\u064a\u0646\u0627\u0631 \u0643\u0648\u064a\u062a\u064a"},{EN:"30 KD",AR:"30 \u062f\u064a\u0646\u0627\u0631 \u0643\u0648\u064a\u062a\u064a"}],this.dk=[{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""}],this.d=[{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""}],this.a=[{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""},{EN:"",AR:""}],this.saveProductForm=r.group({ProName:["",[ut.required,ut.minLength(5)]],ProNameAR:["",[ut.required,ut.minLength(5)]],ProBrandName:[,[ut.required,ut.minLength(2)]],ProBrandNameAR:[,[ut.required,ut.minLength(2)]],ProDescription:["",[ut.required,ut.minLength(8)]],ProDescriptionAR:["",[ut.required,ut.minLength(8)]],ProQuantity:["",[ut.required]],ProPrice:["",[ut.required]],ProDiscount:["",[ut.required]],ProImages:r.array([["",[]]]),ProSku:["",[ut.required,ut.pattern("[0-9]{6}")]],ProCatName:[this.subCat,[ut.required]],ProCatNameAR:[this.subCat,[ut.required]]},{validators:[this.BrandLangValidator()]})}ngOnInit(){this.afAuth.onAuthStateChanged(e=>{this.adminService.getCurrentAdmin(e?.uid).subscribe(i=>{this.currentAdmin={...i}})}),this.CatService.getAllCat().snapshotChanges().subscribe(e=>{this.catList=e.map(i=>({...i.payload.doc.data(),id:i.payload.doc.id}))}),this.BrandService.getAllBrands().subscribe(e=>{this.brandList=e.map(i=>({name:i.payload.doc.data().name,nameAR:i.payload.doc.data().nameAR}))}),this.activatedRoute.paramMap.subscribe(e=>{e.get("id")?(this.Add=!1,this.updatedID=e.get("id"),this.productService.getByID(this.updatedID).subscribe(i=>{this.updatedProduct=i;for(let r=0;r<i.images.length-1;r++)this.addNewProductImg();console.log(i.categoryName),this.changeSubCat(i.categoryName).then(()=>{console.log("in thin"),this.saveProductForm.patchValue({ProName:i.name,ProNameAR:i.nameAR,ProBrandName:i.brandName,ProBrandNameAR:i.brandNameAR,ProDescription:i.description,ProDescriptionAR:i.descriptionAR,ProQuantity:i.quantity,ProPrice:i.price,ProDiscount:i.discount,ProSku:i.sku,ProCatName:i.categoryName,ProCatNameAR:i.categoryNameAR,touchScreen:i.touchScreen,processor:i.processor,Ram:i.Ram,displaySize:i.displaySize,OS:i.OS,type:i.type,storage:i.storage,graphicsMemory:i.graphicsMemory,color:i.color,rearCamera:i.rearCamera,connectivity:i.connectivity,GPS:i.GPS,SIMCount:i.SIMCount,tvCat:i.tvCat,HDtech:i.HDtech,Type:i.Type,displayType:i.displayType,motionRate:i.motionRate,value:i.value,touchScreenAR:i.touchScreenAR,processorAR:i.processorAR,RamAR:i.RamAR,displaySizeAR:i.displaySizeAR,OSAR:i.OSAR,typeAR:i.typeAR,storageAR:i.storageAR,graphicsMemoryAR:i.graphicsMemoryAR,colorAR:i.colorAR,rearCameraAR:i.rearCameraAR,connectivityAR:i.connectivityAR,GPSAR:i.GPSAR,SIMCountAR:i.SIMCountAR,tvCatAR:i.tvCatAR,HDtechAR:i.HDtechAR,TypeAR:i.TypeAR,displayTypeAR:i.displayTypeAR,motionRateAR:i.motionRateAR,valueAR:i.valueAR}),this.Binds={...this.Binds,processor:i.processorAR,touchScreen:i.touchScreenAR,Ram:i.RamAR,displaySize:i.displaySizeAR,OS:i.OSAR,type:i.typeAR,storage:i.storageAR,graphicsMemory:i.graphicsMemoryAR,color:i.colorAR,rearCamera:i.rearCameraAR,connectivity:i.connectivityAR,GPS:i.GPSAR,SIMCount:i.SIMCountAR,tvCat:i.tvCatAR,HDtech:i.HDtechAR,Type:i.TypeAR,displayType:i.displayTypeAR,motionRate:i.motionRateAR,value:i.valueAR}}).catch(r=>{console.log(r)})}),this.ProCategoryPro?.removeValidators([ut.required]),this.ProCategoryProAR?.removeValidators([ut.required])):(this.Add=!0,this.updatedID=null,this.ProImgsPro.controls[0].addValidators([ut.required]))})}get ProNamePro(){return this.saveProductForm.get("ProName")}get ProNameProAR(){return this.saveProductForm.get("ProNameAR")}get ProBrandPro(){return this.saveProductForm.get("ProBrandName")}get ProBrandProAR(){return this.saveProductForm.get("ProBrandNameAR")}get ProDescriptionPro(){return this.saveProductForm.get("ProDescription")}get ProDescriptionProAR(){return this.saveProductForm.get("ProDescriptionAR")}get ProQuantityPro(){return this.saveProductForm.get("ProQuantity")}get ProPricePro(){return this.saveProductForm.get("ProPrice")}get ProDiscountPro(){return this.saveProductForm.get("ProDiscount")}get ProImgsPro(){return this.saveProductForm.get("ProImages")}get ProSKUPro(){return this.saveProductForm.get("ProSku")}get ProCategoryPro(){return this.saveProductForm.get("ProCatName")}get ProCategoryProAR(){return this.saveProductForm.get("ProCatNameAR")}get ProImgsDescriptionPro(){return this.saveProductForm.get("ProImgsDescription")}addNewProductImg(){this.ProImgsPro.push(this.formBuilder.control("",this.Add?[ut.required]:[]))}removeProductImg(e){this.ProImgsPro.removeAt(e),this.Add||this.updatedProduct.images.splice(e,1)}BrandLangValidator(){return e=>{let i=e.get("ProBrandName"),r=e.get("ProBrandNameAR");return r?.untouched&&i?.untouched||!r?.value||!i?.value?null:r?.value!=i?.value?{brandsLang:!0}:null}}changeCat(){this.childCatList=[],this.catList.find(e=>e.id==this.parentCat?.id)?.subcollections.forEach(e=>{this.childCatList?.push(e)})}changeSubCat(e){return console.log(e,"in fun"),new Promise(i=>{this.currentSpecificControls.forEach(r=>{this.saveProductForm.removeControl(r)}),this.currentSpecificControlsAR.forEach(r=>{this.saveProductForm.removeControl(r)}),this.ProCategoryPro?.setValue(this.Add?this.subCat?this.subCat.EN:null:e),this.ProCategoryProAR?.setValue(this.Add?this.subCat?this.subCat.AR:null:e),console.log(this.subCat),(this.subCat||e)&&this.CatService.getSubCategory(this.Add?this.subCat.EN:e).subscribe(r=>{let o=r[0].payload.doc.data();this.currentSpecificControls=o.attributes,this.currentSpecificControlsAR=o.attributesAR,this.currentSpecificControls.forEach(a=>{this.saveProductForm.addControl(a,this.formBuilder.control(null,[ut.required]))}),this.currentSpecificControlsAR.forEach(a=>{this.saveProductForm.addControl(a,this.formBuilder.control(null,[ut.required]))}),i()})})}changeField(e,i){e?this.Binds[i]=this.saveProductForm.get(i)?.value:this.saveProductForm.get(i)?.setValue(this.Binds[i]),this.saveProductForm.get(i)?.setValue(this.Binds[i]?this.Binds[i].EN:null),this.saveProductForm.get(`${i}AR`)?.setValue(this.Binds[i]?this.Binds[i].AR:null)}channgBoolianFormLang(e){this.saveProductForm.get(e+"AR")?.setValue(this.saveProductForm.get(e)?.value?"\u0645\u062a\u0648\u0641\u0631":"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631")}SaveProduct(){this.isload=!0;let e=[];this.ProImgsPro.controls.forEach((r,o)=>{let a=document.getElementById("proImg-"+o)?.files[0];e.push(this.Add?a:a||this.updatedProduct.images[o])});let i={name:this.ProNamePro?.value,nameAR:this.ProNameProAR?.value,brandName:this.ProBrandPro?.value.name?this.ProBrandPro?.value.name:this.ProBrandPro?.value,brandNameAR:this.ProBrandProAR?.value.nameAR?this.ProBrandProAR?.value.nameAR:this.ProBrandProAR?.value,description:this.ProDescriptionPro?.value,descriptionAR:this.ProDescriptionProAR?.value,quantity:this.ProQuantityPro?.value,price:this.ProPricePro?.value,discount:this.ProDiscountPro?.value,images:e,sku:this.ProSKUPro?.value,categoryName:this.ProCategoryPro?.value,categoryNameAR:this.ProCategoryProAR?.value,seller:"X-Cite",sellerAR:"\u0627\u0643\u0633\u0633\u0627\u064a\u062a",AddedBy:this.Add?this.currentAdmin.name:this.updatedProduct.AddedBy};this.currentSpecificControls.forEach(r=>{Object.defineProperty(i,r,{value:this.saveProductForm.get(r)?.value,enumerable:!0})}),this.currentSpecificControlsAR.forEach(r=>{Object.defineProperty(i,r,{value:this.saveProductForm.get(r)?.value,enumerable:!0})}),console.log(i),this.Add?this.productService.addNewPrd(i).then(r=>{console.log(r),this.Saved(r)}):this.productService.updatePrd(i,this.updatedID,this.updatedProduct).then(()=>{this.Saved()})}Saved(e){console.log("in save"),this.isload=!1,this.done=!0,this.saveProductForm.reset(),setTimeout(()=>{this.route.navigate(this.Add?[`/Product/${e}`]:[`/Product/${this.updatedID}`])},3e3)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vr),s.Y36(Hn),s.Y36(s0),s.Y36(dE),s.Y36(hE),s.Y36(lE),s.Y36(vl),s.Y36($m))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-update-product"]],decls:124,vars:76,consts:[["class","text-start mb-0",4,"ngIf","ngIfElse"],["update",""],[1,"w-75","mx-auto","mb-5","px-5","pb-4","pt-1","mt-3"],[3,"formGroup"],["class","mb-4 text-center",4,"ngIf"],[1,"mb-4","d-flex","flex-wrap"],[1,"col-lg-6","col-12","pe-lg-2","pe-0"],["for","proName",1,"form-label","fs-7"],["type","text","name","productName","id","proName","formControlName","ProName","placeholder","Enter Product Name ..",1,"form-control","input","shadow"],["class","text-danger",4,"ngIf"],["dir","rtl",1,"col-lg-6","col-12","ps-lg-2","ps-0"],["for","proNamear",1,"form-label","fs-7"],["type","text","name","productNamear","id","proNamear","formControlName","ProNameAR","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c ...",1,"form-control","input","shadow"],["for","discription",1,"form-label","fs-7"],["type","text","name","discription","id","discription","formControlName","ProDescription","placeholder","Enter Product Description ..",1,"form-control","input","shadow"],["for","discriptionar",1,"form-label","fs-7"],["type","text","name","discriptionar","id","discriptionar","formControlName","ProDescriptionAR","placeholder","\u0623\u062f\u062e\u0644 \u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c ..",1,"form-control","input","shadow"],["for","bName",1,"form-label","fs-7"],["id","bName","bindLabel","name","placeholder","Select Brand Name","appendTo","body","formControlName","ProBrandName",1,"shadow",3,"items","multiple"],["id","bName","bindLabel","nameAR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629","appendTo","body","formControlName","ProBrandNameAR",1,"shadow",3,"items","multiple"],[1,"mb-4"],[1,"d-flex","justify-content-between"],["for","quantity",1,"form-label","fs-7"],["for","quantity","dir","rtl",1,"form-label","fs-7"],["type","number","min","1","name","quantity","id","quantity","formControlName","ProQuantity","placeholder","Enter Product Quantity ..",1,"form-control","input","shadow"],["for","price",1,"form-label","fs-7"],["for","price","dir","rtl",1,"form-label","fs-7"],["type","number","min","1","name","price","id","price","formControlName","ProPrice","placeholder","Enter Product price ..",1,"form-control","input","shadow"],["for","discount",1,"form-label","fs-7"],["for","discount","dir","rtl",1,"form-label","fs-7"],["type","number","min","0","name","discount","id","discount","formControlName","ProDiscount","placeholder","Enter Product Discount ..",1,"form-control","input","shadow"],["for","sku",1,"form-label","fs-7"],["for","sku","dir","rtl",1,"form-label","fs-7"],["type","text","name","sku","id","sku","formControlName","ProSku","placeholder","Enter Product SKU ..",1,"form-control","input","shadow"],["formArrayName","ProImages",1,"mb-4"],["for","proImgs",1,"form-label","fs-7"],["for","proImgs","dir","rtl",1,"form-label","fs-7"],["class","mb-3",4,"ngFor","ngForOf"],["class","mb-4 d-flex flex-wrap",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"my-3"],[1,"mt-5","mx-2","mb-2"],[1,"text-center","d-flex","justify-content-center","mb-5"],[1,"btn","submitbtn","px-5",3,"disabled","click"],[4,"ngIf","ngIfElse"],["upd",""],["class","spinner-border text-warning ms-4","role","status",4,"ngIf"],["class","text-dark ms-4",4,"ngIf"],[1,"text-start","mb-0"],[1,"fa-solid","fa-pen-to-square","fs-3","m-3"],[1,"mb-4","text-center"],[1,"text-danger"],[4,"ngIf"],["dir","rtl",4,"ngIf"],["dir","rtl"],[1,"mb-3"],[1,"d-flex"],["type","file","placeholder","Img ..",1,"form-control","input","shadow",3,"name","id","formControlName"],[1,"btn","offerbtn",3,"disabled","click"],[1,"btn","offerbtn",3,"click"],["for","proCat",1,"form-label","fs-7"],["bindLabel","name","placeholder","Select Category","appendTo","body",1,"shadow","mb-2",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["bindLabel","EN","placeholder","Select subcategory","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["bindLabel","nameAR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0641\u0626\u0629","appendTo","body",1,"shadow","mb-2",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u0641\u0631\u0639\u064a\u0629","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","processor",1,"form-label","fs-7"],["id","processor","bindLabel","EN","placeholder","Select Processor","appendTo","body","formControlName","processor",1,"shadow",3,"items","multiple","change"],["for","processorAR",1,"form-label","fs-7"],["id","processorAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0645\u0639\u0627\u0644\u062c","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","Ram",1,"form-label","fs-7"],["id","Ram","bindLabel","EN","placeholder","Select Ram","appendTo","body","formControlName","Ram",1,"shadow",3,"items","multiple","change"],["for","RamAR",1,"form-label","fs-7"],["id","RamAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0631\u0627\u0645","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","DisplaySize",1,"form-label","fs-7"],["id","DisplaySize","bindLabel","EN","placeholder","Select Display Size","appendTo","body","formControlName","displaySize",1,"shadow",3,"items","multiple","change"],["for","DisplaySizeAR",1,"form-label","fs-7"],["id","DisplaySizeAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u062d\u062c\u0645 \u0627\u0644\u0634\u0627\u0634\u0629","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","OS",1,"form-label","fs-7"],["id","OS","bindLabel","EN","placeholder","Select Operating System","appendTo","body","formControlName","OS",1,"shadow",3,"items","multiple","change"],["for","OSAR",1,"form-label","fs-7"],["id","OSAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0646\u0638\u0627\u0645 \u0627\u0644\u062a\u0634\u063a\u064a\u0644","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","type",1,"form-label","fs-7"],["id","type","bindLabel","EN","placeholder","Select Type","appendTo","body","formControlName","type",1,"shadow",3,"items","multiple","change"],["for","typeAR",1,"form-label","fs-7"],["id","typeAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0646\u0648\u0639","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","Storage",1,"form-label","fs-7"],["id","Storage","bindLabel","EN","placeholder","Select Storage","appendTo","body","formControlName","storage",1,"shadow",3,"items","multiple","change"],["for","StorageAR",1,"form-label","fs-7"],["id","StorageAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0633\u0639\u0629 \u0627\u0644\u062a\u062e\u0632\u064a\u0646","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","GraphicsMemory",1,"form-label","fs-7"],["id","GraphicsMemory","bindLabel","EN","placeholder","Select Graphics Memory","appendTo","body","formControlName","graphicsMemory",1,"shadow",3,"items","multiple","change"],["for","GraphicsMemoryAR",1,"form-label","fs-7"],["id","GraphicsMemoryAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0633\u0639\u0629 \u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062c\u0631\u0627\u0641\u064a\u0643","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","Color",1,"form-label","fs-7"],["id","Color","bindLabel","EN","placeholder","Select Color","appendTo","body","formControlName","color",1,"shadow",3,"items","multiple","change"],["for","ColorAR",1,"form-label","fs-7"],["id","ColorAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0644\u0648\u0646","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","touchScreen",1,"form-label","fs-7"],["for","touchScreen","dir","rtl",1,"form-label","fs-7"],["id","touchScreen","placeholder","Select Touch Screen","appendTo","body","formControlName","touchScreen",1,"shadow",3,"items","multiple","change"],["class","text-danger d-flex justify-content-between",4,"ngIf"],[1,"text-danger","d-flex","justify-content-between"],["for","rearCamera",1,"form-label","fs-7"],["id","rearCamera","bindLabel","EN","placeholder","Select Rear Camera","appendTo","body","formControlName","rearCamera",1,"shadow",3,"items","multiple","change"],["for","rearCameraAR",1,"form-label","fs-7"],["id","rearCameraAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0643\u0627\u0645\u064a\u0631\u0627 \u0627\u0644\u062e\u0644\u0641\u064a\u0629","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","Connectivity",1,"form-label","fs-7"],["id","Connectivity","bindLabel","EN","placeholder","Select Connectivity","appendTo","body","formControlName","connectivity",1,"shadow",3,"items","multiple","change"],["for","ConnectivityAR",1,"form-label","fs-7"],["id","ConnectivityAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0627\u062a\u0635\u0627\u0644","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","SIMCount",1,"form-label","fs-7"],["id","SIMCount","bindLabel","EN","placeholder","Select SIM Count","appendTo","body","formControlName","SIMCount",1,"shadow",3,"items","multiple","change"],["for","SIMCountAR",1,"form-label","fs-7"],["id","SIMCountAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0639\u062f\u062f \u0627\u0644\u0634\u0631\u0627\u0626\u062d","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","GPS",1,"form-label","fs-7"],["for","GPS","dir","rtl",1,"form-label","fs-7"],["id","GPS","placeholder","Select GPS","appendTo","body","formControlName","GPS",1,"shadow",3,"items","multiple","change"],["for","tvCat",1,"form-label","fs-7"],["id","tvCat","bindLabel","EN","placeholder","Select TV Category","appendTo","body","formControlName","tvCat",1,"shadow",3,"items","multiple","change"],["for","tvCatAR",1,"form-label","fs-7"],["id","tvCatAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0641\u0626\u0629 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","HDtech",1,"form-label","fs-7"],["id","HDtech","bindLabel","EN","placeholder","Select HD Technology","appendTo","body","formControlName","HDtech",1,"shadow",3,"items","multiple","change"],["for","HDtechAR",1,"form-label","fs-7"],["id","HDtechAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u062a\u0642\u0646\u064a\u0629 \u0625\u062a\u0634 \u062f\u064a","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","Type",1,"form-label","fs-7"],["id","Type","bindLabel","EN","placeholder","Select TV Type","appendTo","body","formControlName","Type",1,"shadow",3,"items","multiple","change"],["for","TypeAR",1,"form-label","fs-7"],["id","TypeAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0646\u0648\u0639 \u0627\u0644\u062a\u0644\u0641\u0632\u064a\u0648\u0646","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","motionRate",1,"form-label","fs-7"],["id","motionRate","bindLabel","EN","placeholder","Select Motion Rate","appendTo","body","formControlName","motionRate",1,"shadow",3,"items","multiple","change"],["for","motionRateAR",1,"form-label","fs-7"],["id","motionRateAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0645\u0639\u062f\u0644 \u0633\u0631\u0639\u0629 \u0627\u0644\u062d\u0631\u0643\u0629","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","displayType",1,"form-label","fs-7"],["id","displayType","bindLabel","EN","placeholder","Select Display Type","appendTo","body","formControlName","displayType",1,"shadow",3,"items","multiple","change"],["for","displayTypeAR",1,"form-label","fs-7"],["id","displayTypeAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0634\u0629","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["for","value",1,"form-label","fs-7"],["id","value","bindLabel","EN","placeholder","Select value","appendTo","body","formControlName","value",1,"shadow",3,"items","multiple","change"],["for","valueAR",1,"form-label","fs-7"],["id","valueAR","bindLabel","AR","placeholder","\u062d\u062f\u062f \u0627\u0644\u0642\u064a\u0645\u0629","appendTo","body",1,"shadow",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],["role","status",1,"spinner-border","text-warning","ms-4"],[1,"visually-hidden"],[1,"text-dark","ms-4"],["up",""]],template:function(e,i){if(1&e&&(s.YNc(0,Lte,3,0,"h2",0),s.YNc(1,Ute,3,0,"ng-template",null,1,s.W1O),s.TgZ(3,"div",2)(4,"form",3),s.YNc(5,Bte,4,1,"div",4),s.TgZ(6,"div",5)(7,"div",6)(8,"label",7)(9,"b"),s._uU(10,"Product Name:"),s.qZA()(),s._UZ(11,"input",8),s.YNc(12,Zte,3,2,"div",9),s.qZA(),s.TgZ(13,"div",10)(14,"label",11)(15,"b"),s._uU(16,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c:"),s.qZA()(),s._UZ(17,"input",12),s.YNc(18,zte,3,2,"div",9),s.qZA()(),s.TgZ(19,"div",5)(20,"div",6)(21,"label",13)(22,"b"),s._uU(23,"Description:"),s.qZA()(),s._UZ(24,"input",14),s.YNc(25,Wte,3,2,"div",9),s.qZA(),s.TgZ(26,"div",10)(27,"label",15)(28,"b"),s._uU(29,"\u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c:"),s.qZA()(),s._UZ(30,"input",16),s.YNc(31,Qte,3,2,"div",9),s.qZA()(),s.TgZ(32,"div",5)(33,"div",6)(34,"label",17)(35,"b"),s._uU(36,"Brand Name:"),s.qZA()(),s._UZ(37,"ng-select",18),s.YNc(38,ene,3,2,"div",9),s.qZA(),s.TgZ(39,"div",10)(40,"label",17)(41,"b"),s._uU(42,"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"),s.qZA()(),s._UZ(43,"ng-select",19),s.YNc(44,ine,3,2,"div",9),s.qZA()(),s.TgZ(45,"div",20)(46,"div",21)(47,"label",22)(48,"b"),s._uU(49,"Quantity:"),s.qZA()(),s.TgZ(50,"label",23)(51,"b"),s._uU(52,"\u0627\u0644\u0643\u0645\u064a\u0629:"),s.qZA()()(),s._UZ(53,"input",24),s.YNc(54,lne,7,4,"div",9),s.qZA(),s.TgZ(55,"div",20)(56,"div",21)(57,"label",25)(58,"b"),s._uU(59,"Price:"),s.qZA()(),s.TgZ(60,"label",26)(61,"b"),s._uU(62,"\u0627\u0644\u0633\u0639\u0631:"),s.qZA()()(),s._UZ(63,"input",27),s.YNc(64,fne,7,4,"div",9),s.qZA(),s.TgZ(65,"div",20)(66,"div",21)(67,"label",28)(68,"b"),s._uU(69,"Discount:"),s.qZA()(),s.TgZ(70,"label",29)(71,"b"),s._uU(72,"\u0627\u0644\u062e\u0635\u0645:"),s.qZA()()(),s._UZ(73,"input",30),s.YNc(74,yne,7,4,"div",9),s.qZA(),s.TgZ(75,"div",20)(76,"div",21)(77,"label",31)(78,"b"),s._uU(79,"Product SKU:"),s.qZA()(),s.TgZ(80,"label",32)(81,"b"),s._uU(82,"\u0631\u0645\u0632 \u0627\u0644\u0645\u0627\u0633\u062d \u0627\u0644\u0636\u0648\u0626\u064a:"),s.qZA()()(),s._UZ(83,"input",33),s.YNc(84,Ene,7,4,"div",9),s.qZA(),s.TgZ(85,"div",34)(86,"div",21)(87,"label",35)(88,"b"),s._uU(89,"Images:"),s.qZA()(),s.TgZ(90,"label",36)(91,"b"),s._uU(92,"\u0635\u0648\u0631 \u0627\u0644\u0645\u0646\u062a\u062c:"),s.qZA()()(),s.YNc(93,Ine,8,13,"div",37),s.qZA(),s.YNc(94,Rne,15,22,"div",38),s.YNc(95,Lne,13,9,"div",38),s.YNc(96,Zne,13,9,"div",38),s.YNc(97,$ne,13,9,"div",38),s.YNc(98,Jne,13,9,"div",38),s.YNc(99,iie,13,9,"div",38),s.YNc(100,lie,13,9,"div",38),s.YNc(101,fie,13,9,"div",38),s.YNc(102,yie,13,9,"div",38),s.YNc(103,Cie,10,4,"div",39),s.YNc(104,Iie,13,9,"div",38),s.YNc(105,Rie,13,9,"div",38),s.YNc(106,Lie,13,9,"div",38),s.YNc(107,Hie,10,4,"div",39),s.YNc(108,Gie,13,9,"div",38),s.YNc(109,Qie,13,9,"div",38),s.YNc(110,nre,13,9,"div",38),s.YNc(111,are,13,9,"div",38),s.YNc(112,hre,13,9,"div",38),s.YNc(113,_re,13,9,"div",38),s.TgZ(114,"div",40),s._uU(115,"\xa0 "),s.qZA(),s._UZ(116,"hr",41),s.TgZ(117,"div",42)(118,"button",43),s.NdJ("click",function(){return i.SaveProduct()}),s.YNc(119,yre,2,0,"b",44),s.YNc(120,vre,2,0,"ng-template",null,45,s.W1O),s.qZA(),s.YNc(122,bre,3,0,"div",46),s.YNc(123,Ere,7,2,"div",47),s.qZA()()()),2&e){const r=s.MAs(2),o=s.MAs(121);s.Q6J("ngIf",i.Add)("ngIfElse",r),s.xp6(4),s.Q6J("formGroup",i.saveProductForm),s.xp6(1),s.Q6J("ngIf",!i.Add),s.xp6(6),s.ekj("is-valid",null==i.ProNamePro?null:i.ProNamePro.valid)("is-invalid",(null==i.ProNamePro?null:i.ProNamePro.invalid)&&(null==i.ProNamePro?null:i.ProNamePro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProNamePro&&i.ProNamePro.invalid&&null!=i.ProNamePro&&i.ProNamePro.untouched)),s.xp6(5),s.ekj("is-valid",null==i.ProNameProAR?null:i.ProNameProAR.valid)("is-invalid",(null==i.ProNameProAR?null:i.ProNameProAR.invalid)&&(null==i.ProNameProAR?null:i.ProNameProAR.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProNameProAR&&i.ProNameProAR.invalid&&null!=i.ProNameProAR&&i.ProNameProAR.untouched)),s.xp6(6),s.ekj("is-valid",null==i.ProDescriptionPro?null:i.ProDescriptionPro.valid)("is-invalid",(null==i.ProDescriptionPro?null:i.ProDescriptionPro.invalid)&&(null==i.ProDescriptionPro?null:i.ProDescriptionPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProDescriptionPro&&i.ProDescriptionPro.invalid&&null!=i.ProDescriptionPro&&i.ProDescriptionPro.untouched)),s.xp6(5),s.ekj("is-valid",null==i.ProDescriptionProAR?null:i.ProDescriptionProAR.valid)("is-invalid",(null==i.ProDescriptionProAR?null:i.ProDescriptionProAR.invalid)&&(null==i.ProDescriptionProAR?null:i.ProDescriptionProAR.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProDescriptionProAR&&i.ProDescriptionProAR.invalid&&null!=i.ProDescriptionProAR&&i.ProDescriptionProAR.untouched)),s.xp6(6),s.Q6J("items",i.brandList)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProBrandPro&&i.ProBrandPro.invalid&&null!=i.ProBrandPro&&i.ProBrandPro.untouched)),s.xp6(5),s.Q6J("items",i.brandList)("multiple",!1),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProBrandProAR&&i.ProBrandProAR.invalid&&null!=i.ProBrandProAR&&i.ProBrandProAR.untouched)),s.xp6(9),s.ekj("is-valid",null==i.ProQuantityPro?null:i.ProQuantityPro.valid)("is-invalid",(null==i.ProQuantityPro?null:i.ProQuantityPro.invalid)&&(null==i.ProQuantityPro?null:i.ProQuantityPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProQuantityPro&&i.ProQuantityPro.invalid&&null!=i.ProQuantityPro&&i.ProQuantityPro.untouched)),s.xp6(9),s.ekj("is-valid",null==i.ProPricePro?null:i.ProPricePro.valid)("is-invalid",(null==i.ProPricePro?null:i.ProPricePro.invalid)&&(null==i.ProPricePro?null:i.ProPricePro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProPricePro&&i.ProPricePro.invalid&&null!=i.ProPricePro&&i.ProPricePro.untouched)),s.xp6(9),s.ekj("is-valid",null==i.ProDiscountPro?null:i.ProDiscountPro.valid)("is-invalid",(null==i.ProDiscountPro?null:i.ProDiscountPro.invalid)&&(null==i.ProDiscountPro?null:i.ProDiscountPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProDiscountPro&&i.ProDiscountPro.invalid&&null!=i.ProDiscountPro&&i.ProDiscountPro.untouched)),s.xp6(9),s.ekj("is-valid",null==i.ProSKUPro?null:i.ProSKUPro.valid)("is-invalid",(null==i.ProSKUPro?null:i.ProSKUPro.invalid)&&(null==i.ProSKUPro?null:i.ProSKUPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.ProSKUPro&&i.ProSKUPro.invalid&&null!=i.ProSKUPro&&i.ProSKUPro.untouched)),s.xp6(9),s.Q6J("ngForOf",i.ProImgsPro.controls),s.xp6(1),s.Q6J("ngIf",i.Add),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("processor")&&i.saveProductForm.get("processorAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("Ram")&&i.saveProductForm.get("RamAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("displaySize")&&i.saveProductForm.get("displaySizeAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("OS")&&i.saveProductForm.get("OSAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("type")&&i.saveProductForm.get("typeAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("storage")&&i.saveProductForm.get("storageAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("graphicsMemory")&&i.saveProductForm.get("graphicsMemoryAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("color")&&i.saveProductForm.get("colorAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("touchScreen")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("rearCamera")&&i.saveProductForm.get("rearCameraAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("connectivity")&&i.saveProductForm.get("connectivityAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("SIMCount")&&i.saveProductForm.get("SIMCountAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("GPS")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("tvCat")&&i.saveProductForm.get("tvCatAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("HDtech")&&i.saveProductForm.get("HDtechAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("Type")&&i.saveProductForm.get("TypeAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("motionRate")&&i.saveProductForm.get("motionRateAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("displayType")&&i.saveProductForm.get("displayTypeAR")),s.xp6(1),s.Q6J("ngIf",i.saveProductForm.get("value")&&i.saveProductForm.get("valueAR")),s.xp6(5),s.Q6J("disabled",i.saveProductForm.invalid||i.isload),s.xp6(1),s.Q6J("ngIf",i.Add)("ngIfElse",o),s.xp6(3),s.Q6J("ngIf",i.isload),s.xp6(1),s.Q6J("ngIf",i.done)}},dependencies:[si,xn,K3,t0,Ic,n0,Sc,xp,zI,Ip,Ih,Sp,Ym,CO],styles:[".input[_ngcontent-%COMP%]::placeholder{font-size:.8rem;font-style:italic}.offerbtn[_ngcontent-%COMP%]{background-color:#001a2c;color:#fbc326;font-size:smaller}.submitbtn[_ngcontent-%COMP%]{background-color:#001a2c;color:#fbc326;font-size:medium}"]}),n})();function Are(n,t){if(1&n&&s._UZ(0,"img",15),2&n){const e=s.oxw().$implicit;s.s9C("src",e,s.LSH)}}function Tre(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Are,1,1,"img",14),s.BQk()),2&n){const e=t.index;s.xp6(1),s.Q6J("ngIf",e&&e<5)}}function xre(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"th",16),s._uU(2),s.qZA(),s.TgZ(3,"td",17),s._uU(4),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(2),s.Oqu(e),s.xp6(2),s.Oqu(i.targetProduct[e])}}let Ire=(()=>{class n{constructor(e,i,r,o){this.activatedRoute=e,this.productService=i,this.route=r,this.catService=o,this.targetProductID="",this.targetProduct={},this.attributes=[]}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{this.targetProductID=e.get("id")?e.get("id"):"",this.targetProductID&&this.productService.getByID(this.targetProductID).subscribe(i=>{this.targetProduct=i,this.catService.getSubCategory(i.categoryName).subscribe(r=>{this.attributes=r.find(o=>"attributes"==o.payload.doc.id)?.payload.doc.data().attributes})})})}goToEditProduct(e){this.route.navigate([`SaveProduct/${e}`])}goToDeleteProduct(e){confirm("Are you sure to delete this product?")&&this.productService.deletePrd(e,this.targetProduct).then(()=>{alert("Product has deleted successfully!"),this.route.navigate(["Products"])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vr),s.Y36(dE),s.Y36(Hn),s.Y36(hE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-product-details"]],decls:52,vars:12,consts:[[1,"container-fluid","mt-3","mb-5"],[1,"d-flex","flex-wrap","w-100","mb-4"],[1,"col-lg-5","order-lg-1","order-2","text-center"],[1,"w-100",2,"max-height","250px",3,"src"],[4,"ngFor","ngForOf"],[1,"col-lg-5","order-lg-2","order-3","text-start","p-3"],[1,"col-lg-2","order-lg-3","order-1","text-end","ps-lg-3","ps-0"],["title","Edit",1,"fa-solid","fa-pen-to-square","fs-3","m-3","cPointer","mColor","shadow",3,"click"],["title","Delete",1,"fa-solid","fa-trash-can","fs-3","m-3","cPointer","mColor","shadow",3,"click"],[1,"px-3","w-50"],[1,"bg-main","sColor","text-center","mb-3","mt-4"],[1,"py-1"],[1,"container","col-12"],[1,"table","table-bordered"],["class","col-2 mx-2 my-2 shadow","style","max-height: 150px;",3,"src",4,"ngIf"],[1,"col-2","mx-2","my-2","shadow",2,"max-height","150px",3,"src"],[1,"col-lg-2","col-3"],[1,"col-lg-10","col-9"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"span",2),s._UZ(3,"img",3),s.YNc(4,Tre,2,1,"ng-container",4),s.qZA(),s.TgZ(5,"span",5)(6,"h1")(7,"b"),s._uU(8),s.qZA()(),s.TgZ(9,"p")(10,"b"),s._uU(11,"Brand Name: "),s.qZA(),s._uU(12),s.qZA(),s.TgZ(13,"p")(14,"b"),s._uU(15,"Category: "),s.qZA(),s._uU(16),s.qZA(),s.TgZ(17,"p")(18,"b"),s._uU(19,"SKU: "),s.qZA(),s._uU(20),s.qZA(),s.TgZ(21,"p")(22,"b"),s._uU(23,"Quantity: "),s.qZA(),s._uU(24),s.qZA(),s.TgZ(25,"p")(26,"b"),s._uU(27,"Price: "),s.qZA(),s._uU(28),s.qZA(),s.TgZ(29,"p")(30,"b"),s._uU(31,"Discount: "),s.qZA(),s._uU(32),s.qZA(),s.TgZ(33,"p")(34,"b"),s._uU(35,"Added By: "),s.qZA(),s._uU(36),s.qZA()(),s.TgZ(37,"span",6)(38,"i",7),s.NdJ("click",function(){return i.goToEditProduct(i.targetProductID)}),s.qZA(),s.TgZ(39,"i",8),s.NdJ("click",function(){return i.goToDeleteProduct(i.targetProductID)}),s.qZA()()(),s.TgZ(40,"div",9)(41,"p")(42,"b"),s._uU(43,"Description: "),s.qZA(),s._uU(44),s.qZA()(),s.TgZ(45,"div",10)(46,"h1",11),s._uU(47,"** Product Specification **"),s.qZA()(),s.TgZ(48,"div",12)(49,"table",13)(50,"tbody"),s.YNc(51,xre,5,2,"tr",4),s.qZA()()()()),2&e&&(s.xp6(3),s.s9C("src",i.targetProduct.images[0],s.LSH),s.xp6(1),s.Q6J("ngForOf",i.targetProduct.images),s.xp6(4),s.Oqu(i.targetProduct.name),s.xp6(4),s.Oqu(i.targetProduct.brandName),s.xp6(4),s.Oqu(i.targetProduct.categoryName),s.xp6(4),s.Oqu(i.targetProduct.sku),s.xp6(4),s.Oqu(i.targetProduct.quantity),s.xp6(4),s.hij("",i.targetProduct.price,"$"),s.xp6(4),s.Oqu(i.targetProduct.discount?i.targetProduct.discount+"%":"-"),s.xp6(4),s.Oqu(i.targetProduct.AddedBy),s.xp6(8),s.Oqu(i.targetProduct.description),s.xp6(7),s.Q6J("ngForOf",i.attributes))},dependencies:[si,xn],styles:[".cPointer[_ngcontent-%COMP%]{cursor:pointer}.mColor[_ngcontent-%COMP%]{color:#001a2c!important}.bg-main[_ngcontent-%COMP%]{background-color:#001a2c!important}.sColor[_ngcontent-%COMP%]{color:#d3a827!important}"]}),n})();function Sre(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",8)(1,"div",9),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.showDetailes(o.id))}),s.TgZ(2,"div",10),s._UZ(3,"img",11),s.TgZ(4,"p",12)(5,"b"),s._uU(6),s.qZA()(),s.TgZ(7,"h3",13),s._uU(8),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(3),s.s9C("src",e.images[0],s.LSH),s.s9C("alt",null==e?null:e.name),s.xp6(3),s.Oqu(null==e?null:e.name),s.xp6(2),s.hij("",null==e?null:e.price," $")}}let Dre=(()=>{class n{constructor(e,i,r,o){this.ProductService=e,this.categoryService=i,this.routerActive=r,this.route=o,this.catID=[{id:"All"}],this.list=[],this.catList=[],this.subscriptions=[]}ngOnInit(){this.routerActive.paramMap.subscribe(i=>{i.get("state")&&(this.catID=JSON.parse(i.get("state")).map(r=>({id:r.EN})))}),this.catChanged();let e=this.categoryService.getAllCat().snapshotChanges().subscribe(i=>{this.catList=[{id:"All"}],i.map(r=>{r.payload.doc.data().subcollections.forEach(o=>{this.catList.push({id:o.EN})}),console.log(this.catList)})});this.subscriptions.push(e)}AddNewPrd(){this.route.navigate(["SaveProduct"])}showDetailes(e){this.route.navigate([`Product/${e}`])}catChanged(){let e;e=0==this.catID.length||this.catID.map(i=>i.id).includes("All")?this.ProductService.getAllProducts().subscribe(i=>{this.list=i.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))}):this.ProductService.getProductsByCatsIds(this.catID.map(i=>i.id)).subscribe(i=>{this.list=i.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))}),this.subscriptions.push(e)}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dE),s.Y36(hE),s.Y36(vr),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-products"]],decls:9,vars:4,consts:[[1,"d-flex","flex-wrap","align-items-center","mt-2","mb-2"],[1,"text-start","ps-4","col-lg-4","col-12","mt-2"],[1,"addNew",3,"click"],[1,"fa-solid","fa-plus","fs-4"],[1,"col-lg-8","col-12","px-3"],["bindLabel","id","placeholder","Select Category","appendTo","body",3,"items","multiple","ngModel","change","ngModelChange"],[1,"container-fluid","d-flex","flex-wrap","justify-content-center"],["class","card px-3 pt-3 pb-0 text-center m-4 rounded-pill productcard","style","width: 18rem;height:25rem",4,"ngFor","ngForOf"],[1,"card","px-3","pt-3","pb-0","text-center","m-4","rounded-pill","productcard",2,"width","18rem","height","25rem"],[1,"h-100",3,"click"],[1,"card-body","mt-2","h-100"],[1,"card-img-top","h-50",2,"border-radius","20px",3,"src","alt"],[1,"card-title","fs-7","mt-2"],[1,"card-title"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),s.NdJ("click",function(){return i.AddNewPrd()}),s._UZ(3,"i",3),s._uU(4," Add New Product"),s.qZA()(),s.TgZ(5,"div",4)(6,"ng-select",5),s.NdJ("change",function(){return i.catChanged()})("ngModelChange",function(o){return i.catID=o}),s.qZA()()(),s.TgZ(7,"div",6),s.YNc(8,Sre,9,4,"div",7),s.qZA()),2&e&&(s.xp6(6),s.Q6J("items",i.catList)("multiple",!0)("ngModel",i.catID),s.xp6(2),s.Q6J("ngForOf",i.list))},dependencies:[si,Sc,Ip,CO],styles:[".productcard[_ngcontent-%COMP%]{box-shadow:3px 3px 7px 1px #001a2c;transition:all;transition-duration:.7s;top:0}.productcard[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.04);border-radius:10%!important;box-shadow:1px 1px 1px 1px #d3a827;top:-20px}.addNew[_ngcontent-%COMP%]{color:#d3a827;text-decoration:underline;cursor:pointer;width:-moz-fit-content;width:fit-content}select[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{cursor:pointer!important}"]}),n})();function Mre(n,t){1&n&&(s.TgZ(0,"h2",16),s._UZ(1,"i",17),s._uU(2," Add New Admin:"),s.qZA())}function Pre(n,t){1&n&&(s.TgZ(0,"h2",16),s._UZ(1,"i",17),s._uU(2," Update My Profile:"),s.qZA())}function Rre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Name is required! "),s.qZA())}function Nre(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,Rre,2,0,"small",19),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.namePro||null==e.namePro.errors?null:e.namePro.errors.required)}}function kre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Email is required! "),s.qZA())}function Ore(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,kre,2,0,"small",19),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.emailPro||null==e.emailPro.errors?null:e.emailPro.errors.required)}}function Fre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Email is not match! "),s.qZA())}function Lre(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,Fre,2,0,"small",19),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.emailPro||null==e.emailPro.errors?null:e.emailPro.errors.pattern)}}function Ure(n,t){if(1&n&&(s.TgZ(0,"div",3)(1,"label",20),s._uU(2,"Email:"),s.qZA(),s._UZ(3,"input",21),s.YNc(4,Ore,2,1,"div",6),s.YNc(5,Lre,2,1,"div",6),s.qZA()),2&n){const e=s.oxw();s.xp6(3),s.ekj("is-valid",null==e.emailPro?null:e.emailPro.valid)("is-invalid",(null==e.emailPro?null:e.emailPro.invalid)&&(null==e.emailPro?null:e.emailPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=e.emailPro&&e.emailPro.invalid&&null!=e.emailPro&&e.emailPro.untouched)),s.xp6(1),s.Q6J("ngIf",!(null!=e.emailPro&&e.emailPro.invalid&&null!=e.emailPro&&e.emailPro.untouched))}}function Bre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Phone is required! "),s.qZA())}function Vre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Phone is not match! "),s.qZA())}function Hre(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,Bre,2,0,"small",19),s.YNc(2,Vre,2,0,"small",19),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",null==e.phonePro||null==e.phonePro.errors?null:e.phonePro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.phonePro||null==e.phonePro.errors?null:e.phonePro.errors.pattern)}}function Zre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Password is required! "),s.qZA())}function qre(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," * Password should contain 7 chars at least! "),s.qZA())}function jre(n,t){if(1&n&&(s.TgZ(0,"div",18),s.YNc(1,Zre,2,0,"small",19),s.YNc(2,qre,2,0,"small",19),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==e.passwordPro||null==e.passwordPro.errors?null:e.passwordPro.errors.required),s.xp6(1),s.Q6J("ngIf",null==e.passwordPro||null==e.passwordPro.errors?null:e.passwordPro.errors.minlength)}}function zre(n,t){if(1&n&&(s.TgZ(0,"div",3)(1,"label",22),s._uU(2,"Password:"),s.qZA(),s._UZ(3,"input",23),s.YNc(4,jre,3,2,"div",6),s.qZA()),2&n){const e=s.oxw();s.xp6(3),s.ekj("is-valid",null==e.passwordPro?null:e.passwordPro.valid)("is-invalid",(null==e.passwordPro?null:e.passwordPro.invalid)&&(null==e.passwordPro?null:e.passwordPro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=e.passwordPro&&e.passwordPro.invalid&&null!=e.passwordPro&&e.passwordPro.untouched))}}function Gre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Add"),s.qZA())}function $re(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Update"),s.qZA())}function Wre(n,t){1&n&&(s.TgZ(0,"div",24)(1,"span",25),s._uU(2,"Loading..."),s.qZA()())}function Yre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Added"),s.qZA())}function Kre(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Updated"),s.qZA())}function Qre(n,t){if(1&n&&(s.TgZ(0,"div",26)(1,"h2"),s._uU(2,"Admin has "),s.YNc(3,Yre,2,0,"b",12),s.YNc(4,Kre,2,0,"ng-template",null,27,s.W1O),s._uU(6," succeccfully!"),s.qZA()()),2&n){const e=s.MAs(5),i=s.oxw();s.xp6(3),s.Q6J("ngIf",i.Add)("ngIfElse",e)}}let t5=(()=>{class n{constructor(e,i,r,o,a,u){this.afAuth=e,this.formBuilder=i,this.adminService=r,this.router=o,this.activatedRoute=a,this.auth=u,this.Add=!0,this.currentAdmin={},this.done=!1,this.loading=!1}ngOnInit(){this.adminForm=this.formBuilder.group({name:["",[ut.required]],phone:["",[ut.required,ut.pattern("[0-9]{11}")]],email:["",[ut.required,ut.pattern(/^[A-Z0-9.]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i)]],password:["",[ut.required,ut.minLength(7)]]}),this.afAuth.onAuthStateChanged(e=>{console.log(e),e&&this.adminService.getCurrentAdmin(e.uid).subscribe(i=>{this.currentAdmin={...i,id:e.uid},console.log(i),console.log(this.currentAdmin),this.Add||this.adminForm.patchValue({name:this.currentAdmin.name,email:this.currentAdmin.email,phone:this.currentAdmin.phone,password:this.currentAdmin.password})})}),this.activatedRoute.paramMap.subscribe(e=>{console.log(e.get("id")),this.Add=!e.get("id")})}get namePro(){return this.adminForm.get("name")}get phonePro(){return this.adminForm.get("phone")}get emailPro(){return this.adminForm.get("email")}get passwordPro(){return this.adminForm.get("password")}SaveAdmin(){this.loading=!0;let e={name:this.namePro?.value,email:this.emailPro?.value,phone:this.phonePro?.value,password:this.passwordPro?.value};if(this.Add){let i=Object(this.currentAdmin);this.adminService.addNewAdmin(e).then(r=>{console.log(i),console.log(this.currentAdmin),this.adminService.logOut(),this.afAuth.signInWithEmailAndPassword(i.email,i.password).then(()=>{this.adminService.logIn(i.email,i.password,i.id),console.log(r),this.saved()})})}else this.adminService.updateAdmin(this.currentAdmin.id,e).then(i=>{console.log(i),this.saved()})}saved(){this.done=!0,this.loading=!1,this.adminForm.reset(),setTimeout(()=>{this.router.navigate(["Profile"]).then(()=>{location.reload()})},2e3)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vl),s.Y36(s0),s.Y36($m),s.Y36(Hn),s.Y36(vr),s.Y36(LE))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admins"]],decls:23,vars:20,consts:[["class","text-start mb-0",4,"ngIf","ngIfElse"],["update",""],[1,"container","w-50",3,"formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","name","name","id","name","formControlName","name","placeholder","Enter Name",1,"form-control"],["class","text-danger",4,"ngIf"],["class","mb-3",4,"ngIf"],["for","phone",1,"form-label"],["type","text","name","phone","id","phone","formControlName","phone","placeholder","Enter phone",1,"form-control"],[1,"text-center","d-flex","justify-content-center"],[1,"btn","submitbtn","px-5",2,"height","40px",3,"disabled","click"],[4,"ngIf","ngIfElse"],["upd",""],["class","spinner-border text-warning ms-4","role","status",4,"ngIf"],["class","text-dark ms-4",4,"ngIf"],[1,"text-start","mb-0"],[1,"fa-solid","fa-pen-to-square","fs-3","m-3"],[1,"text-danger"],[4,"ngIf"],["for","mail",1,"form-label"],["type","email","name","mail","id","mail","formControlName","email","placeholder","Enter Email",1,"form-control"],["for","password",1,"form-label"],["type","password","name","password","id","password","formControlName","password","placeholder","Enter password",1,"form-control"],["role","status",1,"spinner-border","text-warning","ms-4"],[1,"visually-hidden"],[1,"text-dark","ms-4"],["up",""]],template:function(e,i){if(1&e&&(s.YNc(0,Mre,3,0,"h2",0),s.YNc(1,Pre,3,0,"ng-template",null,1,s.W1O),s.TgZ(3,"div",2)(4,"div",3)(5,"label",4),s._uU(6,"Name:"),s.qZA(),s._UZ(7,"input",5),s.YNc(8,Nre,2,1,"div",6),s.qZA(),s.YNc(9,Ure,6,6,"div",7),s.TgZ(10,"div",3)(11,"label",8),s._uU(12,"Mobile Phone:"),s.qZA(),s._UZ(13,"input",9),s.YNc(14,Hre,3,2,"div",6),s.qZA(),s.YNc(15,zre,5,5,"div",7),s.TgZ(16,"div",10)(17,"button",11),s.NdJ("click",function(){return i.SaveAdmin()}),s.YNc(18,Gre,2,0,"b",12),s.YNc(19,$re,2,0,"ng-template",null,13,s.W1O),s.qZA(),s.YNc(21,Wre,3,0,"div",14),s.YNc(22,Qre,7,2,"div",15),s.qZA()()),2&e){const r=s.MAs(2),o=s.MAs(20);s.Q6J("ngIf",i.Add)("ngIfElse",r),s.xp6(3),s.Q6J("formGroup",i.adminForm),s.xp6(4),s.ekj("is-valid",null==i.namePro?null:i.namePro.valid)("is-invalid",(null==i.namePro?null:i.namePro.invalid)&&(null==i.namePro?null:i.namePro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.namePro&&i.namePro.invalid&&null!=i.namePro&&i.namePro.untouched)),s.xp6(1),s.Q6J("ngIf",i.Add),s.xp6(4),s.ekj("is-valid",null==i.phonePro?null:i.phonePro.valid)("is-invalid",(null==i.phonePro?null:i.phonePro.invalid)&&(null==i.phonePro?null:i.phonePro.touched)),s.xp6(1),s.Q6J("ngIf",!(null!=i.phonePro&&i.phonePro.invalid&&null!=i.phonePro&&i.phonePro.untouched)),s.xp6(1),s.Q6J("ngIf",i.Add),s.xp6(2),s.Q6J("disabled",i.adminForm.invalid||i.loading),s.xp6(1),s.Q6J("ngIf",i.Add)("ngIfElse",o),s.xp6(3),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.done)}},dependencies:[xn,Ic,Sc,xp,Ih,Sp],styles:["input[_ngcontent-%COMP%]::placeholder{font-size:.8rem;font-style:italic}.submitbtn[_ngcontent-%COMP%]{background-color:#001a2c;color:#fbc326;font-size:medium}"]}),n})();function Jre(n,t){if(1&n&&(s.TgZ(0,"tr",11)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.email.toLowerCase()),s.xp6(2),s.Oqu(e.phone)}}let Xre=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.adminService=r,this.admins=[],this.curAdmin={}}ngOnInit(){console.log(this.curAdmin),this.adminService.getAllAdmins().subscribe(e=>{this.admins=e.map(i=>i.payload.doc.data())}),this.afAuth.onAuthStateChanged(e=>{console.log(e?.uid),this.adminService.getCurrentAdmin(e?.uid).subscribe(i=>{console.log(i),this.curAdmin={...i,id:e?.uid}})})}goToEditAdmin(e){this.router.navigate([`SaveAdmin/${e}`])}goToAddNew(){this.router.navigate(["SaveAdmin"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vl),s.Y36(Hn),s.Y36($m))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-profile"]],decls:33,vars:4,consts:[[1,"px-4","d-flex","col-lg-6","col-12","me-auto","mt-3"],[1,"addNew","me-5",3,"click"],[1,"fa-solid","fa-pen-to-square","fs-5","me-2"],[1,"addNew",3,"click"],[1,"fa-solid","fa-plus","fs-4"],[1,"container-fluid","mt-3","mb-5"],[1,"d-flex","col-lg-8","col-12","me-auto","mb-4"],[1,"col-8","text-start","p-3"],[1,"table","table-striped","table-hover"],["scope","col"],["class","cPointer",4,"ngFor","ngForOf"],[1,"cPointer"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2",1),s.NdJ("click",function(){return i.goToEditAdmin(i.curAdmin.id)}),s._UZ(2,"i",2),s._uU(3," Edit Profile"),s.qZA(),s.TgZ(4,"h2",3),s.NdJ("click",function(){return i.goToAddNew()}),s._UZ(5,"i",4),s._uU(6," Add New Admin"),s.qZA()(),s.TgZ(7,"div",5)(8,"div",6)(9,"span",7)(10,"h1")(11,"b"),s._uU(12),s.qZA()(),s.TgZ(13,"h4")(14,"b"),s._uU(15,"Email:"),s.qZA(),s._uU(16),s.qZA(),s.TgZ(17,"h4")(18,"b"),s._uU(19,"Mobile Phone:"),s.qZA(),s._uU(20),s.qZA()()()(),s.TgZ(21,"div",5)(22,"table",8)(23,"thead")(24,"tr")(25,"th",9),s._uU(26,"Name"),s.qZA(),s.TgZ(27,"th",9),s._uU(28,"Email"),s.qZA(),s.TgZ(29,"th",9),s._uU(30,"Mobile Phone"),s.qZA()()(),s.TgZ(31,"tbody"),s.YNc(32,Jre,7,3,"tr",10),s.qZA()()()),2&e&&(s.xp6(12),s.Oqu(i.curAdmin.name),s.xp6(4),s.Oqu(i.curAdmin.email),s.xp6(4),s.Oqu(i.curAdmin.phone),s.xp6(12),s.Q6J("ngForOf",i.admins))},dependencies:[si],styles:[".addNew[_ngcontent-%COMP%]{color:#d3a827;text-decoration:underline;cursor:pointer;width:-moz-fit-content;width:fit-content}.cPointer[_ngcontent-%COMP%]{cursor:pointer}.mColor[_ngcontent-%COMP%]{color:#001a2c!important}"]}),n})();class GS{constructor(t){return t}}const n5="firestore",EO=new s.OlP("angularfire2.firestore-instances");function nse(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new GS(i)}}const ise={provide:class ese{constructor(){return(0,Wt.vb)(n5)}},deps:[[new s.FiY,EO]]},rse={provide:GS,useFactory:function tse(n,t){const e=(0,Wt.JM)(n5,n,t);return e&&new GS(e)},deps:[[new s.FiY,EO],jd]};let sse=(()=>{class n{constructor(){(0,gc.KN)("angularfire",Wt.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rse,ise]}),n})();function ose(n,...t){return{ngModule:sse,providers:[{provide:EO,useFactory:nse(n),multi:!0,deps:[s.R0b,s.zs3,Wt.HU,ny,[new s.FiY,f4],[new s.FiY,$d],...t]}]}}const ase=(0,Wt.u3)(tj,!0);let lse=(()=>{class n{constructor(e,i,r){this.fs=e,this.http=i,this.curd=r,this.sellers=[],this.httpOption={},this.httpOption={headers:new nd({"Content-Type":"application/json"})}}getAllSellers(){return this.curd.getAll("Sellers")}addNewSeller(e){return this.curd.addNewDoc("Sellers",e)}getSellerbyID(e){return this.curd.getByID("Sellers",e)}updateSeller(e,i){return this.curd.updateDoc("Sellers",e,i)}deleteSeller(e){return this.curd.deleteDoc("Sellers",e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GS),s.LFG(FS),s.LFG(Gm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Full Name is required "),s.qZA())}function use(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Full Name must be at least 3 letters "),s.qZA())}function dse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Email is required "),s.qZA())}function hse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Email should match the pattern "),s.qZA())}function fse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Mobile number is required "),s.qZA())}function pse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Mobile number should match the pattern starts with 01 and 11 numbers "),s.qZA())}function gse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Address is required "),s.qZA())}function mse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," Address should be at least 4 chra "),s.qZA())}function _se(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," productName is required "),s.qZA())}function yse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," productName should be at least 3 chra "),s.qZA())}function vse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," age is required "),s.qZA())}function bse(n,t){1&n&&(s.TgZ(0,"small"),s._uU(1," age should be at least 2 numbers "),s.qZA())}function wse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"th",35),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td",36),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.deleteSeller(o.id))}),s.TgZ(18,"mat-icon"),s._uU(19,"delete_forever"),s.qZA()(),s.TgZ(20,"td",36),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.sendId(o.id))}),s.TgZ(21,"mat-icon"),s._uU(22,"create"),s.qZA()()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.fullName),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.productName),s.xp6(2),s.Oqu(e.age),s.xp6(2),s.Oqu(e.address),s.xp6(2),s.Oqu(e.mobileNo)}}let Cse=(()=>{class n{constructor(e,i,r){this.seller=e,this.fb=i,this.router=r,this.user="",this.searchText="",this.usrFormGroup=this.fb.group({fullName:["",[ut.required,ut.minLength(5)]],email:["",[ut.required,ut.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/g)]],mobileNo:["",[ut.required,ut.pattern(/^01[0125][0-9]{8}$/gm)]],address:["",[ut.required,ut.minLength(4)]],productName:["",[ut.required,ut.minLength(3)]],age:["",[ut.required,ut.maxLength(2),ut.pattern(/^[0-9]{2}$/)]]})}get allInput(){return{fullName:this.usrFormGroup.get("fullName"),email:this.usrFormGroup.get("email"),mobileNo:this.usrFormGroup.get("mobileNo"),address:this.usrFormGroup.get("address"),productName:this.usrFormGroup.get("productName"),age:this.usrFormGroup.get("age")}}ngOnInit(){this.seller.getAllSellers().subscribe(e=>{this.sellersList=e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()}))})}ngAfterViewInit(){}addSeller(e){this.seller.addNewSeller(e).then(i=>{console.log(i)}).catch(i=>{console.log(i)})}deleteSeller(e){confirm("Are You Sure.. ?")&&this.seller.deleteSeller(e).then(r=>{console.log(r)}).catch(r=>{console.log(r)})}sendId(e){this.router.navigate([`Sellers/${e}`])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lse),s.Y36(s0),s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sellers"]],decls:88,vars:46,consts:[[1,"container","w-50"],[1,"m-2",3,"formGroup","ngSubmit"],["formval","ngForm"],[1,"row"],[1,"col-lg-6"],[1,"mb-3","form-group"],["for","usrName",1,"form-label"],["type","text","name","usrName","id","usrName","formControlName","fullName",1,"form-control",3,"ngModel","ngModelChange"],[1,"alert","alert-warning",3,"hidden"],[4,"ngIf"],[1,"mb-3"],["for","usrEmail",1,"form-label"],["type","email","name","usrEmail","id","usrEmail","formControlName","email",1,"form-control"],["for","usrMobile"],["type","text","name","usrMobile","id","usrMobile","formControlName","mobileNo",1,"form-control"],[1,"mb-3","ms-2"],["for","usrCity",1,"form-label"],["type","text","name","usrCity","id","usrCity","formControlName","address",1,"form-control"],[1,"mb-2","ms-2"],["for","usrProduct",1,"form-label"],["type","text","name","usrProduct","id","usrProduct","formControlName","productName",1,"form-control"],["for","usrage",1,"form-label"],["type","number","name","usrage","id","usrage","formControlName","age",1,"form-control"],[1,"d-flex","align-items-center","justify-content-center"],["type","submit",1,"btn","add-btn"],[1,"container","mt-4"],[1,"card","mb-4"],[1,"card-body"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-md-6","search-div"],[1,"input-group","md-form","form-sm","form-2","py-3","w-50"],["type","text","placeholder","Search something here...","aria-label","Search",1,"form-control","my-0","py-1","pl-3",3,"ngModel","ngModelChange"],["id","basic-addon1",1,"search-icon"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["scope","row"],[1,"del-icon",3,"click"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"div",0)(1,"form",1,2),s.NdJ("ngSubmit",function(){s.CHM(r);const a=s.MAs(2);return s.KtG(i.addSeller(a.value))}),s.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),s._uU(7,"Full Name"),s.qZA(),s.TgZ(8,"input",7),s.NdJ("ngModelChange",function(a){return i.user=a}),s.qZA(),s.TgZ(9,"div",8),s.YNc(10,cse,2,0,"small",9),s.YNc(11,use,2,0,"small",9),s.qZA()(),s.TgZ(12,"div",10)(13,"label",11),s._uU(14,"Email"),s.qZA(),s._UZ(15,"input",12),s.TgZ(16,"div",8),s.YNc(17,dse,2,0,"small",9),s.YNc(18,hse,2,0,"small",9),s.qZA()(),s.TgZ(19,"div",10)(20,"label",13),s._uU(21,"Mobile number"),s.qZA(),s._UZ(22,"input",14),s.TgZ(23,"div",8),s.YNc(24,fse,2,0,"small",9),s.YNc(25,pse,2,0,"small",9),s.qZA()()(),s.TgZ(26,"div",4)(27,"div",15)(28,"label",16),s._uU(29,"city address"),s.qZA(),s._UZ(30,"input",17),s.TgZ(31,"div",8),s.YNc(32,gse,2,0,"small",9),s.YNc(33,mse,2,0,"small",9),s.qZA()(),s.TgZ(34,"div",18)(35,"label",19),s._uU(36,"Product Name"),s.qZA(),s._UZ(37,"input",20),s.TgZ(38,"div",8),s.YNc(39,_se,2,0,"small",9),s.YNc(40,yse,2,0,"small",9),s.qZA()(),s.TgZ(41,"div",15)(42,"label",21),s._uU(43,"Age"),s.qZA(),s._UZ(44,"input",22),s.TgZ(45,"div",8),s.YNc(46,vse,2,0,"small",9),s.YNc(47,bse,2,0,"small",9),s.qZA()()(),s.TgZ(48,"div",23)(49,"button",24),s._uU(50," Add Seller "),s.TgZ(51,"mat-icon"),s._uU(52,"add_circle"),s.qZA()()()()()(),s.TgZ(53,"div",25)(54,"div",26)(55,"div",27)(56,"div",28)(57,"div",29)(58,"div",30)(59,"input",31),s.NdJ("ngModelChange",function(a){return i.searchText=a}),s.qZA(),s.TgZ(60,"span",32)(61,"mat-icon"),s._uU(62,"search"),s.qZA()()()()(),s.TgZ(63,"table",33)(64,"thead")(65,"tr")(66,"th"),s._uU(67,"#"),s.qZA(),s.TgZ(68,"th"),s._uU(69,"id"),s.qZA(),s.TgZ(70,"th"),s._uU(71,"Full Name"),s.qZA(),s.TgZ(72,"th"),s._uU(73,"Email"),s.qZA(),s.TgZ(74,"th"),s._uU(75,"Product Name"),s.qZA(),s.TgZ(76,"th"),s._uU(77,"Age"),s.qZA(),s.TgZ(78,"th"),s._uU(79,"Address"),s.qZA(),s.TgZ(80,"th"),s._uU(81,"Mobile"),s.qZA(),s.TgZ(82,"th"),s._uU(83,"Remove"),s.qZA(),s.TgZ(84,"th"),s._uU(85,"Update"),s.qZA()()(),s.TgZ(86,"tbody"),s.YNc(87,wse,23,8,"tr",34),s.qZA()()()()()}2&e&&(s.xp6(1),s.Q6J("formGroup",i.usrFormGroup),s.xp6(7),s.ekj("is-valid",null==i.allInput.fullName?null:i.allInput.fullName.valid)("is-invalid",(null==i.allInput.fullName?null:i.allInput.fullName.touched)&&(null==i.allInput.fullName?null:i.allInput.fullName.invalid)),s.Q6J("ngModel",i.user),s.xp6(1),s.Q6J("hidden",(null==i.allInput.fullName?null:i.allInput.fullName.valid)||(null==i.allInput.fullName?null:i.allInput.fullName.untouched)),s.xp6(1),s.Q6J("ngIf",null==i.allInput.fullName||null==i.allInput.fullName.errors?null:i.allInput.fullName.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.allInput.fullName||null==i.allInput.fullName.errors?null:i.allInput.fullName.errors.minlength),s.xp6(4),s.ekj("is-valid",null==i.allInput.email?null:i.allInput.email.valid)("is-invalid",(null==i.allInput.email?null:i.allInput.email.touched)&&(null==i.allInput.email?null:i.allInput.email.invalid)),s.xp6(1),s.Q6J("hidden",(null==i.allInput.email?null:i.allInput.email.valid)||(null==i.allInput.email?null:i.allInput.email.untouched)),s.xp6(1),s.Q6J("ngIf",null==i.allInput.email||null==i.allInput.email.errors?null:i.allInput.email.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.allInput.email||null==i.allInput.email.errors?null:i.allInput.email.errors.pattern),s.xp6(4),s.ekj("is-valid",null==i.allInput.mobileNo?null:i.allInput.mobileNo.valid)("is-invalid",(null==i.allInput.mobileNo?null:i.allInput.mobileNo.touched)&&(null==i.allInput.mobileNo?null:i.allInput.mobileNo.invalid)),s.xp6(1),s.Q6J("hidden",(null==i.allInput.mobileNo?null:i.allInput.mobileNo.valid)||(null==i.allInput.mobileNo?null:i.allInput.mobileNo.untouched)),s.xp6(1),s.Q6J("ngIf",null==i.allInput.mobileNo||null==i.allInput.mobileNo.errors?null:i.allInput.mobileNo.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.allInput.mobileNo||null==i.allInput.mobileNo.errors?null:i.allInput.mobileNo.errors.pattern),s.xp6(5),s.ekj("is-valid",null==i.allInput.address?null:i.allInput.address.valid)("is-invalid",(null==i.allInput.address?null:i.allInput.address.touched)&&(null==i.allInput.address?null:i.allInput.address.invalid)),s.xp6(1),s.Q6J("hidden",(null==i.allInput.address?null:i.allInput.address.valid)||(null==i.allInput.address?null:i.allInput.address.untouched)),s.xp6(1),s.Q6J("ngIf",null==i.allInput.address||null==i.allInput.address.errors?null:i.allInput.address.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.allInput.address||null==i.allInput.address.errors?null:i.allInput.address.errors.minLength),s.xp6(4),s.ekj("is-valid",null==i.allInput.productName?null:i.allInput.productName.valid)("is-invalid",(null==i.allInput.productName?null:i.allInput.productName.touched)&&(null==i.allInput.productName?null:i.allInput.productName.invalid)),s.xp6(1),s.Q6J("hidden",(null==i.allInput.productName?null:i.allInput.productName.valid)||(null==i.allInput.productName?null:i.allInput.productName.untouched)),s.xp6(1),s.Q6J("ngIf",null==i.allInput.productName||null==i.allInput.productName.errors?null:i.allInput.productName.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.allInput.productName||null==i.allInput.productName.errors?null:i.allInput.productName.errors.minLength),s.xp6(4),s.ekj("is-valid",null==i.allInput.age?null:i.allInput.age.valid)("is-invalid",(null==i.allInput.age?null:i.allInput.age.touched)&&(null==i.allInput.age?null:i.allInput.age.invalid)),s.xp6(1),s.Q6J("hidden",(null==i.allInput.age?null:i.allInput.age.valid)||(null==i.allInput.age?null:i.allInput.age.untouched)),s.xp6(1),s.Q6J("ngIf",null==i.allInput.age||null==i.allInput.age.errors?null:i.allInput.age.errors.required),s.xp6(1),s.Q6J("ngIf",null==i.allInput.age||null==i.allInput.age.errors?null:i.allInput.age.errors.minLength),s.xp6(12),s.Q6J("ngModel",i.searchText),s.xp6(28),s.Q6J("ngForOf",i.sellersList))},dependencies:[si,xn,VS,t0,Ic,n0,Sc,xp,Ip,Ih,Sp],styles:[".alert[_ngcontent-%COMP%]{transition:all .7s}.add-btn[_ngcontent-%COMP%]{background-color:#032b47;color:#fff;cursor:pointer}.del-icon[_ngcontent-%COMP%]{cursor:pointer}.del-icon[_ngcontent-%COMP%]:hover{color:#3d4ca5}.hm-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(to top,#f3e7e9 0%,#e3eeff 99%,#e3eeff 100%)}.darken-grey-text[_ngcontent-%COMP%]{color:#2e2e2e}.input-group.md-form.form-sm.form-2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #bdbdbd;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.input-group.md-form.form-sm.form-2[_ngcontent-%COMP%]   input.purple-border[_ngcontent-%COMP%]{border:1px solid #9e9e9e}.input-group.md-form.form-sm.form-2[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus:not([readonly]).purple-border{border:1px solid #ba68c8;box-shadow:none}.form-2[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border:1px solid #ba68c8}.danger-text[_ngcontent-%COMP%]{color:#ff3547}.success-text[_ngcontent-%COMP%]{color:#00c851}.table-bordered.red-border[_ngcontent-%COMP%], .table-bordered.red-border[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-bordered.red-border[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ff3547!important}.table.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]}),n})(),Ese=(()=>{class n{transform(e,i){return i.length>2?e.filter(r=>r.fullName.toLowerCase().includes(i.toLowerCase())):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"search",type:n,pure:!0}),n})();function Ase(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"th",10),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td")(14,"button",11),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.addUserToAdmins(o.id,o.fullName,o.mobile,o.email,o.password))}),s._uU(15," Make Admin "),s.qZA()()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Oqu(e.fullName),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.gander),s.xp6(2),s.Oqu(0===(null==e||null==e.orders?null:e.orders.length)?"No Orders":null==e.orders?null:e.orders.length),s.xp6(2),s.Oqu(e.mobile)}}const Tse=[{path:"",component:Eee,canActivate:[X7],children:[{path:"",redirectTo:"/Home",pathMatch:"full"},{path:"Home",component:aQ},{path:"Products",component:Dre},{path:"Product/:id",component:Ire},{path:"SaveProduct/:id",component:e5},{path:"SaveProduct",component:e5},{path:"Categories",component:h$},{path:"Users",component:(()=>{class n{constructor(e,i){this.users=e,this.adminService=i,this.searchText="",this.adminsIds=[]}ngOnInit(){this.users.getAllUsers().subscribe(e=>{this.usersList=e.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()}))}),this.adminService.getAllAdmins().subscribe(e=>{this.adminsIds=e.map(i=>i.payload.doc.id)})}addUserToAdmins(e,i,r,o,a){this.adminService.makeUserAdmin({id:e,name:i,phone:r,email:o,password:a}).then(h=>{console.log(h)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J3),s.Y36($m))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-users"]],decls:30,vars:5,consts:[[1,"container","mt-4"],[1,"card","mb-4"],[1,"card-body",2,"overflow-x","auto"],[1,"row","d-flex","align-items-center","justify-content-between"],[1,"col-md-6","search-div"],[1,"input-group","md-form","form-sm","form-2","py-3","w-50"],["type","text","placeholder","Search something here...","aria-label","Search",1,"form-control","my-0","py-1","pl-3",3,"ngModel","ngModelChange"],["id","basic-addon1",1,"search-icon"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn-sm","btn-dark",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),s.NdJ("ngModelChange",function(o){return i.searchText=o}),s.qZA(),s.TgZ(7,"span",7)(8,"mat-icon"),s._uU(9,"search"),s.qZA()()()()(),s.TgZ(10,"table",8)(11,"thead")(12,"tr")(13,"th"),s._uU(14,"#"),s.qZA(),s.TgZ(15,"th"),s._uU(16,"Full Name"),s.qZA(),s.TgZ(17,"th"),s._uU(18,"Email"),s.qZA(),s.TgZ(19,"th"),s._uU(20,"Gander"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Orders"),s.qZA(),s.TgZ(23,"th"),s._uU(24,"Mobile"),s.qZA(),s.TgZ(25,"th"),s._uU(26,"Make admin"),s.qZA()()(),s.TgZ(27,"tbody"),s.YNc(28,Ase,16,6,"tr",9),s.ALo(29,"search"),s.qZA()()()()()),2&e&&(s.xp6(6),s.Q6J("ngModel",i.searchText),s.xp6(22),s.Q6J("ngForOf",s.xi3(29,2,i.usersList,i.searchText)))},dependencies:[si,VS,Ic,Sc,Ip,Ese]}),n})()},{path:"Sellers",component:Cse},{path:"Brands",component:RG},{path:"Brand/:id",component:MG},{path:"SaveBrand/:id",component:Q3},{path:"SaveBrand",component:Q3},{path:"Analytics",component:ez},{path:"Profile",component:Xre},{path:"WebSite",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-web-config"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"p"),s._uU(1,"web-config works!"),s.qZA())}}),n})()},{path:"orders",component:Fte},{path:"saveCat",component:e$},{path:"SaveAdmin/:id",component:t5},{path:"SaveAdmin",component:t5}]},{path:"Login",component:_Q},{path:"**",component:Aee}];let xse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wf.forRoot(Tse),wf]}),n})();function r5(n){return new s.vHH(3e3,!1)}function aoe(){return typeof window<"u"&&typeof window.document<"u"}function AO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Lp(n){switch(n.length){case 0:return new $E;case 1:return n[0];default:return new eV(n)}}function s5(n,t,e,i,r=new Map,o=new Map){const a=[],u=[];let h=-1,p=null;if(i.forEach(m=>{const v=m.get("offset"),A=v==h,I=A&&p||new Map;m.forEach((M,R)=>{let L=R,q=M;if("offset"!==R)switch(L=t.normalizePropertyName(L,a),q){case"!":q=r.get(R);break;case Lh:q=o.get(R);break;default:q=t.normalizeStyleValue(R,L,q,a)}I.set(L,q)}),A||u.push(I),p=I,h=v}),a.length)throw function Yse(n){return new s.vHH(3502,!1)}();return u}function TO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&xO(e,"start",n)));break;case"done":n.onDone(()=>i(e&&xO(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&xO(e,"destroy",n)))}}function xO(n,t,e){const o=IO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function IO(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Ua(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function o5(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let SO=(n,t)=>!1,a5=(n,t,e)=>[],l5=null;function DO(n){const t=n.parentNode||n.host;return t===l5?null:t}(AO()||typeof Element<"u")&&(aoe()?(l5=(()=>document.documentElement)(),SO=(n,t)=>{for(;t;){if(t===n)return!0;t=DO(t)}return!1}):SO=(n,t)=>n.contains(t),a5=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let u_=null,c5=!1;const u5=SO,d5=a5;let h5=(()=>{class n{validateStyleProperty(e){return function coe(n){u_||(u_=function uoe(){return typeof document<"u"?document.body:null}()||{},c5=!!u_.style&&"WebkitAppearance"in u_.style);let t=!0;return u_.style&&!function loe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in u_.style,!t&&c5&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in u_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return u5(e,i)}getParentElement(e){return DO(e)}query(e,i,r){return d5(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,u=[],h){return new $E(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),MO=(()=>{class n{}return n.NOOP=new h5,n})();const PO="ng-enter",$S="ng-leave",WS="ng-trigger",XE=".ng-trigger",p5="ng-animating",RO=".ng-animating";function Up(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:NO(parseFloat(t[1]),t[2])}function NO(n,t){return"s"===t?1e3*n:n}function YS(n,t,e){return n.hasOwnProperty("duration")?n:function foe(n,t,e){let r,o=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(r5()),{duration:0,delay:0,easing:""};r=NO(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(o=NO(parseFloat(h),u[4]));const p=u[5];p&&(a=p)}else r=n;if(!e){let u=!1,h=t.length;r<0&&(t.push(function Ise(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function Sse(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,r5())}return{duration:r,delay:o,easing:a}}(n,t,e)}function eA(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function g5(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Bp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function _5(n,t,e){return e?t+":"+e+";":""}function y5(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=_5(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=_5(0,_oe(e),n.style[e]));n.setAttribute("style",t)}function id(n,t,e){n.style&&(t.forEach((i,r)=>{const o=OO(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),AO()&&y5(n))}function d_(n,t){n.style&&(t.forEach((e,i)=>{const r=OO(i);n.style[r]=""}),AO()&&y5(n))}function tA(n){return Array.isArray(n)?1==n.length?n[0]:J4(n):n}const kO=new RegExp("{{\\s*(.+?)\\s*}}","g");function v5(n){let t=[];if("string"==typeof n){let e;for(;e=kO.exec(n);)t.push(e[1]);kO.lastIndex=0}return t}function KS(n,t,e){const i=n.toString(),r=i.replace(kO,(o,a)=>{let u=t[a];return null==u&&(e.push(function Mse(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function QS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const moe=/-+([a-z0-9])/g;function OO(n){return n.replace(moe,(...t)=>t[1].toUpperCase())}function _oe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ba(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Pse(n){return new s.vHH(3004,!1)}()}}function b5(n,t){return window.getComputedStyle(n)[t]}function Eoe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Aoe(n,t,e){if(":"==n[0]){const h=function Toe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function zse(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function jse(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(w5(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(w5(a,r))}(i,e,t)):e.push(n),e}const tD=new Set(["true","1"]),nD=new Set(["false","0"]);function w5(n,t){const e=tD.has(n)||nD.has(n),i=tD.has(t)||nD.has(t);return(r,o)=>{let a="*"==n||n==r,u="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?tD.has(n):nD.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?tD.has(t):nD.has(t)),a&&u}}const xoe=new RegExp("s*:selfs*,?","g");function FO(n,t,e,i){return new Ioe(n).build(t,e,i)}class Ioe{constructor(t){this._driver=t}build(t,e,i){const r=new Moe(e);return this._resetContextStyleTimingState(r),Ba(this,tA(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Nse(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,p=h.name;p.toString().split(/\s*,\s*/).forEach(m=>{h.name=m,o.push(this.visitState(h,e))}),h.name=p}else if(1==u.type){const h=this.visitTransition(u,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function kse(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{v5(h).forEach(p=>{a.hasOwnProperty(p)||o.add(p)})})}),o.size&&(QS(o.values()),e.errors.push(function Ose(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ba(this,tA(t.animation),e);return{type:1,matchers:Eoe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:h_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ba(this,i,e)),options:h_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const u=Ba(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:h_(t.options)}}visitAnimate(t,e){const i=function Roe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return LO(YS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=LO(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=YS(e,t);return LO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Uh({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,u=!1;if(!a){u=!0;const p={};i.easing&&(p.easing=i.easing),a=Uh(p)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Lh?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(g5(u));let o=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!o))for(let h of u.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const p=e.collectedStyles.get(e.currentQuerySelector),m=p.get(h);let v=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(e.errors.push(function Lse(n,t,e,i,r){return new s.vHH(3010,!1)}()),v=!1),o=m.startTime),v&&p.set(h,{startTime:o,endTime:r}),e.options&&function goe(n,t,e){const i=t.params||{},r=v5(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Dse(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Use(){return new s.vHH(3011,!1)}()),i;let o=0;const a=[];let u=!1,h=!1,p=0;const m=t.steps.map(q=>{const X=this._makeStyleAst(q,e);let he=null!=X.offset?X.offset:function Poe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(X.styles),ne=0;return null!=he&&(o++,ne=X.offset=he),h=h||ne<0||ne>1,u=u||ne<p,p=ne,a.push(ne),X});h&&e.errors.push(function Bse(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function Vse(){return new s.vHH(3200,!1)}());const v=t.steps.length;let A=0;o>0&&o<v?e.errors.push(function Hse(){return new s.vHH(3202,!1)}()):0==o&&(A=1/(v-1));const I=v-1,M=e.currentTime,R=e.currentAnimateTimings,L=R.duration;return m.forEach((q,X)=>{const he=A>0?X==I?1:A*X:a[X],ne=he*L;e.currentTime=M+R.delay+ne,R.duration=ne,this._validateStyleAst(q,e),q.offset=he,i.styles.push(q)}),i}visitReference(t,e){return{type:8,animation:Ba(this,tA(t.animation),e),options:h_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:h_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:h_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function Soe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(xoe,"")),n=n.replace(/@\*/g,XE).replace(/@\w+/g,e=>XE+"-"+e.slice(1)).replace(/:animating/g,RO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ua(e.collectedStyles,e.currentQuerySelector,new Map);const u=Ba(this,tA(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:h_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Zse(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:YS(t.timings,e.errors,!0);return{type:12,animation:Ba(this,tA(t.animation),e),timings:i,options:null}}}class Moe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function h_(n){return n?(n=eA(n)).params&&(n.params=function Doe(n){return n?eA(n):null}(n.params)):n={},n}function LO(n,t,e){return{duration:n,delay:t,easing:e}}function UO(n,t,e,i,r,o,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:u}}class iD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ooe=new RegExp(":enter","g"),Loe=new RegExp(":leave","g");function BO(n,t,e,i,r,o=new Map,a=new Map,u,h,p=[]){return(new Uoe).buildKeyframes(n,t,e,i,r,o,a,u,h,p)}class Uoe{buildKeyframes(t,e,i,r,o,a,u,h,p,m=[]){p=p||new iD;const v=new VO(t,e,p,r,o,m,[]);v.options=h;const A=h.delay?Up(h.delay):0;v.currentTimeline.delayNextStep(A),v.currentTimeline.setStyles([a],null,v.errors,h),Ba(this,i,v);const I=v.timelines.filter(M=>M.containsAnimation());if(I.length&&u.size){let M;for(let R=I.length-1;R>=0;R--){const L=I[R];if(L.element===e){M=L;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([u],null,v.errors,h)}return I.length?I.map(M=>M.buildKeyframes()):[UO(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Up(i.duration):null,u=null!=i.delay?Up(i.delay):null;return 0!==a&&t.forEach(h=>{const p=e.appendInstructionToTimeline(h,a,u);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ba(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rD);const a=Up(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Ba(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Up(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),Ba(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return YS(e.params?KS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*o),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Up(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rD);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((p,m)=>{e.currentQueryIndex=m;const v=e.createSubContext(t.options,p);o&&v.delayNextStep(o),p===e.element&&(h=v.currentTimeline),Ba(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,v.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=u-h;break;case"full":h=i.currentStaggerTime}const m=e.currentTimeline;h&&m.delayNextStep(h);const v=m.currentTime;Ba(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}}const rD={};class VO{constructor(t,e,i,r,o,a,u,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new sD(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Up(i.duration)),null!=i.delay&&(r.delay=Up(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=KS(o[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new VO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=rD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Boe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(Ooe,"."+this._enterClassName)).replace(Loe,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),u.push(...p)}return!o&&0==u.length&&a.push(function qse(n){return new s.vHH(3014,!1)}()),u}}class sD{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Lh),this._currentKeyframe.set(e,Lh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function Voe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Lh)}else Bp(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,h]of a){const p=KS(h,o,i);this._pendingStyles.set(u,p),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)||Lh),this._updateStyle(u,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,h)=>{const p=Bp(u,new Map,this._backFill);p.forEach((m,v)=>{"!"===m?t.add(v):m===Lh&&e.add(v)}),i||p.set("offset",h/this.duration),r.push(p)});const o=t.size?QS(t.values()):[],a=e.size?QS(e.values()):[];if(i){const u=r[0],h=new Map(u);u.set("offset",0),h.set("offset",1),r=[u,h]}return UO(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class Boe extends sD{constructor(t,e,i,r,o,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,u=e/a,h=Bp(t[0]);h.set("offset",0),o.push(h);const p=Bp(t[0]);p.set("offset",A5(u)),o.push(p);const m=t.length-1;for(let v=1;v<=m;v++){let A=Bp(t[v]);const I=A.get("offset");A.set("offset",A5((e+I*i)/a)),o.push(A)}i=a,e=0,r="",t=o}return UO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function A5(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class HO{}const Hoe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Zoe extends HO{normalizePropertyName(t,e){return OO(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(Hoe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Rse(n,t){return new s.vHH(3005,!1)}())}return a+o}}function T5(n,t,e,i,r,o,a,u,h,p,m,v,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:u,queriedElements:h,preStyleProps:p,postStyleProps:m,totalTime:v,errors:A}}const ZO={};class x5{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function qoe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,u,h,p,m){const v=[],A=this.ast.options&&this.ast.options.params||ZO,M=this.buildStyles(i,u&&u.params||ZO,v),R=h&&h.params||ZO,L=this.buildStyles(r,R,v),q=new Set,X=new Map,he=new Map,ne="void"===r,de={params:joe(R,A),delay:this.ast.options?.delay},ke=m?[]:BO(t,e,this.ast.animation,o,a,M,L,de,p,v);let ze=0;if(ke.forEach(bt=>{ze=Math.max(bt.duration+bt.delay,ze)}),v.length)return T5(e,this._triggerName,i,r,ne,M,L,[],[],X,he,ze,v);ke.forEach(bt=>{const _n=bt.element,En=Ua(X,_n,new Set);bt.preStyleProps.forEach(di=>En.add(di));const un=Ua(he,_n,new Set);bt.postStyleProps.forEach(di=>un.add(di)),_n!==e&&q.add(_n)});const ct=QS(q.values());return T5(e,this._triggerName,i,r,ne,M,L,ke,ct,X,he,ze)}}function joe(n,t){const e=eA(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class zoe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=eA(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{a&&(a=KS(a,r,e));const h=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,h,a,e),i.set(h,a)})}),i}}class $oe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new zoe(r.style,r.options&&r.options.params||{},i))}),I5(this.states,"true","1"),I5(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new x5(t,r,this.states))}),this.fallbackTransition=function Woe(n,t,e){return new x5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function I5(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Yoe=new iD;class Koe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=FO(this._driver,e,i,[]);if(i.length)throw function Kse(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=s5(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const u=new Map;if(o?(a=BO(this._driver,e,o,PO,$S,new Map,new Map,i,Yoe,r),a.forEach(m=>{const v=Ua(u,m.element,new Map);m.postStyleProps.forEach(A=>v.set(A,null))})):(r.push(function Qse(){return new s.vHH(3300,!1)}()),a=[]),r.length)throw function Jse(n){return new s.vHH(3504,!1)}();u.forEach((m,v)=>{m.forEach((A,I)=>{m.set(I,this._driver.computeStyle(v,I,Lh))})});const p=Lp(a.map(m=>{const v=u.get(m.element);return this._buildPlayer(m,new Map,v)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Xse(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=IO(e,"","","");return TO(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const S5="ng-animate-queued",qO="ng-animate-disabled",tae=[],D5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fl="__ng_removed";class jO{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function oae(n){return n??null}(i?t.value:t),i){const o=eA(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const nA="void",zO=new jO(nA);class iae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ll(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function eoe(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function toe(n){return new s.vHH(3303,!1)}();if(!function aae(n){return"start"==n||"done"==n}(i))throw function noe(n,t){return new s.vHH(3400,!1)}();const o=Ua(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const u=Ua(this._engine.statesByElement,t,new Map);return u.has(e)||(Ll(t,WS),Ll(t,WS+"-"+e),u.set(e,zO)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function ioe(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new GO(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Ll(t,WS),Ll(t,WS+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const p=new jO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),u.set(e,p),h||(h=zO),p.value!==nA&&h.value===p.value){if(!function uae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(h.params,p.params)){const R=[],L=o.matchStyles(h.value,h.params,R),q=o.matchStyles(p.value,p.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{d_(t,L),id(t,q)})}return}const A=Ua(this._engine.playersByElement,t,[]);A.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let I=o.matchTransition(h.value,p.value,t,p.params),M=!1;if(!I){if(!r)return;I=o.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:I,fromState:h,toState:p,player:a,isFallbackTransition:M}),M||(Ll(t,S5),a.onStart(()=>{m0(t,S5)})),a.onDone(()=>{let R=this.players.indexOf(a);R>=0&&this.players.splice(R,1);const L=this._engine.playersByElement.get(t);if(L){let q=L.indexOf(a);q>=0&&L.splice(q,1)}}),this.players.push(a),A.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,XE,!0),r=t.shadowRoot?this._engine.driver.query(t.shadowRoot,XE,!0):[];[...i,...r].forEach(o=>{if(o[Fl])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(u=>u.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const u=[];if(o.forEach((h,p)=>{if(a.set(p,h.value),this._triggers.has(p)){const m=this.trigger(t,p,nA,r);m&&u.push(m)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Lp(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,p=i.get(a)||zO,m=new jO(nA),v=new GO(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:p,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if((!!t.childElementCount||!(!t.shadowRoot||!t.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let h=t;for(;h=h.parentNode;)if(i.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)i.markElementAsRemoved(this.id,t,!1,e);else{const u=t[Fl];(!u||u===D5)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ll(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(u=>{if(u.name==i.triggerName){const h=IO(o,i.triggerName,i.fromState.value,i.toState.value);h._data=t,TO(i.player,u.phase,h,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class rae{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new iae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const h=r.get(u);if(h){const p=i.indexOf(h);i.splice(p+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(oD(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!oD(e))return;const o=e[Fl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ll(t,qO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),m0(t,qO))}removeNode(t,e,i,r){if(oD(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Fl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return oD(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,XE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,RO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Fl];if(e&&e.setForRemoval){if(t[Fl]=D5,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(qO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ll(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Lp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function roe(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new iD,r=[],o=new Map,a=[],u=new Map,h=new Map,p=new Map,m=new Set;this.disabledNodes.forEach(Xe=>{m.add(Xe);const kt=this.driver.query(Xe,".ng-animate-queued",!0);for(let Ft=0;Ft<kt.length;Ft++)m.add(kt[Ft])});const v=this.bodyNode,A=Array.from(this.statesByElement.keys()),I=R5(A,this.collectedEnterElements),M=new Map;let R=0;I.forEach((Xe,kt)=>{const Ft=PO+R++;M.set(kt,Ft),Xe.forEach(yn=>Ll(yn,Ft))});const L=[],q=new Set,X=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const kt=this.collectedLeaveElements[Xe],Ft=kt[Fl];Ft&&Ft.setForRemoval&&(L.push(kt),q.add(kt),Ft.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(yn=>q.add(yn)):X.add(kt))}const he=new Map,ne=R5(A,Array.from(q));ne.forEach((Xe,kt)=>{const Ft=$S+R++;he.set(kt,Ft),Xe.forEach(yn=>Ll(yn,Ft))}),t.push(()=>{I.forEach((Xe,kt)=>{const Ft=M.get(kt);Xe.forEach(yn=>m0(yn,Ft))}),ne.forEach((Xe,kt)=>{const Ft=he.get(kt);Xe.forEach(yn=>m0(yn,Ft))}),L.forEach(Xe=>{this.processLeaveNode(Xe)})});const de=[],ke=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(Ft=>{const yn=Ft.player,Zi=Ft.element;if(de.push(yn),this.collectedEnterElements.length){const so=Zi[Fl];if(so&&so.setForMove){if(so.previousTriggersValues&&so.previousTriggersValues.has(Ft.triggerName)){const T_=so.previousTriggersValues.get(Ft.triggerName),ql=this.statesByElement.get(Ft.element);if(ql&&ql.has(Ft.triggerName)){const $D=ql.get(Ft.triggerName);$D.value=T_,ql.set(Ft.triggerName,$D)}}return void yn.destroy()}}const Ro=!v||!this.driver.containsElement(v,Zi),Zr=he.get(Zi),ra=M.get(Zi),Ci=this._buildInstruction(Ft,i,ra,Zr,Ro);if(Ci.errors&&Ci.errors.length)return void ke.push(Ci);if(Ro)return yn.onStart(()=>d_(Zi,Ci.fromStyles)),yn.onDestroy(()=>id(Zi,Ci.toStyles)),void r.push(yn);if(Ft.isFallbackTransition)return yn.onStart(()=>d_(Zi,Ci.fromStyles)),yn.onDestroy(()=>id(Zi,Ci.toStyles)),void r.push(yn);const D0=[];Ci.timelines.forEach(so=>{so.stretchStartingKeyframe=!0,this.disabledNodes.has(so.element)||D0.push(so)}),Ci.timelines=D0,i.append(Zi,Ci.timelines),a.push({instruction:Ci,player:yn,element:Zi}),Ci.queriedElements.forEach(so=>Ua(u,so,[]).push(yn)),Ci.preStyleProps.forEach((so,T_)=>{if(so.size){let ql=h.get(T_);ql||h.set(T_,ql=new Set),so.forEach(($D,rF)=>ql.add(rF))}}),Ci.postStyleProps.forEach((so,T_)=>{let ql=p.get(T_);ql||p.set(T_,ql=new Set),so.forEach(($D,rF)=>ql.add(rF))})});if(ke.length){const Xe=[];ke.forEach(kt=>{Xe.push(function soe(n,t){return new s.vHH(3505,!1)}())}),de.forEach(kt=>kt.destroy()),this.reportError(Xe)}const ze=new Map,ct=new Map;a.forEach(Xe=>{const kt=Xe.element;i.has(kt)&&(ct.set(kt,kt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,ze))}),r.forEach(Xe=>{const kt=Xe.element;this._getPreviousPlayers(kt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(yn=>{Ua(ze,kt,[]).push(yn),yn.destroy()})});const bt=L.filter(Xe=>k5(Xe,h,p)),_n=new Map;P5(_n,this.driver,X,p,Lh).forEach(Xe=>{k5(Xe,h,p)&&bt.push(Xe)});const un=new Map;I.forEach((Xe,kt)=>{P5(un,this.driver,new Set(Xe),h,"!")}),bt.forEach(Xe=>{const kt=_n.get(Xe),Ft=un.get(Xe);_n.set(Xe,new Map([...Array.from(kt?.entries()??[]),...Array.from(Ft?.entries()??[])]))});const di=[],ps=[],dn={};a.forEach(Xe=>{const{element:kt,player:Ft,instruction:yn}=Xe;if(i.has(kt)){if(m.has(kt))return Ft.onDestroy(()=>id(kt,yn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(yn.totalTime),void r.push(Ft);let Zi=dn;if(ct.size>1){let Zr=kt;const ra=[];for(;Zr=Zr.parentNode;){const Ci=ct.get(Zr);if(Ci){Zi=Ci;break}ra.push(Zr)}ra.forEach(Ci=>ct.set(Ci,Zi))}const Ro=this._buildAnimation(Ft.namespaceId,yn,ze,o,un,_n);if(Ft.setRealPlayer(Ro),Zi===dn)di.push(Ft);else{const Zr=this.playersByElement.get(Zi);Zr&&Zr.length&&(Ft.parentPlayer=Lp(Zr)),r.push(Ft)}}else d_(kt,yn.fromStyles),Ft.onDestroy(()=>id(kt,yn.toStyles)),ps.push(Ft),m.has(kt)&&r.push(Ft)}),ps.forEach(Xe=>{const kt=o.get(Xe.element);if(kt&&kt.length){const Ft=Lp(kt);Xe.setRealPlayer(Ft)}}),r.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<L.length;Xe++){const kt=L[Xe],Ft=kt[Fl];if(m0(kt,$S),Ft&&Ft.hasAnimation)continue;let yn=[];if(u.size){let Ro=u.get(kt);Ro&&Ro.length&&yn.push(...Ro);let Zr=this.driver.query(kt,RO,!0);for(let ra=0;ra<Zr.length;ra++){let Ci=u.get(Zr[ra]);Ci&&Ci.length&&yn.push(...Ci)}}const Zi=yn.filter(Ro=>!Ro.destroyed);Zi.length?lae(this,kt,Zi):this.processLeaveNode(kt)}return L.length=0,di.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const kt=this.players.indexOf(Xe);this.players.splice(kt,1)}),Xe.play()}),di}elementContainsData(t,e){let i=!1;const r=e[Fl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!o||o==nA;u.forEach(p=>{p.queued||!h&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const p=h.element,m=p!==o,v=Ua(i,p,[]);this._getPreviousPlayers(p,m,a,u,e.toState).forEach(I=>{const M=I.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),I.destroy(),v.push(I)})}d_(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const u=e.triggerName,h=e.element,p=[],m=new Set,v=new Set,A=e.timelines.map(M=>{const R=M.element;m.add(R);const L=R[Fl];if(L&&L.removedBeforeQueried)return new $E(M.duration,M.delay);const q=R!==h,X=function cae(n){const t=[];return N5(n,t),t}((i.get(R)||tae).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===R),he=o.get(R),ne=a.get(R),de=s5(0,this._normalizer,0,M.keyframes,he,ne),ke=this._buildPlayer(M,de,X);if(M.subTimeline&&r&&v.add(R),q){const ze=new GO(t,u,R);ze.setRealPlayer(ke),p.push(ze)}return ke});p.forEach(M=>{Ua(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function sae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,M.element,M))}),m.forEach(M=>Ll(M,p5));const I=Lp(A);return I.onDestroy(()=>{m.forEach(M=>m0(M,p5)),id(h,e.toStyles)}),v.forEach(M=>{Ua(r,M,[]).push(I)}),I}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new $E(t.duration,t.delay)}}class GO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new $E,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>TO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ua(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function oD(n){return n&&1===n.nodeType}function M5(n,t){const e=n.style.display;return n.style.display=t??"none",e}function P5(n,t,e,i,r){const o=[];e.forEach(h=>o.push(M5(h)));const a=[];i.forEach((h,p)=>{const m=new Map;h.forEach(v=>{const A=t.computeStyle(p,v,r);m.set(v,A),(!A||0==A.length)&&(p[Fl]=nae,a.push(p))}),n.set(p,m)});let u=0;return e.forEach(h=>M5(h,o[u++])),a}function R5(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(u){if(!u)return 1;let h=o.get(u);if(h)return h;const p=u.parentNode;return h=e.has(p)?p:r.has(p)?1:a(p),o.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Ll(n,t){n.classList?.add(t)}function m0(n,t){n.classList?.remove(t)}function lae(n,t,e){Lp(e).onDone(()=>n.processLeaveNode(t))}function N5(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof eV?N5(i.players,t):t.push(i)}}function k5(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class aD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new rae(t,e,i),this._timelineEngine=new Koe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const h=[],m=FO(this._driver,o,h,[]);if(h.length)throw function Wse(n,t){return new s.vHH(3404,!1)}();u=function Goe(n,t,e){return new $oe(n,t,e)}(r,m,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=o5(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,u]=o5(i);return this._timelineEngine.listen(a,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&id(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(id(this._element,this._initialStyles),this._endStyles&&(id(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(d_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(d_(this._element,this._endStyles),this._endStyles=null),id(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $O(n){let t=null;return n.forEach((e,i)=>{(function fae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class O5{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:b5(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return u5(t,e)}getParentElement(t){return DO(t)}query(t,e,i){return d5(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(h.easing=o);const p=new Map,m=a.filter(I=>I instanceof O5);(function yoe(n,t){return 0===n||0===t})(i,r)&&m.forEach(I=>{I.currentSnapshot.forEach((M,R)=>p.set(R,M))});let v=function poe(n){return n.length?n[0]instanceof Map?n:n.map(t=>g5(t)):[]}(e).map(I=>Bp(I));v=function voe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(u=>a.set(u,b5(n,u)))}}return t}(t,v,p);const A=function dae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=$O(t[0]),t.length>1&&(i=$O(t[t.length-1]))):t instanceof Map&&(e=$O(t)),e||i?new hae(n,e,i):null}(t,v);return new O5(t,v,h,A)}}let gae=(()=>{class n extends Q4{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?J4(e):e;return F5(this._renderer,null,i,"register",[r]),new mae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class mae extends class NJ{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new _ae(this._id,t,e||{},this._renderer)}}class _ae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return F5(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function F5(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const L5="@.disabled";let yae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let m=this._rendererCache.get(o);return m||(m=new U5("",o,this.engine),this._rendererCache.set(o,m)),m}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=m=>{Array.isArray(m)?m.forEach(h):this.engine.registerTrigger(a,u,e,m.name,m)};return i.data.animation.forEach(h),new vae(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(aD),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class U5{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==L5?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vae extends U5{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==L5?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function bae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function wae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let Cae=(()=>{class n extends aD{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(MO),s.LFG(HO),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const B5=[{provide:Q4,useClass:gae},{provide:HO,useFactory:function Eae(){return new Zoe}},{provide:aD,useClass:Cae},{provide:s.FYo,useFactory:function Aae(n,t,e){return new yae(n,t,e)},deps:[ai,aD,s.R0b]}],V5=[{provide:MO,useFactory:()=>new pae},{provide:s.QbO,useValue:"BrowserAnimations"},...B5],Tae=[{provide:MO,useClass:h5},{provide:s.QbO,useValue:"NoopAnimations"},...B5];let xae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Tae:V5}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:V5,imports:[Gc]}),n})(),Iae=(()=>{class n{constructor(){this.title="X-Cite_Admin"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[jo]}),n})();const cD={production:!0,firebase:{apiKey:"AIzaSyDsOgpLuHfdHQPdXOAcVVxmkn5O3r7mits",authDomain:"x-cite-db.firebaseapp.com",projectId:"x-cite-db",storageBucket:"x-cite-db.appspot.com",messagingSenderId:"693242153026",appId:"1:693242153026:web:aad71819fd14e68a3485db",measurementId:"G-7ZN2ZSC3ZB"},pasaUrl:"https://x-cite-5d269-default-rtdb.firebaseio.com/"},H5="@firebase/database";let WO="";function q5(n){WO=n}class Mae{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,U.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,U.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Pae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,U.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const j5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Mae(t)}}catch{}return new Pae},f_=j5("localStorage"),YO=j5("sessionStorage"),_0=new $o.Yd("@firebase/database"),z5=function(){let n=1;return function(){return n++}}(),G5=function(n){const t=(0,U.dS)(n),e=new U.gQ;e.update(t);const i=e.digest();return U.US.encodeByteArray(i)},iA=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=iA.apply(null,i):t+="object"==typeof i?(0,U.Pz)(i):i,t+=" "}return t};let p_=null,$5=!0;const W5=function(n,t){(0,U.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(_0.logLevel=$o.in.VERBOSE,p_=_0.log.bind(_0),t&&YO.set("logging_enabled",!0)):"function"==typeof n?p_=n:(p_=null,YO.remove("logging_enabled"))},hs=function(...n){if(!0===$5&&($5=!1,null===p_&&!0===YO.get("logging_enabled")&&W5(!0)),p_){const t=iA.apply(null,n);p_(t)}},rA=function(n){return function(...t){hs(n,...t)}},KO=function(...n){const t="FIREBASE INTERNAL ERROR: "+iA(...n);_0.error(t)},rd=function(...n){const t=`FIREBASE FATAL ERROR: ${iA(...n)}`;throw _0.error(t),new Error(t)},ro=function(...n){const t="FIREBASE WARNING: "+iA(...n);_0.warn(t)},uD=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Bh="[MIN_NAME]",sd="[MAX_NAME]",g_=function(n,t){if(n===t)return 0;if(n===Bh||t===sd)return-1;if(t===Bh||n===sd)return 1;{const e=dD(n),i=dD(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},kae=function(n,t){return n===t?0:n<t?-1:1},sA=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Pz)(t))},QO=function(n){if("object"!=typeof n||null===n)return(0,U.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,U.Pz)(t[i]),e+=":",e+=QO(n[t[i]]);return e+="}",e},Y5=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function fs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const K5=function(n){(0,U.hu)(!uD(n),"Invalid JSON number");const i=1023;let r,o,a,u,h;0===n?(o=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,a=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(r?1:0),p.reverse();const m=p.join("");let v="";for(h=0;h<64;h+=8){let A=parseInt(m.substr(h,8),2).toString(16);1===A.length&&(A="0"+A),v+=A}return v.toLowerCase()},Uae=new RegExp("^-?(0*)\\d{1,10}$"),Q5=-2147483648,JO=2147483647,dD=function(n){if(Uae.test(n)){const t=Number(n);if(t>=Q5&&t<=JO)return t}return null},y0=function(n){try{n()}catch(t){setTimeout(()=>{throw ro("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},oA=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Vae{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ro(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Hae{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(hs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ro(t)}}let aA=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const nH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sH="websocket",oH="long_polling";class e2{constructor(t,e,i,r,o=!1,a="",u=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function aH(n,t,e){let i;if((0,U.hu)("string"==typeof t,"typeof type must == string"),(0,U.hu)("object"==typeof e,"typeof params must == object"),t===sH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==oH)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Zae(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return fs(e,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}class qae{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,U.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,U.p$)(this.counters_)}}const t2={},n2={};function r2(n){const t=n.toString();return t2[t]||(t2[t]=new qae),t2[t]}class zae{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&y0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vp{constructor(t,e,i,r,o,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rA(t),this.stats_=r2(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),aH(e,oH,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new zae(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new s2((...o)=>{const[a,u,h,p,m]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vp.forceAllow_=!0}static forceDisallow(){Vp.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Vp.forceAllow_&&(Vp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,U.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,U.h$)(e),r=Y5(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,U.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class s2{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=z5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=s2.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){hs("frame writing exception"),u.stack&&hs(u.stack),hs(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||hs("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,U.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{hs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let fD=null;typeof MozWebSocket<"u"?fD=MozWebSocket:typeof WebSocket<"u"&&(fD=WebSocket);let v0=(()=>{class n{constructor(e,i,r,o,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rA(this.connId),this.stats_=r2(i),this.connURL=n.connectionURL_(i,u,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,a){const u={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&nH.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),a&&(u.p=a),aH(e,sH,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f_.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){const a={headers:{"User-Agent":`Firebase/5/${WO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(a.proxy={origin:h})}this.mySock=new fD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==fD&&!n.forceDisallow_}static previouslyFailed(){return f_.isInMemoryStorage||!0===f_.get("previous_websocket_failure")}markConnectionHealthy(){f_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,U.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Y5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),pH=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Vp,v0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=v0&&v0.isAvailable();let r=i&&!v0.previouslyFailed();if(e.webSocketOnly&&(i||ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[v0];else{const o=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class wH{constructor(t,e,i,r,o,a,u,h,p,m){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rA("c:"+this.id+":"),this.transportManager_=new pH(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=oA(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=sA("t",t),i=sA("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=sA("t",t),i=sA("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=sA("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?KO("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):KO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),oA(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oA(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class CH{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class EH{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,U.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,U.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class pD extends EH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pD}getInitialEvent(t){return(0,U.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Jn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function qn(){return new Jn("")}function gn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hp(n){return n.pieces_.length-n.pieceNum_}function wi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Jn(n.pieces_,t)}function a2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lA(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function xH(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Jn(t,0)}function Ji(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Jn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Jn(e,0)}function mn(n){return n.pieceNum_>=n.pieces_.length}function Po(n,t){const e=gn(n),i=gn(t);if(null===e)return t;if(e===i)return Po(wi(n),wi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function fle(n,t){const e=lA(n,0),i=lA(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=g_(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function l2(n,t){if(Hp(n)!==Hp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ul(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Hp(n)>Hp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class ple{constructor(t,e){this.errorPrefix_=e,this.parts_=lA(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);IH(this)}}function IH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+m_(n))}function m_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class c2 extends EH{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new c2}getInitialEvent(t){return(0,U.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const cA=1e3;let mD,__=(()=>{class n extends CH{constructor(e,i,r,o,a,u,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=rA("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cA,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");c2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&pD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,U.Pz)(a)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new U.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;"ok"===u.s?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const u=this.outstandingGets_[a];void 0===u||o!==u||(delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),i.promise}listen(e,i,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,h=>{const p=h.d,m=h.s;n.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),"ok"!==m&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,U.r3)(e,"w")){const r=(0,U.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,U.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,U.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=r,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,U.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):KO("Unrecognized action received from server: "+(0,U.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cA,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cA,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cA),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ie.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,o())};e.realtime_={close:m,sendRequest:function(I){(0,U.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(I)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[I,M]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);h?hs("getToken() completed but was canceled"):(hs("getToken() completed. Creating connection."),e.authToken_=I&&I.accessToken,e.appCheckToken_=M&&M.token,p=new wH(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,R=>{ro(R+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(I){e.log_("Failed to get token: "+I),h||(e.repoInfo_.nodeAdmin&&ro(I),m())}}})()}interrupt(e){hs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=cA,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>QO(a)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Jn(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){hs("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){hs("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+WO.replace(/\./g,"-")]=1,(0,U.uI)()?e["framework.cordova"]=1:(0,U.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pD.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class bn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new bn(t,e)}}class gD{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new bn(Bh,t),r=new bn(Bh,e);return 0!==this.compare(i,r)}minPost(){return bn.MIN}}class MH extends gD{static get __EMPTY_NODE(){return mD}static set __EMPTY_NODE(t){mD=t}compare(t,e){return g_(t.name,e.name)}isDefinedOn(t){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return bn.MIN}maxPost(){return new bn(sd,mD)}makePost(t,e){return(0,U.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bn(t,mD)}toString(){return".key"}}const od=new MH;class _D{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let d2,Rc=(()=>{class n{constructor(e,i,r,o,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??na.EMPTY_NODE,this.right=a??na.EMPTY_NODE}copy(e,i,r,o,a){return new n(e??this.key,i??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return na.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return na.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class na{constructor(t,e=na.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new na(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Rc.BLACK,null,null))}remove(t){return new na(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Rc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _D(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new _D(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new _D(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new _D(this.root_,null,this.comparator_,!0,t)}}function Ele(n,t){return g_(n.name,t.name)}function u2(n,t){return g_(n,t)}na.EMPTY_NODE=new class Cle{copy(t,e,i,r,o){return this}insert(t,e,i){return new Rc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const PH=function(n){return"number"==typeof n?"number:"+K5(n):"string:"+n},RH=function(n){if(n.isLeafNode()){const t=n.val();(0,U.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,U.r3)(t,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===d2||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===d2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let NH,kH,OH,b0=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RH(this.priorityNode_)}static set __childrenNodeConstructor(e){NH=e}static get __childrenNodeConstructor(){return NH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mn(e)?this:".priority"===gn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=gn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===Hp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(wi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PH(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?K5(this.value_):this.value_,this.lazyHash_=G5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(o>=0,"Unknown leaf type: "+i),(0,U.hu)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Si=new class Ile extends gD{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?g_(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return bn.MIN}maxPost(){return new bn(sd,new b0("[PRIORITY-POST]",OH))}makePost(t,e){const i=kH(t);return new bn(e,new b0("[PRIORITY-POST]",i))}toString(){return".priority"}},Sle=Math.log(2);class Dle{constructor(t){this.count=parseInt(Math.log(t+1)/Sle,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yD=function(n,t,e,i){n.sort(t);const r=function(h,p){const m=p-h;let v,A;if(0===m)return null;if(1===m)return v=n[h],A=e?e(v):v,new Rc(A,v.node,Rc.BLACK,null,null);{const I=parseInt(m/2,10)+h,M=r(h,I),R=r(I+1,p);return v=n[I],A=e?e(v):v,new Rc(A,v.node,Rc.BLACK,M,R)}},u=function(h){let p=null,m=null,v=n.length;const A=function(M,R){const L=v-M,q=v;v-=M;const X=r(L+1,q),he=n[L],ne=e?e(he):he;I(new Rc(ne,he.node,R,null,X))},I=function(M){p?(p.left=M,p=M):(m=M,p=M)};for(let M=0;M<h.count;++M){const R=h.nextBitIsOne(),L=Math.pow(2,h.count-(M+1));R?A(L,Rc.BLACK):(A(L,Rc.BLACK),A(L,Rc.RED))}return m}(new Dle(n.length));return new na(i||t,u)};let h2;const w0={};class Vh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,U.hu)(w0&&Si,"ChildrenNode.ts has not been loaded"),h2=h2||new Vh({".priority":w0},{".priority":Si}),h2}get(t){const e=(0,U.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof na?e:null}hasIndex(t){return(0,U.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,U.hu)(t!==od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(bn.Wrap);let u,a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();u=r?yD(i,t.getCompare()):w0;const h=t.toString(),p=Object.assign({},this.indexSet_);p[h]=t;const m=Object.assign({},this.indexes_);return m[h]=u,new Vh(m,p)}addToIndexes(t,e){const i=(0,U.UI)(this.indexes_,(r,o)=>{const a=(0,U.DV)(this.indexSet_,o);if((0,U.hu)(a,"Missing index implementation for "+o),r===w0){if(a.isDefinedOn(t.node)){const u=[],h=e.getIterator(bn.Wrap);let p=h.getNext();for(;p;)p.name!==t.name&&u.push(p),p=h.getNext();return u.push(t),yD(u,a.getCompare())}return w0}{const u=e.get(t.name);let h=r;return u&&(h=h.remove(new bn(t.name,u))),h.insert(t,t.node)}});return new Vh(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,U.UI)(this.indexes_,r=>{if(r===w0)return r;{const o=e.get(t.name);return o?r.remove(new bn(t.name,o)):r}});return new Vh(i,this.indexSet_)}}let uA,sn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RH(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return uA||(uA=new n(new na(u2),null,Vh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||uA}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?uA:i}}getChild(e){const i=gn(e);return null===i?this:this.getImmediateChild(i).getChild(wi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new bn(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?uA:this.priorityNode_;return new n(o,u,a)}}updateChild(e,i){const r=gn(e);if(null===r)return i;{(0,U.hu)(".priority"!==gn(e)||1===Hp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(wi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,a=!0;if(this.forEachChild(Si,(u,h)=>{i[u]=h.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const h in i)u[h]=i[h];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+PH(this.getPriority().val())+":"),this.forEachChild(Si,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":G5(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new bn(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new bn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new bn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,bn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,bn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dA?-1:0}withIndex(e){if(e===od||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===od||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Si),o=i.getIterator(Si);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===od?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const dA=new class Mle extends sn{constructor(){super(new na(u2),sn.EMPTY_NODE,Vh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return sn.EMPTY_NODE}isEmpty(){return!1}};function sr(n,t=null){if(null===n)return sn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,U.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new b0(n,sr(t));if(n instanceof Array){let e=sn.EMPTY_NODE;return fs(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const o=sr(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(sr(t))}{const e=[];let i=!1;if(fs(n,(a,u)=>{if("."!==a.substring(0,1)){const h=sr(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new bn(a,h)))}}),0===e.length)return sn.EMPTY_NODE;const o=yD(e,Ele,a=>a.name,u2);if(i){const a=yD(e,Si.getCompare());return new sn(o,sr(t),new Vh({".priority":a},{".priority":Si}))}return new sn(o,sr(t),Vh.Default)}}Object.defineProperties(bn,{MIN:{value:new bn(Bh,sn.EMPTY_NODE)},MAX:{value:new bn(sd,dA)}}),MH.__EMPTY_NODE=sn.EMPTY_NODE,b0.__childrenNodeConstructor=sn,function Ale(n){d2=n}(dA),function xle(n){OH=n}(dA),function Tle(n){kH=n}(sr);class f2 extends gD{constructor(t){super(),this.indexPath_=t,(0,U.hu)(!mn(t)&&".priority"!==gn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?g_(t.name,e.name):o}makePost(t,e){const i=sr(t),r=sn.EMPTY_NODE.updateChild(this.indexPath_,i);return new bn(e,r)}maxPost(){const t=sn.EMPTY_NODE.updateChild(this.indexPath_,dA);return new bn(sd,t)}toString(){return lA(this.indexPath_,0).join("/")}}const p2=new class Rle extends gD{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?g_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return bn.MIN}maxPost(){return bn.MAX}makePost(t,e){const i=sr(t);return new bn(e,i)}toString(){return".value"}},C0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nle=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=C0.charAt(e%64),e=Math.floor(e/64);(0,U.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=C0.charAt(t[r]);return(0,U.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),UH=function(n){if(n===""+JO)return"-";const t=dD(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let a=0;a<e.length;a++)e[a]=n.charAt(a);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return sd;const o=C0.charAt(C0.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},BH=function(n){if(n===""+Q5)return Bh;const t=dD(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+JO:(delete e[e.length-1],e.join("")):(e[e.length-1]=C0.charAt(C0.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function VH(n){return{type:"value",snapshotNode:n}}function E0(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function hA(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function fA(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class m2{constructor(t){this.index_=t}updateChild(t,e,i,r,o,a){(0,U.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(hA(e,u)):(0,U.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(E0(e,i)):a.trackChildChange(fA(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Si,(r,o)=>{e.hasChild(r)||i.trackChildChange(hA(r,o))}),e.isLeafNode()||e.forEachChild(Si,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(fA(r,o,a))}else i.trackChildChange(E0(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?sn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pA{constructor(t){this.indexedFilter_=new m2(t.getIndex()),this.index_=t.getIndex(),this.startPost_=pA.getStartPost_(t),this.endPost_=pA.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,a){return this.matches(new bn(e,i))||(i=sn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=sn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(sn.EMPTY_NODE);const o=this;return e.forEachChild(Si,(a,u)=>{o.matches(new bn(a,u))||(r=r.updateImmediateChild(a,sn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ole{constructor(t){this.rangedFilter_=new pA(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,a){return this.rangedFilter_.matches(new bn(e,i))||(i=sn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=sn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=sn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();let h;if(h=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,!h)break;r=r.updateImmediateChild(u.name,u.node),a++}}else{let o,a,u,h;if(r=e.withIndex(this.index_),r=r.updatePriority(sn.EMPTY_NODE),this.reverse_){h=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const v=this.index_.getCompare();u=(A,I)=>v(I,A)}else h=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();let p=0,m=!1;for(;h.hasNext();){const v=h.getNext();!m&&u(o,v)<=0&&(m=!0),m&&p<this.limit_&&u(v,a)<=0?p++:r=r.updateImmediateChild(v.name,sn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let a;if(this.reverse_){const v=this.index_.getCompare();a=(A,I)=>v(I,A)}else a=this.index_.getCompare();const u=t;(0,U.hu)(u.numChildren()===this.limit_,"");const h=new bn(e,i),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(u.hasChild(e)){const v=u.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=A&&(A.name===e||u.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const I=null==A?1:a(A,h);if(m&&!i.isEmpty()&&I>=0)return o?.trackChildChange(fA(e,i,v)),u.updateImmediateChild(e,i);{o?.trackChildChange(hA(e,v));const R=u.updateImmediateChild(e,sn.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(o?.trackChildChange(E0(A.name,A.node)),R.updateImmediateChild(A.name,A.node)):R}}return i.isEmpty()?t:m&&a(p,h)>=0?(null!=o&&(o.trackChildChange(hA(p.name,p.node)),o.trackChildChange(E0(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(p.name,sn.EMPTY_NODE)):t}}class vD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Si}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Si}copy(){const t=new vD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _2(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function y2(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function bD(n,t){const e=n.copy();return e.index_=t,e}function HH(n){const t={};if(n.isDefault())return t;let e;return n.index_===Si?e="$priority":n.index_===p2?e="$value":n.index_===od?e="$key":((0,U.hu)(n.index_ instanceof f2,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,U.Pz)(e),n.startSet_&&(t.startAt=(0,U.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,U.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,U.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,U.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function ZH(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Si&&(t.i=n.index_.toString()),t}class wD extends CH{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=rA("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,U.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=wD.getListenId_(t,i),u={};this.listens_[a]=u;const h=HH(t._queryParams);this.restRequest_(o+".json",h,(p,m)=>{let v=m;if(404===p&&(v=null,p=null),null===p&&this.onDataUpdate_(o,v,!1,i),(0,U.DV)(this.listens_,a)===u){let A;A=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(A,null)}})}unlisten(t,e){const i=wD.getListenId_(t,e);delete this.listens_[i]}get(t){const e=HH(t._queryParams),i=t._path.toString(),r=new U.BH;return this.restRequest_(i+".json",e,(o,a)=>{let u=a;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,U.xO)(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=(0,U.cI)(u.responseText)}catch{ro("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else 401!==u.status&&404!==u.status&&ro("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class Hle{constructor(){this.rootNode_=sn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function CD(){return{value:null,children:new Map}}function A0(n,t,e){if(mn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=gn(t);n.children.has(i)||n.children.set(i,CD()),A0(n.children.get(i),t=wi(t),e)}}function v2(n,t){if(mn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Si,(i,r)=>{A0(n,new Jn(i),r)}),v2(n,t)}}if(n.children.size>0){const e=gn(t);return t=wi(t),n.children.has(e)&&v2(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function b2(n,t,e){null!==n.value?e(t,n.value):function Zle(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{b2(r,new Jn(t.toString()+"/"+i),e)})}class qle{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&fs(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Gle{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qle(t);const i=1e4+2e4*Math.random();oA(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;fs(t,(r,o)=>{o>0&&(0,U.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),oA(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bl||(Bl={})),Bl))();function E2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ED{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Bl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(mn(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Jn(t));return new ED(qn(),e,this.revert)}}return(0,U.hu)(gn(this.path)===t,"operationForChild called for unrelated child."),new ED(wi(this.path),this.affectedTree,this.revert)}}class gA{constructor(t,e){this.source=t,this.path=e,this.type=Bl.LISTEN_COMPLETE}operationForChild(t){return mn(this.path)?new gA(this.source,qn()):new gA(this.source,wi(this.path))}}class y_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Bl.OVERWRITE}operationForChild(t){return mn(this.path)?new y_(this.source,qn(),this.snap.getImmediateChild(t)):new y_(this.source,wi(this.path),this.snap)}}class T0{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Bl.MERGE}operationForChild(t){if(mn(this.path)){const e=this.children.subtree(new Jn(t));return e.isEmpty()?null:e.value?new y_(this.source,qn(),e.value):new T0(this.source,qn(),e)}return(0,U.hu)(gn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new T0(this.source,wi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(mn(t))return this.isFullyInitialized()&&!this.filtered_;const e=gn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class $le{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function mA(n,t,e,i,r,o){const a=i.filter(u=>u.type===e);a.sort((u,h)=>function Kle(n,t,e){if(null==t.childName||null==e.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new bn(t.childName,t.snapshotNode),r=new bn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,h)),a.forEach(u=>{const h=function Yle(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(h,n.query_))})})}function AD(n,t){return{eventCache:n,serverCache:t}}function _A(n,t,e,i){return AD(new Zp(t,e,i),n.serverCache)}function jH(n,t,e,i){return AD(n.eventCache,new Zp(t,e,i))}function TD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function v_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let A2;class Di{constructor(t,e=(()=>(A2||(A2=new na(kae)),A2))()){this.value=t,this.children=e}static fromObject(t){let e=new Di(null);return fs(t,(i,r)=>{e=e.set(new Jn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:qn(),value:this.value};if(mn(t))return null;{const i=gn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(wi(t),e);return null!=o?{path:Ji(new Jn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(mn(t))return this;{const e=gn(t),i=this.children.get(e);return null!==i?i.subtree(wi(t)):new Di(null)}}set(t,e){if(mn(t))return new Di(e,this.children);{const i=gn(t),o=(this.children.get(i)||new Di(null)).set(wi(t),e),a=this.children.insert(i,o);return new Di(this.value,a)}}remove(t){if(mn(t))return this.children.isEmpty()?new Di(null):new Di(null,this.children);{const e=gn(t),i=this.children.get(e);if(i){const r=i.remove(wi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Di(null):new Di(this.value,o)}return this}}get(t){if(mn(t))return this.value;{const e=gn(t),i=this.children.get(e);return i?i.get(wi(t)):null}}setTree(t,e){if(mn(t))return e;{const i=gn(t),o=(this.children.get(i)||new Di(null)).setTree(wi(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Di(this.value,a)}}fold(t){return this.fold_(qn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ji(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,qn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(mn(t))return null;{const o=gn(t),a=this.children.get(o);return a?a.findOnPath_(wi(t),Ji(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,qn(),e)}foreachOnPath_(t,e,i){if(mn(t))return this;{this.value&&i(e,this.value);const r=gn(t),o=this.children.get(r);return o?o.foreachOnPath_(wi(t),Ji(e,r),i):new Di(null)}}foreach(t){this.foreach_(qn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ji(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Nc{constructor(t){this.writeTree_=t}static empty(){return new Nc(new Di(null))}}function yA(n,t,e){if(mn(t))return new Nc(new Di(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const a=Po(r,t);return o=o.updateChild(a,e),new Nc(n.writeTree_.set(r,o))}{const r=new Di(e),o=n.writeTree_.setTree(t,r);return new Nc(o)}}}function T2(n,t,e){let i=n;return fs(e,(r,o)=>{i=yA(i,Ji(t,r),o)}),i}function zH(n,t){if(mn(t))return Nc.empty();{const e=n.writeTree_.setTree(t,new Di(null));return new Nc(e)}}function x2(n,t){return null!=b_(n,t)}function b_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Po(e.path,t)):null}function GH(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Si,(i,r)=>{t.push(new bn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new bn(i,r.value))}),t}function qp(n,t){if(mn(t))return n;{const e=b_(n,t);return new Nc(null!=e?new Di(e):n.writeTree_.subtree(t))}}function I2(n){return n.writeTree_.isEmpty()}function x0(n,t){return $H(qn(),n.writeTree_,t)}function $H(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,U.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=$H(Ji(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ji(n,".priority"),i)),e}}function xD(n,t){return JH(t,n)}function nce(n,t){if(n.snap)return Ul(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ul(Ji(n.path,e),t))return!0;return!1}function rce(n){return n.visible}function WH(n,t,e){let i=Nc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const a=o.path;let u;if(o.snap)Ul(e,a)?(u=Po(e,a),i=yA(i,u,o.snap)):Ul(a,e)&&(u=Po(a,e),i=yA(i,qn(),o.snap.getChild(u)));else{if(!o.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Ul(e,a))u=Po(e,a),i=T2(i,u,o.children);else if(Ul(a,e))if(u=Po(a,e),mn(u))i=T2(i,qn(),o.children);else{const h=(0,U.DV)(o.children,gn(u));if(h){const p=h.getChild(wi(u));i=yA(i,qn(),p)}}}}}return i}function YH(n,t,e,i,r){if(i||r){const o=qp(n.visibleWrites,t);return!r&&I2(o)?e:r||null!=e||x2(o,qn())?x0(WH(n.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Ul(p.path,t)||Ul(t,p.path))},t),e||sn.EMPTY_NODE):null}{const o=b_(n.visibleWrites,t);if(null!=o)return o;{const a=qp(n.visibleWrites,t);return I2(a)?e:null!=e||x2(a,qn())?x0(a,e||sn.EMPTY_NODE):null}}}function ID(n,t,e,i){return YH(n.writeTree,n.treePath,t,e,i)}function S2(n,t){return function sce(n,t,e){let i=sn.EMPTY_NODE;const r=b_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Si,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=qp(n.visibleWrites,t);return e.forEachChild(Si,(a,u)=>{const h=x0(qp(o,new Jn(a)),u);i=i.updateImmediateChild(a,h)}),GH(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return GH(qp(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function KH(n,t,e,i){return function oce(n,t,e,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ji(t,e);if(x2(n.visibleWrites,o))return null;{const a=qp(n.visibleWrites,o);return I2(a)?r.getChild(e):x0(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function SD(n,t){return function lce(n,t){return b_(n.visibleWrites,t)}(n.writeTree,Ji(n.treePath,t))}function D2(n,t,e){return function ace(n,t,e,i){const r=Ji(t,e),o=b_(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?x0(qp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function QH(n,t){return JH(Ji(n.treePath,t),n.writeTree)}function JH(n,t){return{treePath:n,writeTree:t}}class hce{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,U.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,fA(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,hA(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,E0(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,U.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,fA(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const XH=new class fce{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class M2{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Zp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return D2(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:v_(this.viewCache_),o=function dce(n,t,e,i,r,o){return function cce(n,t,e,i,r,o,a){let u;const h=qp(n.visibleWrites,t),p=b_(h,qn());if(null!=p)u=p;else{if(null==e)return[];u=x0(h,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const m=[],v=a.getCompare(),A=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let I=A.getNext();for(;I&&m.length<r;)0!==v(I,i)&&m.push(I),I=A.getNext();return m}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function eZ(n,t,e,i,r,o){const a=t.eventCache;if(null!=SD(i,e))return t;{let u,h;if(mn(e))if((0,U.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=v_(t),v=S2(i,p instanceof sn?p:sn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),v,o)}else{const p=ID(i,v_(t));u=n.filter.updateFullNode(t.eventCache.getNode(),p,o)}else{const p=gn(e);if(".priority"===p){(0,U.hu)(1===Hp(e),"Can't have a priority with additional path components");const m=a.getNode();h=t.serverCache.getNode();const v=KH(i,e,m,h);u=null!=v?n.filter.updatePriority(m,v):a.getNode()}else{const m=wi(e);let v;if(a.isCompleteForChild(p)){h=t.serverCache.getNode();const A=KH(i,e,a.getNode(),h);v=null!=A?a.getNode().getImmediateChild(p).updateChild(m,A):a.getNode().getImmediateChild(p)}else v=D2(i,p,t.serverCache);u=null!=v?n.filter.updateChild(a.getNode(),p,v,m,r,o):a.getNode()}}return _A(t,u,a.isFullyInitialized()||mn(e),n.filter.filtersNodes())}}function DD(n,t,e,i,r,o,a,u){const h=t.serverCache;let p;const m=a?n.filter:n.filter.getIndexedFilter();if(mn(e))p=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const I=h.getNode().updateChild(e,i);p=m.updateFullNode(h.getNode(),I,null)}else{const I=gn(e);if(!h.isCompleteForPath(e)&&Hp(e)>1)return t;const M=wi(e),L=h.getNode().getImmediateChild(I).updateChild(M,i);p=".priority"===I?m.updatePriority(h.getNode(),L):m.updateChild(h.getNode(),I,L,M,XH,null)}const v=jH(t,p,h.isFullyInitialized()||mn(e),m.filtersNodes());return eZ(n,v,e,r,new M2(r,v,o),u)}function P2(n,t,e,i,r,o,a){const u=t.eventCache;let h,p;const m=new M2(r,t,o);if(mn(e))p=n.filter.updateFullNode(t.eventCache.getNode(),i,a),h=_A(t,p,!0,n.filter.filtersNodes());else{const v=gn(e);if(".priority"===v)p=n.filter.updatePriority(t.eventCache.getNode(),i),h=_A(t,p,u.isFullyInitialized(),u.isFiltered());else{const A=wi(e),I=u.getNode().getImmediateChild(v);let M;if(mn(A))M=i;else{const R=m.getCompleteChild(v);M=null!=R?".priority"===a2(A)&&R.getChild(xH(A)).isEmpty()?R:R.updateChild(A,i):sn.EMPTY_NODE}h=I.equals(M)?t:_A(t,n.filter.updateChild(u.getNode(),v,M,A,m,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return h}function tZ(n,t){return n.eventCache.isCompleteForChild(t)}function nZ(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function R2(n,t,e,i,r,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p,h=t;p=mn(e)?i:new Di(null).setTree(e,i);const m=t.serverCache.getNode();return p.children.inorderTraversal((v,A)=>{if(m.hasChild(v)){const M=nZ(0,t.serverCache.getNode().getImmediateChild(v),A);h=DD(n,h,new Jn(v),M,r,o,a,u)}}),p.children.inorderTraversal((v,A)=>{const I=!t.serverCache.isCompleteForChild(v)&&void 0===A.value;if(!m.hasChild(v)&&!I){const R=nZ(0,t.serverCache.getNode().getImmediateChild(v),A);h=DD(n,h,new Jn(v),R,r,o,a,u)}}),h}class Cce{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new m2(i.getIndex()),o=function Fle(n){return n.loadsAllData()?new m2(n.getIndex()):n.hasLimit()?new Ole(n):new pA(n)}(i);this.processor_=function pce(n){return{filter:n}}(o);const a=e.serverCache,u=e.eventCache,h=r.updateFullNode(sn.EMPTY_NODE,a.getNode(),null),p=o.updateFullNode(sn.EMPTY_NODE,u.getNode(),null),m=new Zp(h,a.isFullyInitialized(),r.filtersNodes()),v=new Zp(p,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=AD(v,m),this.eventGenerator_=new $le(this.query_)}get query(){return this.query_}}function Tce(n,t){const e=v_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!mn(t)&&!e.getImmediateChild(gn(t)).isEmpty())?e.getChild(t):null}function iZ(n){return 0===n.eventRegistrations_.length}function rZ(n,t,e){const i=[];if(e){(0,U.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function sZ(n,t,e,i){t.type===Bl.MERGE&&null!==t.source.queryId&&((0,U.hu)(v_(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(TD(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function mce(n,t,e,i,r){const o=new hce;let a,u;if(e.type===Bl.OVERWRITE){const p=e;p.source.fromUser?a=P2(n,t,p.path,p.snap,i,r,o):((0,U.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!mn(p.path),a=DD(n,t,p.path,p.snap,i,r,u,o))}else if(e.type===Bl.MERGE){const p=e;p.source.fromUser?a=function yce(n,t,e,i,r,o,a){let u=t;return i.foreach((h,p)=>{const m=Ji(e,h);tZ(t,gn(m))&&(u=P2(n,u,m,p,r,o,a))}),i.foreach((h,p)=>{const m=Ji(e,h);tZ(t,gn(m))||(u=P2(n,u,m,p,r,o,a))}),u}(n,t,p.path,p.children,i,r,o):((0,U.hu)(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),a=R2(n,t,p.path,p.children,i,r,u,o))}else if(e.type===Bl.ACK_USER_WRITE){const p=e;a=p.revert?function wce(n,t,e,i,r,o){let a;if(null!=SD(i,e))return t;{const u=new M2(i,t,r),h=t.eventCache.getNode();let p;if(mn(e)||".priority"===gn(e)){let m;if(t.serverCache.isFullyInitialized())m=ID(i,v_(t));else{const v=t.serverCache.getNode();(0,U.hu)(v instanceof sn,"serverChildren would be complete if leaf node"),m=S2(i,v)}p=n.filter.updateFullNode(h,m,o)}else{const m=gn(e);let v=D2(i,m,t.serverCache);null==v&&t.serverCache.isCompleteForChild(m)&&(v=h.getImmediateChild(m)),p=null!=v?n.filter.updateChild(h,m,v,wi(e),u,o):t.eventCache.getNode().hasChild(m)?n.filter.updateChild(h,m,sn.EMPTY_NODE,wi(e),u,o):h,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ID(i,v_(t)),a.isLeafNode()&&(p=n.filter.updateFullNode(p,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=SD(i,qn()),_A(t,p,a,n.filter.filtersNodes())}}(n,t,p.path,i,r,o):function vce(n,t,e,i,r,o,a){if(null!=SD(r,e))return t;const u=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(mn(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return DD(n,t,e,h.getNode().getChild(e),r,o,u,a);if(mn(e)){let p=new Di(null);return h.getNode().forEachChild(od,(m,v)=>{p=p.set(new Jn(m),v)}),R2(n,t,e,p,r,o,u,a)}return t}{let p=new Di(null);return i.foreach((m,v)=>{const A=Ji(e,m);h.isCompleteForPath(A)&&(p=p.set(m,h.getNode().getChild(A)))}),R2(n,t,e,p,r,o,u,a)}}(n,t,p.path,p.affectedTree,i,r,o)}else{if(e.type!==Bl.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+e.type);a=function bce(n,t,e,i,r){const o=t.serverCache;return eZ(n,jH(t,o.getNode(),o.isFullyInitialized()||mn(e),o.isFiltered()),e,i,XH,r)}(n,t,e.path,i,o)}const h=o.getChanges();return function _ce(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=TD(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(VH(TD(t)))}}(t,a,h),{viewCache:a,changes:h}}(n.processor_,r,t,e,i);return function gce(n,t){(0,U.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,U.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,oZ(n,o.changes,o.viewCache.eventCache.getNode(),null)}function oZ(n,t,e,i){return function Wle(n,t,e,i){const r=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function kle(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),mA(n,r,"child_removed",t,i,e),mA(n,r,"child_added",t,i,e),mA(n,r,"child_moved",o,i,e),mA(n,r,"child_changed",t,i,e),mA(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let MD,RD;class aZ{constructor(){this.views=new Map}}function N2(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,U.hu)(null!=o,"SyncTree gave us an op for an invalid query."),sZ(o,t,e,i)}{let o=[];for(const a of n.views.values())o=o.concat(sZ(a,t,e,i));return o}}function k2(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=ID(e,r?i:null),h=!1;u?h=!0:i instanceof sn?(u=S2(e,i),h=!1):(u=sn.EMPTY_NODE,h=!1);const p=AD(new Zp(u,h,!1),new Zp(i,r,!1));return new Cce(t,p)}return a}function lZ(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function jp(n,t){let e=null;for(const i of n.views.values())e=e||Tce(i,t);return e}function cZ(n,t){return t._queryParams.loadsAllData()?PD(n):n.views.get(t._queryIdentifier)}function uZ(n,t){return null!=cZ(n,t)}function zp(n){return null!=PD(n)}function PD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Oce=1;class dZ{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Di(null),this.pendingWriteTree_=function uce(){return{visibleWrites:Nc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O2(n,t,e,i,r){return function Jle(n,t,e,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=yA(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?I0(n,new y_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Gp(n,t,e=!1){const i=function ece(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function tce(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,U.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&nce(u,i.path)?r=!1:Ul(i.path,u.path)&&(o=!0)),a--}return!!r&&(o?(function ice(n){n.visibleWrites=WH(n.allWrites,rce,qn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=zH(n.visibleWrites,i.path):fs(i.children,h=>{n.visibleWrites=zH(n.visibleWrites,Ji(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let o=new Di(null);return null!=i.snap?o=o.set(qn(),!0):fs(i.children,a=>{o=o.set(new Jn(a),!0)}),I0(n,new ED(i.path,o,e))}return[]}function vA(n,t,e){return I0(n,new y_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ND(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let a=[];if(o&&("default"===t._queryIdentifier||uZ(o,t))){const u=function Rce(n,t,e,i){const r=t._queryIdentifier,o=[];let a=[];const u=zp(n);if("default"===r)for(const[h,p]of n.views.entries())a=a.concat(rZ(p,e,i)),iZ(p)&&(n.views.delete(h),p.query._queryParams.loadsAllData()||o.push(p.query));else{const h=n.views.get(r);h&&(a=a.concat(rZ(h,e,i)),iZ(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!zp(n)&&o.push(new(function Dce(){return(0,U.hu)(MD,"Reference.ts has not been loaded"),MD}())(t._repo,t._path)),{removed:o,events:a}}(o,t,e,i);(function Mce(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const h=u.removed;a=u.events;const p=-1!==h.findIndex(v=>v._queryParams.loadsAllData()),m=n.syncPointTree_.findOnPath(r,(v,A)=>zp(A));if(p&&!m){const v=n.syncPointTree_.subtree(r);if(!v.isEmpty()){const A=function qce(n){return n.fold((t,e,i)=>{if(e&&zp(e))return[PD(e)];{let r=[];return e&&(r=lZ(e)),fs(i,(o,a)=>{r=r.concat(a)}),r}})}(v);for(let I=0;I<A.length;++I){const M=A[I],R=M.query,L=_Z(n,M);n.listenProvider_.startListening(wA(R),bA(n,R),L.hashFn,L.onComplete)}}}!m&&h.length>0&&!i&&(p?n.listenProvider_.stopListening(wA(t),null):h.forEach(v=>{const A=n.queryToTagMap.get(OD(v));n.listenProvider_.stopListening(wA(v),A)})),function jce(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=OD(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,h)}return a}function hZ(n,t,e,i){const r=F2(n,i);if(null!=r){const o=L2(r),a=o.path,u=o.queryId,h=Po(a,t);return U2(n,a,new y_(E2(u),h,e))}return[]}function fZ(n,t){const e=n._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(e,(p,m)=>{const v=Po(p,e);i=i||jp(m,v),r=r||zp(m)});let a,o=t.syncPointTree_.get(e);o?(r=r||zp(o),i=i||jp(o,qn())):(o=new aZ,t.syncPointTree_=t.syncPointTree_.set(e,o)),null!=i?a=!0:(a=!1,i=sn.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((m,v)=>{const A=jp(v,qn());A&&(i=i.updateImmediateChild(m,A))}));const u=uZ(o,n);if(!u&&!n._queryParams.loadsAllData()){const p=OD(n);(0,U.hu)(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const m=function zce(){return Oce++}();t.queryToTagMap.set(p,m),t.tagToQueryMap.set(m,p)}return{syncPoint:o,writesCache:xD(t.pendingWriteTree_,e),serverCache:i,serverCacheComplete:a,foundAncestorDefaultView:r,viewAlreadyExists:u}}function pZ(n,t,e){const{syncPoint:i,serverCache:r,writesCache:o,serverCacheComplete:a,viewAlreadyExists:u,foundAncestorDefaultView:h}=fZ(t,n);let p=function Pce(n,t,e,i,r,o){const a=k2(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function xce(n,t){n.eventRegistrations_.push(t)}(a,e),function Ice(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Si,(o,a)=>{i.push(E0(o,a))}),e.isFullyInitialized()&&i.push(VH(e.getNode())),oZ(n,i,e.getNode(),t)}(a,e)}(i,t,e,o,r,a);if(!u&&!h){const m=cZ(i,t);p=p.concat(function Gce(n,t,e){const i=t._path,r=bA(n,t),o=_Z(n,e),a=n.listenProvider_.startListening(wA(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!zp(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((p,m,v)=>{if(!mn(p)&&m&&zp(m))return[PD(m).query];{let A=[];return m&&(A=A.concat(lZ(m).map(I=>I.query))),fs(v,(I,M)=>{A=A.concat(M)}),A}});for(let p=0;p<h.length;++p){const m=h[p];n.listenProvider_.stopListening(wA(m),bA(n,m))}}return a}(n,t,m))}return p}function kD(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,u)=>{const p=jp(u,Po(a,t));if(p)return p});return YH(r,t,o,e,!0)}function I0(n,t){return gZ(t,n.syncPointTree_,null,xD(n.pendingWriteTree_,qn()))}function gZ(n,t,e,i){if(mn(n.path))return mZ(n,t,e,i);{const r=t.get(qn());null==e&&null!=r&&(e=jp(r,qn()));let o=[];const a=gn(n.path),u=n.operationForChild(a),h=t.children.get(a);if(h&&u){const p=e?e.getImmediateChild(a):null,m=QH(i,a);o=o.concat(gZ(u,h,p,m))}return r&&(o=o.concat(N2(r,n,i,e))),o}}function mZ(n,t,e,i){const r=t.get(qn());null==e&&null!=r&&(e=jp(r,qn()));let o=[];return t.children.inorderTraversal((a,u)=>{const h=e?e.getImmediateChild(a):null,p=QH(i,a),m=n.operationForChild(a);m&&(o=o.concat(mZ(m,u,h,p)))}),r&&(o=o.concat(N2(r,n,i,e))),o}function _Z(n,t){const e=t.query,i=bA(n,e);return{hashFn:()=>(function Ece(n){return n.viewCache_.serverCache.getNode()}(t)||sn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Bce(n,t,e){const i=F2(n,e);if(i){const r=L2(i),o=r.path,a=r.queryId,u=Po(o,t);return U2(n,o,new gA(E2(a),u))}return[]}(n,e._path,i):function Uce(n,t){return I0(n,new gA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function Lae(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return ND(n,e,null,o)}}}}function bA(n,t){const e=OD(t);return n.queryToTagMap.get(e)}function OD(n){return n._path.toString()+"$"+n._queryIdentifier}function F2(n,t){return n.tagToQueryMap.get(t)}function L2(n){const t=n.indexOf("$");return(0,U.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Jn(n.substr(0,t))}}function U2(n,t,e){const i=n.syncPointTree_.get(t);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),N2(i,e,xD(n.pendingWriteTree_,t),null)}function wA(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function kce(){return(0,U.hu)(RD,"Reference.ts has not been loaded"),RD}())(n._repo,n._path):n}class B2{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new B2(e)}node(){return this.node_}}class V2{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ji(this.path_,t);return new V2(this.syncTree_,e)}node(){return kD(this.syncTree_,this.path_)}}const yZ=function(n,t,e){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Wce(n[".sv"],t,e):"object"==typeof n[".sv"]?Yce(n[".sv"],t):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Wce=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},Yce=function(n,t,e){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,U.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},vZ=function(n,t,e,i){return Z2(t,new V2(e,n),i)},H2=function(n,t,e){return Z2(n,new B2(t),e)};function Z2(n,t,e){const i=n.getPriority().val(),r=yZ(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const a=n,u=yZ(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new b0(u,sr(r)):n}{const a=n;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new b0(r))),a.forEachChild(Si,(u,h)=>{const p=Z2(h,t.getImmediateChild(u),e);p!==h&&(o=o.updateImmediateChild(u,p))}),o}}class q2{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function FD(n,t){let e=t instanceof Jn?t:new Jn(t),i=n,r=gn(e);for(;null!==r;){const o=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new q2(r,i,o),e=wi(e),r=gn(e)}return i}function w_(n){return n.node.value}function j2(n,t){n.node.value=t,z2(n)}function bZ(n){return n.node.childCount>0}function LD(n,t){fs(n.node.children,(e,i)=>{t(new q2(e,n,i))})}function wZ(n,t,e,i){e&&!i&&t(n),LD(n,r=>{wZ(r,t,!0,i)}),e&&i&&t(n)}function CA(n){return new Jn(null===n.parent?n.name:CA(n.parent)+"/"+n.name)}function z2(n){null!==n.parent&&function Jce(n,t,e){const i=function Kce(n){return void 0===w_(n)&&!bZ(n)}(e),r=(0,U.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,z2(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,z2(n))}(n.parent,n.name,n)}const Xce=/[\[\].#$\/\u0000-\u001F\u007F]/,eue=/[\[\].#$\u0000-\u001F\u007F]/,G2=10485760,UD=function(n){return"string"==typeof n&&0!==n.length&&!Xce.test(n)},CZ=function(n){return"string"==typeof n&&0!==n.length&&!eue.test(n)},EA=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!uD(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},ad=function(n,t,e,i){i&&void 0===t||AA((0,U.gK)(n,"value"),t,e)},AA=function(n,t,e){const i=e instanceof Jn?new ple(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+m_(i));if("function"==typeof t)throw new Error(n+"contains a function "+m_(i)+" with contents = "+t.toString());if(uD(t))throw new Error(n+"contains "+t.toString()+" "+m_(i));if("string"==typeof t&&t.length>G2/3&&(0,U.ug)(t)>G2)throw new Error(n+"contains a string greater than "+G2+" utf8 bytes "+m_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(fs(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!UD(a)))throw new Error(n+" contains an invalid key ("+a+") "+m_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function gle(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,U.ug)(t),IH(n)})(i,a),AA(n,u,i),function mle(n){const t=n.parts_.pop();n.byteLength_-=(0,U.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+m_(i)+" in addition to actual children.")}},EZ=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,U.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];fs(t,(a,u)=>{const h=new Jn(a);if(AA(r,u,Ji(e,h)),".priority"===a2(h)&&!EA(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=lA(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!UD(o[a]))throw new Error(n+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(fle);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ul(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},$2=function(n,t,e){if(!e||void 0!==t){if(uD(t))throw new Error((0,U.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!EA(t))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},TA=function(n,t,e,i){if(!(i&&void 0===e||UD(e)))throw new Error((0,U.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xA=function(n,t,e,i){if(!(i&&void 0===e||CZ(e)))throw new Error((0,U.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vl=function(n,t){if(".info"===gn(t))throw new Error(n+" failed = Can't modify data under /.info/")},AZ=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!UD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CZ(n)}(e))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BD(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!l2(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function TZ(n,t,e){BD(n,e),xZ(n,i=>l2(i,t))}function Hl(n,t,e){BD(n,e),xZ(n,i=>Ul(i,t)||Ul(t,i))}function xZ(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(sue(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function sue(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();p_&&hs("event: "+e.toString()),y0(i)}}}const IZ="repo_interrupt";class aue{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=CD(),this.transactionQueueTree_=new q2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SZ(n){const e=n.infoData_.getNode(new Jn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function IA(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:SZ(n)})}function DZ(n,t,e,i,r){n.dataUpdateCount++;const o=new Jn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const h=(0,U.UI)(e,p=>sr(p));a=function Hce(n,t,e,i){const r=F2(n,i);if(r){const o=L2(r),a=o.path,u=o.queryId,h=Po(a,t),p=Di.fromObject(e);return U2(n,a,new T0(E2(u),h,p))}return[]}(n.serverSyncTree_,o,h,r)}else{const h=sr(e);a=hZ(n.serverSyncTree_,o,h,r)}else if(i){const h=(0,U.UI)(e,p=>sr(p));a=function Lce(n,t,e){const i=Di.fromObject(e);return I0(n,new T0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,h)}else{const h=sr(e);a=vA(n.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=S0(n,o)),Hl(n.eventQueue_,u,a)}function MZ(n,t){W2(n,"connected",t),!1===t&&function hue(n){C_(n,"onDisconnectEvents");const t=IA(n),e=CD();b2(n.onDisconnect_,qn(),(r,o)=>{const a=vZ(r,o,n.serverSyncTree_,t);A0(e,r,a)});let i=[];b2(e,qn(),(r,o)=>{i=i.concat(vA(n.serverSyncTree_,r,o));const a=J2(n,r);S0(n,a)}),n.onDisconnect_=CD(),Hl(n.eventQueue_,qn(),i)}(n)}function W2(n,t,e){const i=new Jn("/.info/"+t),r=sr(e);n.infoData_.updateSnapshot(i,r);const o=vA(n.infoSyncTree_,i,r);Hl(n.eventQueue_,i,o)}function VD(n){return n.nextWriteId_++}function uue(n,t){const e=function Zce(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(p,m)=>{const v=Po(p,e);i=i||jp(m,v)});let r=n.syncPointTree_.get(e);r?i=i||jp(r,qn()):(r=new aZ,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,a=o?new Zp(i,!0,!1):null;return function Ace(n){return TD(n.viewCache_)}(k2(r,t,xD(n.pendingWriteTree_,t._path),o?a.getNode():sn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=sr(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())vA(n.serverSyncTree_,t._path,r);else{const a=function Vce(n,t){const{syncPoint:e,serverCache:i,writesCache:r,serverCacheComplete:o}=fZ(t,n),a=k2(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),t._queryParams.loadsAllData()?null:bA(n,t)}(n.serverSyncTree_,t);hZ(n.serverSyncTree_,t._path,r,a)}return ND(n.serverSyncTree_,t,null).length>0&&C_(n,"unexpected cancel events in repoGetValue"),r},i=>(C_(n,"get for query "+(0,U.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}function Y2(n,t,e,i,r){C_(n,"set",{path:t.toString(),value:e,priority:i});const o=IA(n),a=sr(e,i),u=kD(n.serverSyncTree_,t),h=H2(a,u,o),p=VD(n),m=O2(n.serverSyncTree_,t,h,p,!0);BD(n.eventQueue_,m),n.server_.put(t.toString(),a.val(!0),(A,I)=>{const M="ok"===A;M||ro("set at "+t+" failed: "+A);const R=Gp(n.serverSyncTree_,p,!M);Hl(n.eventQueue_,t,R),$p(0,r,A,I)});const v=J2(n,t);S0(n,v),Hl(n.eventQueue_,v,[])}function fue(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&v2(n.onDisconnect_,t),$p(0,e,i,r)})}function PZ(n,t,e,i){const r=sr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{"ok"===o&&A0(n.onDisconnect_,t,r),$p(0,i,o,a)})}function K2(n,t,e){let i;i=".info"===gn(t._path)?ND(n.infoSyncTree_,t,e):ND(n.serverSyncTree_,t,e),TZ(n.eventQueue_,t._path,i)}function RZ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(IZ)}function C_(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),hs(e,...t)}function $p(n,t,e,i){t&&y0(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function Q2(n,t,e){return kD(n.serverSyncTree_,t,e)||sn.EMPTY_NODE}function HD(n,t=n.transactionQueueTree_){if(t||ZD(n,t),w_(t)){const e=kZ(n,t);(0,U.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function vue(n,t,e){const i=e.map(p=>p.currentWriteId),r=Q2(n,t,i);let o=r;const a=r.hash();for(let p=0;p<e.length;p++){const m=e[p];(0,U.hu)(0===m.status,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=Po(t,m.path);o=o.updateChild(v,m.currentOutputSnapshotRaw)}const u=o.val(!0),h=t;n.server_.put(h.toString(),u,p=>{C_(n,"transaction put response",{path:h.toString(),status:p});let m=[];if("ok"===p){const v=[];for(let A=0;A<e.length;A++)e[A].status=2,m=m.concat(Gp(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&v.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();ZD(n,FD(n.transactionQueueTree_,t)),HD(n,n.transactionQueueTree_),Hl(n.eventQueue_,t,m);for(let A=0;A<v.length;A++)y0(v[A])}else{if("datastale"===p)for(let v=0;v<e.length;v++)e[v].status=3===e[v].status?4:0;else{ro("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<e.length;v++)e[v].status=4,e[v].abortReason=p}S0(n,t)}},a)}(n,CA(t),e)}else bZ(t)&&LD(t,e=>{HD(n,e)})}function S0(n,t){const e=NZ(n,t),i=CA(e);return function bue(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const h=t[u],p=Po(e,h.path);let v,m=!1;if((0,U.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)m=!0,v=h.abortReason,r=r.concat(Gp(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)m=!0,v="maxretry",r=r.concat(Gp(n.serverSyncTree_,h.currentWriteId,!0));else{const A=Q2(n,h.path,a);h.currentInputSnapshot=A;const I=t[u].update(A.val());if(void 0!==I){AA("transaction failed: Data returned ",I,h.path);let M=sr(I);"object"==typeof I&&null!=I&&(0,U.r3)(I,".priority")||(M=M.updatePriority(A.getPriority()));const L=h.currentWriteId,q=IA(n),X=H2(M,A,q);h.currentOutputSnapshotRaw=M,h.currentOutputSnapshotResolved=X,h.currentWriteId=VD(n),a.splice(a.indexOf(L),1),r=r.concat(O2(n.serverSyncTree_,h.path,X,h.currentWriteId,h.applyLocally)),r=r.concat(Gp(n.serverSyncTree_,L,!0))}else m=!0,v="nodata",r=r.concat(Gp(n.serverSyncTree_,h.currentWriteId,!0))}Hl(n.eventQueue_,e,r),r=[],m&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===v?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(v),!1,null)))}ZD(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)y0(i[u]);HD(n,n.transactionQueueTree_)}(n,kZ(n,e),i),i}function NZ(n,t){let e,i=n.transactionQueueTree_;for(e=gn(t);null!==e&&void 0===w_(i);)i=FD(i,e),e=gn(t=wi(t));return i}function kZ(n,t){const e=[];return OZ(n,t,e),e.sort((i,r)=>i.order-r.order),e}function OZ(n,t,e){const i=w_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);LD(t,r=>{OZ(n,r,e)})}function ZD(n,t){const e=w_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,j2(t,e.length>0?e:void 0)}LD(t,i=>{ZD(n,i)})}function J2(n,t){const e=CA(NZ(n,t)),i=FD(n.transactionQueueTree_,t);return function Qce(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{X2(n,r)}),X2(n,i),wZ(i,r=>{X2(n,r)}),e}function X2(n,t){const e=w_(t);if(e){const i=[];let r=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,U.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,U.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(Gp(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?j2(t,void 0):e.length=o+1,Hl(n.eventQueue_,CA(t),r);for(let a=0;a<i.length;a++)y0(i[a])}}const eF=function(n,t){const e=Eue(n),i=e.namespace;return"firebase.com"===e.domain&&rd(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ro("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new e2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Jn(e.pathString)}},Eue=function(n){let t="",e="",i="",r="",o="",a=!0,u="https",h=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(u=n.substring(0,p-1),n=n.substring(p+2));let m=n.indexOf("/");-1===m&&(m=n.length);let v=n.indexOf("?");-1===v&&(v=n.length),t=n.substring(0,Math.min(m,v)),m<v&&(r=function wue(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(m,v)));const A=function Cue(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ro(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,v)));p=t.indexOf(":"),p>=0?(a="https"===u||"wss"===u,h=parseInt(t.substring(p+1),10)):p=t.length;const I=t.slice(0,p);if("localhost"===I.toLowerCase())e="localhost";else if(I.split(".").length<=2)e=I;else{const M=t.indexOf(".");i=t.substring(0,M).toLowerCase(),e=t.substring(M+1),o=i}"ns"in A&&(o=A.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}};class FZ{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Pz)(this.snapshot.exportVal())}}class LZ{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class UZ{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class BZ{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new U.BH;return fue(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Vl("OnDisconnect.remove",this._path);const t=new U.BH;return PZ(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Vl("OnDisconnect.set",this._path),ad("OnDisconnect.set",t,this._path,!1);const e=new U.BH;return PZ(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Vl("OnDisconnect.setWithPriority",this._path),ad("OnDisconnect.setWithPriority",t,this._path,!1),$2("OnDisconnect.setWithPriority",e,!1);const i=new U.BH;return function pue(n,t,e,i,r){const o=sr(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(a,u)=>{"ok"===a&&A0(n.onDisconnect_,t,o),$p(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Vl("OnDisconnect.update",this._path),EZ("OnDisconnect.update",t,this._path,!1);const e=new U.BH;return function gue(n,t,e,i){if((0,U.xb)(e))return hs("onDisconnect().update() called with empty data.  Don't do anything."),void $p(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&fs(e,(a,u)=>{const h=sr(u);A0(n.onDisconnect_,Ji(t,a),h)}),$p(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ia{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return mn(this._path)?null:a2(this._path)}get ref(){return new Zl(this._repo,this._path)}get _queryIdentifier(){const t=ZH(this._queryParams),e=QO(t);return"{}"===e?"default":e}get _queryObject(){return ZH(this._queryParams)}isEqual(t){if(!((t=(0,U.m9)(t))instanceof ia))return!1;const e=this._repo===t._repo,i=l2(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function hle(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function qD(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Wp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===od){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Bh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==sd)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Si){if(null!=t&&!EA(t)||null!=e&&!EA(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof f2||n.getIndex()===p2,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zl extends ia{constructor(t,e){super(t,e,new vD,!1)}get parent(){const t=xH(this._path);return null===t?null:new Zl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class E_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Jn(t),i=A_(this.ref,t);return new E_(this._node.getChild(e),i,Si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new E_(r,A_(this.ref,i),Si)))}hasChild(t){const e=new Jn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function VZ(n,t){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==t?A_(n._root,t):n._root}function HZ(n,t){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const e=eF(t,n._repo.repoInfo_.nodeAdmin);AZ("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&rd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),VZ(n,e.path.toString())}function A_(n,t){return null===gn((n=(0,U.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xA("child","path",e,!1)):xA("child","path",t,!1),new Zl(n._repo,Ji(n._path,t));var e}function tF(n,t){n=(0,U.m9)(n),Vl("set",n._path),ad("set",t,n._path,!1);const e=new U.BH;return Y2(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Sue(n,t){EZ("update",t,n._path,!1);const e=new U.BH;return function due(n,t,e,i){C_(n,"update",{path:t.toString(),value:e});let r=!0;const o=IA(n),a={};if(fs(e,(u,h)=>{r=!1,a[u]=vZ(Ji(t,u),sr(h),n.serverSyncTree_,o)}),r)hs("update() called with empty data.  Don't do anything."),$p(0,i,"ok",void 0);else{const u=VD(n),h=function Fce(n,t,e,i){!function Xle(n,t,e,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=T2(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Di.fromObject(e);return I0(n,new T0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);BD(n.eventQueue_,h),n.server_.merge(t.toString(),e,(p,m)=>{const v="ok"===p;v||ro("update at "+t+" failed: "+p);const A=Gp(n.serverSyncTree_,u,!v),I=A.length>0?S0(n,t):t;Hl(n.eventQueue_,I,A),$p(0,i,p,m)}),fs(e,p=>{const m=J2(n,Ji(t,p));S0(n,m)}),Hl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class zD{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new FZ("value",this,new E_(t.snapshotNode,new Zl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new LZ(this,t,e):null}matches(t){return t instanceof zD&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class GD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new LZ(this,t,e):null}createEvent(t,e){(0,U.hu)(null!=t.childName,"Child events should have a childName.");const i=A_(new Zl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new FZ(t.type,this,new E_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof GD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function SA(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const h=e,p=(m,v)=>{K2(n._repo,n,u),h(m,v)};p.userCallback=e.userCallback,p.context=e.context,e=p}const a=new UZ(e,o||void 0),u="value"===t?new zD(a):new GD(t,a);return function mue(n,t,e){let i;i=".info"===gn(t._path)?pZ(n.infoSyncTree_,t,e):pZ(n.serverSyncTree_,t,e),TZ(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>K2(n._repo,n,u)}function nF(n,t,e,i){return SA(n,"value",t,e,i)}function ZZ(n,t,e,i){return SA(n,"child_added",t,e,i)}function qZ(n,t,e,i){return SA(n,"child_changed",t,e,i)}function jZ(n,t,e,i){return SA(n,"child_moved",t,e,i)}function zZ(n,t,e,i){return SA(n,"child_removed",t,e,i)}function GZ(n,t,e){let i=null;const r=e?new UZ(e):null;"value"===t?i=new zD(r):t&&(i=new GD(t,r)),K2(n._repo,n,i)}class kc{}class $Z extends kc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ad("endAt",this._value,t._path,!0);const e=y2(t._queryParams,this._value,this._key);if(jD(e),Wp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class Pue extends kc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ad("endBefore",this._value,t._path,!1);const e=function Vle(n,t,e){let i,r;return n.index_===od?("string"==typeof t&&(t=BH(t)),r=y2(n,t,e)):(i=null==e?Bh:BH(e),r=y2(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(jD(e),Wp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class WZ extends kc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ad("startAt",this._value,t._path,!0);const e=_2(t._queryParams,this._value,this._key);if(jD(e),Wp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class kue extends kc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ad("startAfter",this._value,t._path,!1);const e=function Ble(n,t,e){let i;if(n.index_===od)"string"==typeof t&&(t=UH(t)),i=_2(n,t,e);else{let r;r=null==e?sd:UH(e),i=_2(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(jD(e),Wp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ia(t._repo,t._path,e,t._orderByCalled)}}class Fue extends kc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(t._repo,t._path,function Lle(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Uue extends kc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(t._repo,t._path,function Ule(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Vue extends kc{constructor(t){super(),this._path=t}_apply(t){qD(t,"orderByChild");const e=new Jn(this._path);if(mn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new f2(e),r=bD(t._queryParams,i);return Wp(r),new ia(t._repo,t._path,r,!0)}}class Zue extends kc{_apply(t){qD(t,"orderByKey");const e=bD(t._queryParams,od);return Wp(e),new ia(t._repo,t._path,e,!0)}}class jue extends kc{_apply(t){qD(t,"orderByPriority");const e=bD(t._queryParams,Si);return Wp(e),new ia(t._repo,t._path,e,!0)}}class Gue extends kc{_apply(t){qD(t,"orderByValue");const e=bD(t._queryParams,p2);return Wp(e),new ia(t._repo,t._path,e,!0)}}class Wue extends kc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ad("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $Z(this._value,this._key)._apply(new WZ(this._value,this._key)._apply(t))}}function Oc(n,...t){let e=(0,U.m9)(n);for(const i of t)e=i._apply(e);return e}(function Sce(n){(0,U.hu)(!MD,"__referenceConstructor has already been defined"),MD=n})(Zl),function Nce(n){(0,U.hu)(!RD,"__referenceConstructor has already been defined"),RD=n}(Zl);const iF={};function KZ(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||rd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hs("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,p,a=eF(o,r),u=a.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(h=!0,o=`http://${p}?ns=${u.namespace}`,a=eF(o,r),u=a.repoInfo):h=!a.repoInfo.secure;const m=r&&h?new aA(aA.OWNER):new Hae(n.name,n.options,t);AZ("Invalid Firebase Database URL",a),mn(a.path)||rd("Database URL must point to the root of a Firebase Database (not including a child path).");const v=function Xue(n,t,e,i){let r=iF[t.name];r||(r={},iF[t.name]=r);let o=r[n.toURLString()];return o&&rd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new aue(n,false,e,i),r[n.toURLString()]=o,o}(u,n,m,new Vae(n.name,e));return new tde(v,n)}class tde{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function lue(n,t,e){if(n.stats_=r2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new wD(n.repoInfo_,(i,r,o,a)=>{DZ(n,i,r,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>MZ(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new __(n.repoInfo_,t,(i,r,o,a)=>{DZ(n,i,r,o,a)},i=>{MZ(n,i)},i=>{!function cue(n,t){fs(t,(e,i)=>{W2(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function jae(n,t){const e=n.toString();return n2[e]||(n2[e]=t()),n2[e]}(n.repoInfo_,()=>new Gle(n.stats_,n.server_)),n.infoData_=new Hle,n.infoSyncTree_=new dZ({startListening:(i,r,o,a)=>{let u=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(u=vA(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),W2(n,"connected",!1),n.serverSyncTree_=new dZ({startListening:(i,r,o,a)=>(n.server_.listen(i,o,r,(u,h)=>{const p=a(u,h);Hl(n.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zl(this._repo,qn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Jue(n,t){const e=iF[t];(!e||e[n.key]!==n)&&rd(`Database ${t}(${n.repoInfo_}) has already been deleted.`),RZ(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&rd("Cannot call "+t+" on a deleted database.")}}function QZ(){pH.IS_TRANSPORT_INITIALIZED&&ro("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function nde(){QZ(),Vp.forceDisallow()}function ide(){QZ(),v0.forceDisallow(),Vp.forceAllow()}function ade(n,t){W5(n,t)}const cde={".sv":"timestamp"};class hde{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}__.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},__.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function lde(n){q5(Yr.SDK_VERSION),(0,Yr._registerComponent)(new yo.wA("database",(t,{instanceIdentifier:e})=>KZ(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Yr.registerVersion)(H5,"0.13.2",n),(0,Yr.registerVersion)(H5,"0.13.2","esm2017")}();const mde=new $o.Yd("@firebase/database-compat"),JZ=function(n){mde.warn("FIREBASE WARNING: "+n)};class vde{constructor(t){this._delegate=t}cancel(t){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,JZ("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class bde{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Yp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),xA("DataSnapshot.child","path",t,!1),new Yp(this._database,this._delegate.child(t))}hasChild(t){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xA("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Yp(this._database,e)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new Va(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ns{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",e,!1);const a=Ns.getCancelAndContextArgs_("Query.on",i,r),u=(p,m)=>{e.call(a.context,new Yp(this.database,p),m)};u.userCallback=e,u.context=a.context;const h=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return nF(this._delegate,u,h),e;case"child_added":return ZZ(this._delegate,u,h),e;case"child_removed":return zZ(this._delegate,u,h),e;case"child_changed":return qZ(this._delegate,u,h),e;case"child_moved":return jZ(this._delegate,u,h),e;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,U.Wj)("Query.off","callback",e,!0),(0,U.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,GZ(this._delegate,t,r)}else GZ(this._delegate,t)}get(){return function Due(n){return uue((n=(0,U.m9)(n))._repo,n).then(t=>new E_(t,new Zl(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new Yp(this.database,t))}once(t,e,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",e,!0);const o=Ns.getCancelAndContextArgs_("Query.once",i,r),a=new U.BH,u=(p,m)=>{const v=new Yp(this.database,p);e&&e.call(o.context,v,m),a.resolve(v)};u.userCallback=e,u.context=o.context;const h=p=>{o.cancel&&o.cancel.call(o.context,p),a.reject(p)};switch(t){case"value":nF(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":ZZ(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":zZ(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":qZ(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":jZ(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Ns(this.database,Oc(this._delegate,function Lue(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Fue(n)}(t)))}limitToLast(t){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Ns(this.database,Oc(this._delegate,function Bue(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Uue(n)}(t)))}orderByChild(t){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Ns(this.database,Oc(this._delegate,function Hue(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xA("orderByChild","path",n,!1),new Vue(n)}(t)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Ns(this.database,Oc(this._delegate,function que(){return new Zue}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Ns(this.database,Oc(this._delegate,function zue(){return new jue}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Ns(this.database,Oc(this._delegate,function $ue(){return new Gue}()))}startAt(t=null,e){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Ns(this.database,Oc(this._delegate,function Nue(n=null,t){return TA("startAt","key",t,!0),new WZ(n,t)}(t,e)))}startAfter(t=null,e){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Ns(this.database,Oc(this._delegate,function Oue(n,t){return TA("startAfter","key",t,!0),new kue(n,t)}(t,e)))}endAt(t=null,e){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Ns(this.database,Oc(this._delegate,function Mue(n,t){return TA("endAt","key",t,!0),new $Z(n,t)}(t,e)))}endBefore(t=null,e){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Ns(this.database,Oc(this._delegate,function Rue(n,t){return TA("endBefore","key",t,!0),new Pue(n,t)}(t,e)))}equalTo(t,e){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Ns(this.database,Oc(this._delegate,function Yue(n,t){return TA("equalTo","key",t,!0),new Wue(n,t)}(t,e)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ns))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,U.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,U.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Va(this.database,new Zl(this._delegate._repo,this._delegate._path))}}class Va extends Ns{constructor(t,e){super(t,new ia(e._repo,e._path,new vD,!1)),this.database=t,this._delegate=e}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Va(this.database,A_(this._delegate,t))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Va(this.database,t):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new Va(this.database,this._delegate.root)}set(t,e){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",e,!0);const i=tF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,JZ("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vl("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",e,!0);const i=Sue(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Iue(n,t,e){if(Vl("setWithPriority",n._path),ad("setWithPriority",t,n._path,!1),$2("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return Y2(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",t,!0);const e=function Tue(n){return Vl("remove",n._path),tF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,U.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function fde(n,t,e){var i;if(n=(0,U.m9)(n),Vl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new U.BH,u=nF(n,()=>{});return function yue(n,t,e,i,r,o){C_(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:z5(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Q2(n,t,void 0);a.currentInputSnapshot=u;const h=a.update(u.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{AA("transaction failed: Data returned ",h,a.path),a.status=0;const p=FD(n.transactionQueueTree_,t),m=w_(p)||[];let v;m.push(a),j2(p,m),"object"==typeof h&&null!==h&&(0,U.r3)(h,".priority")?(v=(0,U.DV)(h,".priority"),(0,U.hu)(EA(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(kD(n.serverSyncTree_,t)||sn.EMPTY_NODE).getPriority().val();const A=IA(n),I=sr(h,v),M=H2(I,u,A);a.currentOutputSnapshotRaw=I,a.currentOutputSnapshotResolved=M,a.currentWriteId=VD(n);const R=O2(n.serverSyncTree_,t,M,a.currentWriteId,a.applyLocally);Hl(n.eventQueue_,t,R),HD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,p,m)=>{let v=null;h?o.reject(h):(v=new E_(m,new Zl(n._repo,n._path),Si),o.resolve(new hde(p,v)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new bde(o.committed,new Yp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",e,!0);const i=function xue(n,t){n=(0,U.m9)(n),Vl("setPriority",n._path),$2("setPriority",t,!1);const e=new U.BH;return Y2(n._repo,Ji(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",e,!0);const i=function Aue(n,t){n=(0,U.m9)(n),Vl("push",n._path),ad("push",t,n._path,!0);const e=SZ(n._repo),i=Nle(e),r=A_(n,i),o=A_(n,i);let a;return a=null!=t?tF(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new Va(this.database,a));e&&r.then(()=>e(null),a=>e(a));const o=new Va(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Vl("Reference.onDisconnect",this._delegate._path),new vde(new BZ(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class DA{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:nde,forceLongPolling:ide}}useEmulator(t,e,i={}){!function rde(n,t,e,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&rd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&rd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new aA(aA.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);o=new aA(a)}!function Que(n,t,e,i){n.repoInfo_=new e2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,U.Dv)("database.ref",0,1,arguments.length),t instanceof Va){const e=HZ(this._delegate,t.toString());return new Va(this,e)}{const e=VZ(this._delegate,t);return new Va(this,e)}}refFromURL(t){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=HZ(this._delegate,t);return new Va(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function sde(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),RZ(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function ode(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function _ue(n){n.persistentConnection_&&n.persistentConnection_.resume(IZ)}(n._repo)}(this._delegate)}}DA.ServerValue={TIMESTAMP:function ude(){return cde}(),increment:n=>function dde(n){return{".sv":{increment:n}}}(n)};var Cde=Object.freeze({__proto__:null,initStandalone:function wde({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){q5(e);const a=new yo.zt("auth-internal",new yo.H0("database-standalone"));return a.setComponent(new yo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new DA(KZ(n,a,void 0,t,o),n),namespace:r}}});const Ede=DA.ServerValue;function XZ(n){return null==n}function eq(n){return"function"==typeof n.set}function tq(n,t){return eq(t)?t:n.ref(t)}function nq(n,t){if(function Tde(n){return"string"==typeof n}(n))return t.stringCase();if(eq(n))return t.firebaseCase();if(function xde(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function MA(n,t,e="on",i=Wv.z){return new ti.y(r=>{let o=null;return o=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,gt.U)(r=>{const{snapshot:o,prevKey:a}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:a,key:u}}),(0,sb.B)())}function iq(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Dde(n,t){const{payload:e,prevKey:i,key:r}=t,o=iq(n,r),a=function Sde(n,t){if(XZ(t))return 0;{const e=iq(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(h=>{const p={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,p],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function rq(n){return(XZ(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function sq(n,t,e){return function Ide(n,t,e){return MA(n,"value","once",e).pipe(Wn(i=>{const r=[yt(i)];return t.forEach(o=>r.push(MA(n,o,"on",e))),(0,Go.T)(...r).pipe(As(Dde,[]))}),EI())}(n,t=rq(t),e)}function oq(n,t,e){const i=(t=rq(t)).map(r=>MA(n,r,"on",e));return(0,Go.T)(...i)}function aq(n,t){return function(i,r){return nq(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Nde(n){return function(e){return e?nq(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function lq(n,t){return function(){return MA(n,"value","on",t)}}!function Ade(n){n.INTERNAL.registerComponent(new yo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new DA(r,i)},"PUBLIC").setServiceProps({Reference:Va,Query:Ns,Database:DA,DataSnapshot:Yp,enableLogging:ade,INTERNAL:Cde,ServerValue:Ede}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.2")}(IN.Z);const Fde=new s.OlP("angularfire2.realtimeDatabaseURL"),Lde=new s.OlP("angularfire2.database.use-emulator");let Ude=(()=>{class n{constructor(e,i,r,o,a,u,h,p,m,v,A,I,M,R,L){this.schedulers=u;const q=h,X=(0,At.on)(e,a,i);p&&fy(X,a,m,A,I,M,v,R),this.database=(0,At.cc)(`${X.name}.database.${r}`,"AngularFireDatabase",X.name,()=>{const he=a.runOutsideAngular(()=>X.database(r||void 0));return q&&he.useEmulator(...q),he},[q])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>tq(this.database,e));let o=r;return i&&(o=i(r)),function kde(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:aq(i,"update"),set:aq(i,"set"),push:r=>i.push(r),remove:Nde(i),snapshotChanges:r=>sq(n,r,e).pipe(Wt.iC),stateChanges:r=>oq(n,r,e).pipe(Wt.iC),auditTrail:r=>function Mde(n,t,e){return function Rde(n,t,e){return function Pde(n,t){return MA(n,"value","on",t).pipe((0,gt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Sae(...n){const t=(0,Fn.jO)(n);return(0,$n.e)((e,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),u=!1;for(let h=0;h<r;h++)(0,Cs.Xf)(n[h]).subscribe((0,ni.x)(i,p=>{o[h]=p,!u&&!a[h]&&(a[h]=!0,(u=a.every(is.y))&&(a=null))},Yk.Z));e.subscribe((0,ni.x)(i,h=>{if(u){const p=[h,...o];i.next(t?t(...p):p)}}))})}(t),(0,gt.U)(([r,o])=>{const a=r.lastKeyToLoad,u=o.map(h=>h.key);return{actions:o,lastKeyToLoad:a,loadedKeys:u}}),function Dae(n){return(0,$n.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,ni.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gt.U)(r=>r.actions))}(n,oq(n,t).pipe(As((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Wt.iC),valueChanges:(r,o)=>sq(n,r,e).pipe((0,gt.U)(u=>u.map(h=>o&&o.idField?Object.assign(Object.assign({},h.payload.val()),{[o.idField]:h.key}):h.payload.val())),Wt.iC)}}(o,this)}object(e){return function Ode(n,t){return{query:n,snapshotChanges:()=>lq(n,t.schedulers.outsideAngular)().pipe(Wt.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>lq(n,t.schedulers.outsideAngular)().pipe(Wt.iC,(0,gt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>tq(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(At.Dh),s.LFG(At.xv,8),s.LFG(Fde,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Wt.HU),s.LFG(Lde,8),s.LFG(vl,8),s.LFG(U1,8),s.LFG(B1,8),s.LFG(V1,8),s.LFG(yl,8),s.LFG(Dg,8),s.LFG(Fb,8),s.LFG($d,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bde=(()=>{class n{constructor(){L1.Z.registerVersion("angularfire",Wt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ude]}),n})(),Vde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Iae]}),n.\u0275inj=s.cJS({providers:[{provide:n6,useValue:{}},Kv,{provide:At.Dh,useValue:cD.firebase}],imports:[Gc,xse,nX,pX,BX,wee,Wz,G3,NX,ZJ,CV,Mr,xae,At.hO.initializeApp(cD.firebase),uF(()=>v1(cD.firebase)),J7,fQ(()=>pQ()),ose(()=>ase()),Bde,u8,wf,Mte]}),n})();cD.production&&(0,s.G48)(),el().bootstrapModule(Vde).catch(n=>console.error(n))},5867:(Et,Oe,B)=>{B.d(Oe,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=B(9681);(0,s.registerVersion)("firebase","9.8.4","app")},127:(Et,Oe,B)=>{B.d(Oe,{Z:()=>s.Z});var s=B(3942);s.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(Et,Oe,B)=>{B.r(Oe);var s=B(5861),z=B(3942),F=B(3673),ge=B(2090),le=(B(9681),B(1877),B(4859));function ve(){return window}function Y(){return(Y=(0,s.Z)(function*(pe,$,W){var Me;const{BuildInfo:Qe}=ve();(0,F.aq)($.sessionId,"AuthEvent did not contain a session ID");const It=yield Ae($.sessionId),Ue={};return(0,F.ar)()?Ue.ibi=Qe.packageName:(0,F.as)()?Ue.apn=Qe.packageName:(0,F.at)(pe,"operation-not-supported-in-this-environment"),Qe.displayName&&(Ue.appDisplayName=Qe.displayName),Ue.sessionId=It,(0,F.au)(pe,W,$.type,void 0,null!==(Me=$.eventId)&&void 0!==Me?Me:void 0,Ue)})).apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(pe){const{BuildInfo:$}=ve(),W={};(0,F.ar)()?W.iosBundleId=$.packageName:(0,F.as)()?W.androidPackageName=$.packageName:(0,F.at)(pe,"operation-not-supported-in-this-environment"),yield(0,F.av)(pe,W)})).apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*(pe,$,W){const{cordova:Me}=ve();let Qe=()=>{};try{yield new Promise((It,Ue)=>{let ht=null;function Lt(){var Ot;It();const Gi=null===(Ot=Me.plugins.browsertab)||void 0===Ot?void 0:Ot.close;"function"==typeof Gi&&Gi(),"function"==typeof W?.close&&W.close()}function Tn(){ht||(ht=window.setTimeout(()=>{Ue((0,F.aw)(pe,"redirect-cancelled-by-user"))},2e3))}function Xi(){"visible"===document?.visibilityState&&Tn()}$.addPassiveListener(Lt),document.addEventListener("resume",Tn,!1),(0,F.as)()&&document.addEventListener("visibilitychange",Xi,!1),Qe=()=>{$.removePassiveListener(Lt),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",Xi,!1),ht&&window.clearTimeout(ht)}})}finally{Qe()}})).apply(this,arguments)}function Ae(pe){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(pe){const $=et(pe),W=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(W)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(pe){if((0,F.aq)(/[0-9a-zA-Z]+/.test(pe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(pe);const $=new ArrayBuffer(pe.length),W=new Uint8Array($);for(let Me=0;Me<pe.length;Me++)W[Me]=pe.charCodeAt(Me);return W}class Ve extends F.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(W=>W($)),super.onEvent($)}initialized(){var $=this;return(0,s.Z)(function*(){yield $.initPromise})()}}function ce(pe){return we.apply(this,arguments)}function we(){return(we=(0,s.Z)(function*(pe){const $=yield ue()._get(fe(pe));return $&&(yield ue()._remove(fe(pe))),$})).apply(this,arguments)}function ee(){const pe=[],$="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<20;W++){const Me=Math.floor(Math.random()*$.length);pe.push($.charAt(Me))}return pe.join("")}function ue(){return(0,F.ay)(F.b)}function fe(pe){return(0,F.az)("authEvent",pe.config.apiKey,pe.name)}function We(pe){if(!pe?.includes("?"))return{};const[$,...W]=pe.split("?");return(0,ge.zd)(W.join("?"))}function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function tn(){var pe;return(null===(pe=self?.location)||void 0===pe?void 0:pe.protocol)||null}function Yn(pe=(0,ge.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()&&"capacitor:"!==tn()||!pe.toLowerCase().match(/iphone|ipad|ipod|android/))}function es(){try{const pe=self.localStorage,$=F.aI();if(pe)return pe.setItem($,"1"),pe.removeItem($),!function ks(pe=(0,ge.z$)()){return function gr(){return(0,ge.w1)()&&11===document?.documentMode}()||function Xn(pe=(0,ge.z$)()){return/Edge\/\d+/.test(pe)}(pe)}()||(0,ge.hl)()}catch{return ms()&&(0,ge.hl)()}return!1}function ms(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fi(){return(function fn(){return"http:"===tn()||"https:"===tn()}()||(0,ge.ru)()||Yn())&&!function gs(){return(0,ge.b$)()||(0,ge.UG)()}()&&es()&&!ms()}function Os(){return Yn()&&typeof document<"u"}function Sr(){return(Sr=(0,s.Z)(function*(){return!!Os()&&new Promise(pe=>{const $=setTimeout(()=>{pe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),pe(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},or=F.ax,qi="persistence";function zn(pe){return ji.apply(this,arguments)}function ji(){return(ji=(0,s.Z)(function*(pe){yield pe._initializationPromise;const $=rn(),W=F.az(qi,pe.config.apiKey,pe.name);$&&$.setItem(W,pe._getPersistence())})).apply(this,arguments)}function rn(){var pe;try{return(null===(pe=function jn(){return typeof window<"u"?window:null}())||void 0===pe?void 0:pe.sessionStorage)||null}catch{return null}}const at=F.ax;class wt{constructor(){this.browserResolver=F.ay(F.k),this.cordovaResolver=F.ay(class ln{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize($){var W=this;return(0,s.Z)(function*(){const Me=$._key();let Qe=W.eventManagers.get(Me);return Qe||(Qe=new Ve($),W.eventManagers.set(Me,Qe),W.attachCallbackListeners($,Qe)),Qe})()}_openPopup($){(0,F.at)($,"operation-not-supported-in-this-environment")}_openRedirect($,W,Me,Qe){var It=this;return(0,s.Z)(function*(){!function Ee(pe){var $,W,Me,Qe,It,Ue,ht,Lt,Tn,Xi;const Ot=ve();(0,F.ax)("function"==typeof(null===($=Ot?.universalLinks)||void 0===$?void 0:$.subscribe),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(W=Ot?.BuildInfo)||void 0===W?void 0:W.packageName)<"u",pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(It=null===(Qe=null===(Me=Ot?.cordova)||void 0===Me?void 0:Me.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===It?void 0:It.openUrl),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Lt=null===(ht=null===(Ue=Ot?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===Lt?void 0:Lt.isAvailable),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Xi=null===(Tn=Ot?.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===Xi?void 0:Xi.open),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Ue=yield It._initialize($);yield Ue.initialized(),Ue.resetRedirect(),(0,F.aD)(),yield It._originValidation($);const ht=function Pe(pe,$,W=null){return{type:$,eventId:W,urlResponse:null,sessionId:ee(),postBody:null,tenantId:pe.tenantId,error:(0,F.aw)(pe,"no-auth-event")}}($,Me,Qe);yield function st(pe,$){return ue()._set(fe(pe),$)}($,ht);const Lt=yield function Q(pe,$,W){return Y.apply(this,arguments)}($,ht,W),Tn=yield function He(pe){const{cordova:$}=ve();return new Promise(W=>{$.plugins.browsertab.isAvailable(Me=>{let Qe=null;Me?$.plugins.browsertab.openUrl(pe):Qe=$.InAppBrowser.open(pe,(0,F.ap)()?"_blank":"_system","location=yes"),W(Qe)})})}(Lt);return function Le(pe,$,W){return Je.apply(this,arguments)}($,Ue,Tn)})()}_isIframeWebStorageSupported($,W){throw new Error("Method not implemented.")}_originValidation($){const W=$._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function oe(pe){return nt.apply(this,arguments)}($)),this.originValidationPromises[W]}attachCallbackListeners($,W){const{universalLinks:Me,handleOpenURL:Qe,BuildInfo:It}=ve(),Ue=setTimeout((0,s.Z)(function*(){yield ce($),W.onEvent(tt())}),500),ht=function(){var Xi=(0,s.Z)(function*(Ot){clearTimeout(Ue);const Gi=yield ce($);let Un=null;Gi&&Ot?.url&&(Un=function Re(pe,$){var W,Me;const Qe=function _e(pe){const $=We(pe),W=$.link?decodeURIComponent($.link):void 0,Me=We(W).link,Qe=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return We(Qe).link||Qe||Me||W||pe}($);if(Qe.includes("/__/auth/callback")){const It=We(Qe),Ue=It.firebaseError?function Se(pe){try{return JSON.parse(pe)}catch{return null}}(decodeURIComponent(It.firebaseError)):null,ht=null===(Me=null===(W=Ue?.code)||void 0===W?void 0:W.split("auth/"))||void 0===Me?void 0:Me[1],Lt=ht?(0,F.aw)(ht):null;return Lt?{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,error:Lt,urlResponse:null,sessionId:null,postBody:null}:{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,sessionId:pe.sessionId,urlResponse:Qe,postBody:null}}return null}(Gi,Ot.url)),W.onEvent(Un||tt())});return function(Gi){return Xi.apply(this,arguments)}}();typeof Me<"u"&&"function"==typeof Me.subscribe&&Me.subscribe(null,ht);const Lt=Qe,Tn=`${It.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Xi=(0,s.Z)(function*(Ot){if(Ot.toLowerCase().startsWith(Tn)&&ht({url:Ot}),"function"==typeof Lt)try{Lt(Ot)}catch(Gi){console.error(Gi)}});return function(Ot){return Xi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize($){var W=this;return(0,s.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize($)})()}_openPopup($,W,Me,Qe){var It=this;return(0,s.Z)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openPopup($,W,Me,Qe)})()}_openRedirect($,W,Me,Qe){var It=this;return(0,s.Z)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openRedirect($,W,Me,Qe)})()}_isIframeWebStorageSupported($,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,W)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return Os()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return at(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,s.Z)(function*(){if($.underlyingResolver)return;const W=yield function Tt(){return Sr.apply(this,arguments)}();$.underlyingResolver=W?$.cordovaResolver:$.browserResolver})()}}function _s(pe){return pe.unwrap()}function Ut(pe){return ei(pe)}function ei(pe){const{_tokenResponse:$}=pe instanceof ge.ZR?pe.customData:pe;if(!$)return null;if(!(pe instanceof ge.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return F.P.credentialFromResult(pe);const W=$.providerId;if(!W||W===F.o.PASSWORD)return null;let Me;switch(W){case F.o.GOOGLE:Me=F.Q;break;case F.o.FACEBOOK:Me=F.N;break;case F.o.GITHUB:Me=F.T;break;case F.o.TWITTER:Me=F.W;break;default:const{oauthIdToken:Qe,oauthAccessToken:It,oauthTokenSecret:Ue,pendingToken:ht,nonce:Lt}=$;return It||Ue||Qe||ht?ht?W.startsWith("saml.")?F.aL._create(W,ht):F.J._fromParams({providerId:W,signInMethod:W,pendingToken:ht,idToken:Qe,accessToken:It}):new F.U(W).credential({idToken:Qe,accessToken:It,rawNonce:Lt}):null}return pe instanceof ge.ZR?Me.credentialFromError(pe):Me.credentialFromResult(pe)}function Gn(pe,$){return $.catch(W=>{throw W instanceof ge.ZR&&function mr(pe,$){var W,Me;const Qe=null===(W=$.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Me=$)||void 0===Me?void 0:Me.code))$.resolver=new G(pe,F.an(pe,$));else if(Qe){const It=ei($),Ue=$;It&&(Ue.credential=It,Ue.tenantId=Qe.tenantId||void 0,Ue.email=Qe.email||void 0,Ue.phoneNumber=Qe.phoneNumber||void 0)}}(pe,W),W}).then(W=>{const Qe=W.user;return{operationType:W.operationType,credential:Ut(W),additionalUserInfo:F.al(W),user:ie.getOrCreate(Qe)}})}function wn(pe,$){return J.apply(this,arguments)}function J(){return(J=(0,s.Z)(function*(pe,$){const W=yield $;return{verificationId:W.verificationId,confirm:Me=>Gn(pe,W.confirm(Me))}})).apply(this,arguments)}class G{constructor($,W){this.resolver=W,this.auth=function zi(pe){return pe.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return Gn(_s(this.auth),this.resolver.resolveSignIn($))}}class ie{constructor($){this._delegate=$,this.multiFactor=F.ao($)}static getOrCreate($){return ie.USER_MAP.has($)||ie.USER_MAP.set($,new ie($)),ie.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var W=this;return(0,s.Z)(function*(){return Gn(W.auth,F.Z(W._delegate,$))})()}linkWithPhoneNumber($,W){var Me=this;return(0,s.Z)(function*(){return wn(Me.auth,F.l(Me._delegate,$,W))})()}linkWithPopup($){var W=this;return(0,s.Z)(function*(){return Gn(W.auth,F.d(W._delegate,$,wt))})()}linkWithRedirect($){var W=this;return(0,s.Z)(function*(){return yield zn(F.aE(W.auth)),F.g(W._delegate,$,wt)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var W=this;return(0,s.Z)(function*(){return Gn(W.auth,F._(W._delegate,$))})()}reauthenticateWithPhoneNumber($,W){return wn(this.auth,F.r(this._delegate,$,W))}reauthenticateWithPopup($){return Gn(this.auth,F.e(this._delegate,$,wt))}reauthenticateWithRedirect($){var W=this;return(0,s.Z)(function*(){return yield zn(F.aE(W.auth)),F.h(W._delegate,$,wt)})()}sendEmailVerification($){return F.ab(this._delegate,$)}unlink($){var W=this;return(0,s.Z)(function*(){return yield F.ak(W._delegate,$),W})()}updateEmail($){return F.ag(this._delegate,$)}updatePassword($){return F.ah(this._delegate,$)}updatePhoneNumber($){return F.u(this._delegate,$)}updateProfile($){return F.af(this._delegate,$)}verifyBeforeUpdateEmail($,W){return F.ac(this._delegate,$,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ie.USER_MAP=new WeakMap;const re=F.ax;let j=(()=>{class pe{constructor(W,Me){if(this.app=W,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=W.options;re(Qe,"invalid-api-key",{appName:W.name}),re(Qe,"invalid-api-key",{appName:W.name});const It=typeof window<"u"?wt:void 0;this._delegate=Me.initialize({options:{persistence:Ke(Qe,W.name),popupRedirectResolver:It}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ie.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,Me){F.G(this._delegate,W,Me)}applyActionCode(W){return F.a2(this._delegate,W)}checkActionCode(W){return F.a3(this._delegate,W)}confirmPasswordReset(W,Me){return F.a1(this._delegate,W,Me)}createUserWithEmailAndPassword(W,Me){var Qe=this;return(0,s.Z)(function*(){return Gn(Qe._delegate,F.a5(Qe._delegate,W,Me))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return F.aa(this._delegate,W)}isSignInWithEmailLink(W){return F.a8(this._delegate,W)}getRedirectResult(){var W=this;return(0,s.Z)(function*(){re(fi(),W._delegate,"operation-not-supported-in-this-environment");const Me=yield F.j(W._delegate,wt);return Me?Gn(W._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function Pn(pe,$){(0,F.aE)(pe)._logFramework($)}(this._delegate,W)}onAuthStateChanged(W,Me,Qe){const{next:It,error:Ue,complete:ht}=De(W,Me,Qe);return this._delegate.onAuthStateChanged(It,Ue,ht)}onIdTokenChanged(W,Me,Qe){const{next:It,error:Ue,complete:ht}=De(W,Me,Qe);return this._delegate.onIdTokenChanged(It,Ue,ht)}sendSignInLinkToEmail(W,Me){return F.a7(this._delegate,W,Me)}sendPasswordResetEmail(W,Me){return F.a0(this._delegate,W,Me||void 0)}setPersistence(W){var Me=this;return(0,s.Z)(function*(){let Qe;switch(function Dr(pe,$){or(Object.values(cn).includes($),pe,"invalid-persistence-type"),(0,ge.b$)()?or($!==cn.SESSION,pe,"unsupported-persistence-type"):(0,ge.UG)()?or($===cn.NONE,pe,"unsupported-persistence-type"):ms()?or($===cn.NONE||$===cn.LOCAL&&(0,ge.hl)(),pe,"unsupported-persistence-type"):or($===cn.NONE||es(),pe,"unsupported-persistence-type")}(Me._delegate,W),W){case cn.SESSION:Qe=F.a;break;case cn.LOCAL:Qe=(yield F.ay(F.i)._isAvailable())?F.i:F.b;break;case cn.NONE:Qe=F.L;break;default:return F.at("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return Gn(this._delegate,F.X(this._delegate))}signInWithCredential(W){return Gn(this._delegate,F.Y(this._delegate,W))}signInWithCustomToken(W){return Gn(this._delegate,F.$(this._delegate,W))}signInWithEmailAndPassword(W,Me){return Gn(this._delegate,F.a6(this._delegate,W,Me))}signInWithEmailLink(W,Me){return Gn(this._delegate,F.a9(this._delegate,W,Me))}signInWithPhoneNumber(W,Me){return wn(this._delegate,F.s(this._delegate,W,Me))}signInWithPopup(W){var Me=this;return(0,s.Z)(function*(){return re(fi(),Me._delegate,"operation-not-supported-in-this-environment"),Gn(Me._delegate,F.c(Me._delegate,W,wt))})()}signInWithRedirect(W){var Me=this;return(0,s.Z)(function*(){return re(fi(),Me._delegate,"operation-not-supported-in-this-environment"),yield zn(Me._delegate),F.f(Me._delegate,W,wt)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return F.a4(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return pe.Persistence=cn,pe})();function De(pe,$,W){let Me=pe;"function"!=typeof pe&&({next:Me,error:$,complete:W}=pe);const Qe=Me;return{next:Ue=>Qe(Ue&&ie.getOrCreate(Ue)),error:$,complete:W}}function Ke(pe,$){const W=function oo(pe,$){const W=rn();if(!W)return[];const Me=F.az(qi,pe,$);switch(W.getItem(Me)){case cn.NONE:return[F.L];case cn.LOCAL:return[F.i,F.a];case cn.SESSION:return[F.a];default:return[]}}(pe,$);if(typeof self<"u"&&!W.includes(F.i)&&W.push(F.i),typeof window<"u")for(const Me of[F.b,F.a])W.includes(Me)||W.push(Me);return W.includes(F.L)||W.push(F.L),W}class _t{constructor(){this.providerId="phone",this._delegate=new F.P(_s(z.Z.auth()))}static credential($,W){return F.P.credential($,W)}verifyPhoneNumber($,W){return this._delegate.verifyPhoneNumber($,W)}unwrap(){return this._delegate}}_t.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,_t.PROVIDER_ID=F.P.PROVIDER_ID;const Gt=F.ax;class pn{constructor($,W,Me=z.Z.app()){var Qe;Gt(null===(Qe=Me.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new F.R($,W,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function nn(pe){pe.INTERNAL.registerComponent(new le.wA("auth-compat",$=>{const W=$.getProvider("app-compat").getImmediate(),Me=$.getProvider("auth");return new j(W,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:_t,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:pn,TwitterAuthProvider:F.W,Auth:j,AuthCredential:F.H,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pe.registerVersion("@firebase/auth-compat","0.2.17")}(z.Z)},8306:(Et,Oe,B)=>{B.d(Oe,{y:()=>Q});var s=B(930),z=B(727),F=B(8822),ge=B(4671);var le=B(2416),ve=B(576),xe=B(2806);let Q=(()=>{class He{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const Ee=new He;return Ee.source=this,Ee.operator=Je,Ee}subscribe(Je,Ee,Ae){const rt=function nt(He){return He&&He instanceof s.Lv||function oe(He){return He&&(0,ve.m)(He.next)&&(0,ve.m)(He.error)&&(0,ve.m)(He.complete)}(He)&&(0,z.Nn)(He)}(Je)?Je:new s.Hp(Je,Ee,Ae);return(0,xe.x)(()=>{const{operator:et,source:Be}=this;rt.add(et?et.call(rt,Be):Be?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Je){try{return this._subscribe(Je)}catch(Ee){Je.error(Ee)}}forEach(Je,Ee){return new(Ee=Y(Ee))((Ae,rt)=>{const et=new s.Hp({next:Be=>{try{Je(Be)}catch(Ve){rt(Ve),et.unsubscribe()}},error:rt,complete:Ae});this.subscribe(et)})}_subscribe(Je){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(Je)}[F.L](){return this}pipe(...Je){return function Te(He){return 0===He.length?ge.y:1===He.length?He[0]:function(Je){return He.reduce((Ee,Ae)=>Ae(Ee),Je)}}(Je)(this)}toPromise(Je){return new(Je=Y(Je))((Ee,Ae)=>{let rt;this.subscribe(et=>rt=et,et=>Ae(et),()=>Ee(rt))})}}return He.create=Le=>new He(Le),He})();function Y(He){var Le;return null!==(Le=He??le.v.Promise)&&void 0!==Le?Le:Promise}},7579:(Et,Oe,B)=>{B.d(Oe,{x:()=>le});var s=B(8306),z=B(727);const ge=(0,B(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=B(8737),Te=B(2806);let le=(()=>{class xe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const oe=new ve(this,this);return oe.operator=Y,oe}_throwIfClosed(){if(this.closed)throw new ge}next(Y){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(Y)}})}error(Y){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:oe}=this;for(;oe.length;)oe.shift().error(Y)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:oe,isStopped:nt,observers:He}=this;return oe||nt?z.Lc:(this.currentObservers=null,He.push(Y),new z.w0(()=>{this.currentObservers=null,(0,me.P)(He,Y)}))}_checkFinalizedStatuses(Y){const{hasError:oe,thrownError:nt,isStopped:He}=this;oe?Y.error(nt):He&&Y.complete()}asObservable(){const Y=new s.y;return Y.source=this,Y}}return xe.create=(Q,Y)=>new ve(Q,Y),xe})();class ve extends le{constructor(Q,Y){super(),this.destination=Q,this.source=Y}next(Q){var Y,oe;null===(oe=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===oe||oe.call(Y,Q)}error(Q){var Y,oe;null===(oe=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===oe||oe.call(Y,Q)}complete(){var Q,Y;null===(Y=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===Y||Y.call(Q)}_subscribe(Q){var Y,oe;return null!==(oe=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Q))&&void 0!==oe?oe:z.Lc}}},930:(Et,Oe,B)=>{B.d(Oe,{Hp:()=>Je,Lv:()=>oe});var s=B(576),z=B(727),F=B(2416),ge=B(7849),me=B(5032);const Te=xe("C",void 0,void 0);function xe(Be,Ve,Pe){return{kind:Be,value:Ve,error:Pe}}var Q=B(3410),Y=B(2806);class oe extends z.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,z.Nn)(Ve)&&Ve.add(this)):this.destination=et}static create(Ve,Pe,st){return new Je(Ve,Pe,st)}next(Ve){this.isStopped?rt(function ve(Be){return xe("N",Be,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?rt(function le(Be){return xe("E",void 0,Be)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?rt(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function He(Be,Ve){return nt.call(Be,Ve)}class Le{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(Ve)}catch(st){Ee(st)}}error(Ve){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(Ve)}catch(st){Ee(st)}else Ee(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(Pe){Ee(Pe)}}}class Je extends oe{constructor(Ve,Pe,st){let ce;if(super(),(0,s.m)(Ve)||!Ve)ce={next:Ve??void 0,error:Pe??void 0,complete:st??void 0};else{let we;this&&F.v.useDeprecatedNextContext?(we=Object.create(Ve),we.unsubscribe=()=>this.unsubscribe(),ce={next:Ve.next&&He(Ve.next,we),error:Ve.error&&He(Ve.error,we),complete:Ve.complete&&He(Ve.complete,we)}):ce=Ve}this.destination=new Le(ce)}}function Ee(Be){F.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Be):(0,ge.h)(Be)}function rt(Be,Ve){const{onStoppedNotification:Pe}=F.v;Pe&&Q.z.setTimeout(()=>Pe(Be,Ve))}const et={closed:!0,next:me.Z,error:function Ae(Be){throw Be},complete:me.Z}},727:(Et,Oe,B)=>{B.d(Oe,{Lc:()=>Te,w0:()=>me,Nn:()=>le});var s=B(576);const F=(0,B(3888).d)(xe=>function(Y){xe(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((oe,nt)=>`${nt+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ge=B(8737);class me{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const He of Y)He.remove(this);else Y.remove(this);const{initialTeardown:oe}=this;if((0,s.m)(oe))try{oe()}catch(He){Q=He instanceof F?He.errors:[He]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const He of nt)try{ve(He)}catch(Le){Q=Q??[],Le instanceof F?Q=[...Q,...Le.errors]:Q.push(Le)}}if(Q)throw new F(Q)}}add(Q){var Y;if(Q&&Q!==this)if(this.closed)ve(Q);else{if(Q instanceof me){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Q)}}_hasParent(Q){const{_parentage:Y}=this;return Y===Q||Array.isArray(Y)&&Y.includes(Q)}_addParent(Q){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Q),Y):Y?[Y,Q]:Q}_removeParent(Q){const{_parentage:Y}=this;Y===Q?this._parentage=null:Array.isArray(Y)&&(0,ge.P)(Y,Q)}remove(Q){const{_finalizers:Y}=this;Y&&(0,ge.P)(Y,Q),Q instanceof me&&Q._removeParent(this)}}me.EMPTY=(()=>{const xe=new me;return xe.closed=!0,xe})();const Te=me.EMPTY;function le(xe){return xe instanceof me||xe&&"closed"in xe&&(0,s.m)(xe.remove)&&(0,s.m)(xe.add)&&(0,s.m)(xe.unsubscribe)}function ve(xe){(0,s.m)(xe)?xe():xe.unsubscribe()}},2416:(Et,Oe,B)=>{B.d(Oe,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Oe,B)=>{B.d(Oe,{E:()=>z});const z=new(B(8306).y)(me=>me.complete())},8996:(Et,Oe,B)=>{B.d(Oe,{D:()=>Ve});var s=B(8421),z=B(5363),F=B(9468),Te=B(8306),ve=B(2202),xe=B(576),Q=B(9672);function oe(Pe,st){if(!Pe)throw new Error("Iterable cannot be null");return new Te.y(ce=>{(0,Q.f)(ce,st,()=>{const we=Pe[Symbol.asyncIterator]();(0,Q.f)(ce,st,()=>{we.next().then(Re=>{Re.done?ce.complete():ce.next(Re.value)})},0,!0)})})}var nt=B(3670),He=B(8239),Le=B(1144),Je=B(6495),Ee=B(2206),Ae=B(4532),rt=B(3260);function Ve(Pe,st){return st?function Be(Pe,st){if(null!=Pe){if((0,nt.c)(Pe))return function ge(Pe,st){return(0,s.Xf)(Pe).pipe((0,F.R)(st),(0,z.Q)(st))}(Pe,st);if((0,Le.z)(Pe))return function le(Pe,st){return new Te.y(ce=>{let we=0;return st.schedule(function(){we===Pe.length?ce.complete():(ce.next(Pe[we++]),ce.closed||this.schedule())})})}(Pe,st);if((0,He.t)(Pe))return function me(Pe,st){return(0,s.Xf)(Pe).pipe((0,F.R)(st),(0,z.Q)(st))}(Pe,st);if((0,Ee.D)(Pe))return oe(Pe,st);if((0,Je.T)(Pe))return function Y(Pe,st){return new Te.y(ce=>{let we;return(0,Q.f)(ce,st,()=>{we=Pe[ve.h](),(0,Q.f)(ce,st,()=>{let Re,ee;try{({value:Re,done:ee}=we.next())}catch(ue){return void ce.error(ue)}ee?ce.complete():ce.next(Re)},0,!0)}),()=>(0,xe.m)(we?.return)&&we.return()})}(Pe,st);if((0,rt.L)(Pe))return function et(Pe,st){return oe((0,rt.Q)(Pe),st)}(Pe,st)}throw(0,Ae.z)(Pe)}(Pe,st):(0,s.Xf)(Pe)}},8421:(Et,Oe,B)=>{B.d(Oe,{Xf:()=>nt});var s=B(655),z=B(1144),F=B(8239),ge=B(8306),me=B(3670),Te=B(2206),le=B(4532),ve=B(6495),xe=B(3260),Q=B(576),Y=B(7849),oe=B(8822);function nt(Be){if(Be instanceof ge.y)return Be;if(null!=Be){if((0,me.c)(Be))return function He(Be){return new ge.y(Ve=>{const Pe=Be[oe.L]();if((0,Q.m)(Pe.subscribe))return Pe.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,z.z)(Be))return function Le(Be){return new ge.y(Ve=>{for(let Pe=0;Pe<Be.length&&!Ve.closed;Pe++)Ve.next(Be[Pe]);Ve.complete()})}(Be);if((0,F.t)(Be))return function Je(Be){return new ge.y(Ve=>{Be.then(Pe=>{Ve.closed||(Ve.next(Pe),Ve.complete())},Pe=>Ve.error(Pe)).then(null,Y.h)})}(Be);if((0,Te.D)(Be))return Ae(Be);if((0,ve.T)(Be))return function Ee(Be){return new ge.y(Ve=>{for(const Pe of Be)if(Ve.next(Pe),Ve.closed)return;Ve.complete()})}(Be);if((0,xe.L)(Be))return function rt(Be){return Ae((0,xe.Q)(Be))}(Be)}throw(0,le.z)(Be)}function Ae(Be){return new ge.y(Ve=>{(function et(Be,Ve){var Pe,st,ce,we;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,s.KL)(Be);!(st=yield Pe.next()).done;)if(Ve.next(st.value),Ve.closed)return}catch(Re){ce={error:Re}}finally{try{st&&!st.done&&(we=Pe.return)&&(yield we.call(Pe))}finally{if(ce)throw ce.error}}Ve.complete()})})(Be,Ve).catch(Pe=>Ve.error(Pe))})}},6451:(Et,Oe,B)=>{B.d(Oe,{T:()=>Te});var s=B(8189),z=B(8421),F=B(515),ge=B(3269),me=B(8996);function Te(...le){const ve=(0,ge.yG)(le),xe=(0,ge._6)(le,1/0),Q=le;return Q.length?1===Q.length?(0,z.Xf)(Q[0]):(0,s.J)(xe)((0,me.D)(Q,ve)):F.E}},5403:(Et,Oe,B)=>{B.d(Oe,{x:()=>z});var s=B(930);function z(ge,me,Te,le,ve){return new F(ge,me,Te,le,ve)}class F extends s.Lv{constructor(me,Te,le,ve,xe,Q){super(me),this.onFinalize=xe,this.shouldUnsubscribe=Q,this._next=Te?function(Y){try{Te(Y)}catch(oe){me.error(oe)}}:super._next,this._error=ve?function(Y){try{ve(Y)}catch(oe){me.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(Y){me.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},4004:(Et,Oe,B)=>{B.d(Oe,{U:()=>F});var s=B(4482),z=B(5403);function F(ge,me){return(0,s.e)((Te,le)=>{let ve=0;Te.subscribe((0,z.x)(le,xe=>{le.next(ge.call(me,xe,ve++))}))})}},8189:(Et,Oe,B)=>{B.d(Oe,{J:()=>F});var s=B(5577),z=B(4671);function F(ge=1/0){return(0,s.z)(z.y,ge)}},5577:(Et,Oe,B)=>{B.d(Oe,{z:()=>ve});var s=B(4004),z=B(8421),F=B(4482),ge=B(9672),me=B(5403),le=B(576);function ve(xe,Q,Y=1/0){return(0,le.m)(Q)?ve((oe,nt)=>(0,s.U)((He,Le)=>Q(oe,He,nt,Le))((0,z.Xf)(xe(oe,nt))),Y):("number"==typeof Q&&(Y=Q),(0,F.e)((oe,nt)=>function Te(xe,Q,Y,oe,nt,He,Le,Je){const Ee=[];let Ae=0,rt=0,et=!1;const Be=()=>{et&&!Ee.length&&!Ae&&Q.complete()},Ve=st=>Ae<oe?Pe(st):Ee.push(st),Pe=st=>{He&&Q.next(st),Ae++;let ce=!1;(0,z.Xf)(Y(st,rt++)).subscribe((0,me.x)(Q,we=>{nt?.(we),He?Ve(we):Q.next(we)},()=>{ce=!0},void 0,()=>{if(ce)try{for(Ae--;Ee.length&&Ae<oe;){const we=Ee.shift();Le?(0,ge.f)(Q,Le,()=>Pe(we)):Pe(we)}Be()}catch(we){Q.error(we)}}))};return xe.subscribe((0,me.x)(Q,Ve,()=>{et=!0,Be()})),()=>{Je?.()}}(oe,nt,xe,Y)))}},5363:(Et,Oe,B)=>{B.d(Oe,{Q:()=>ge});var s=B(9672),z=B(4482),F=B(5403);function ge(me,Te=0){return(0,z.e)((le,ve)=>{le.subscribe((0,F.x)(ve,xe=>(0,s.f)(ve,me,()=>ve.next(xe),Te),()=>(0,s.f)(ve,me,()=>ve.complete(),Te),xe=>(0,s.f)(ve,me,()=>ve.error(xe),Te)))})}},3099:(Et,Oe,B)=>{B.d(Oe,{B:()=>Te});var s=B(8996),z=B(5698),F=B(7579),ge=B(930),me=B(4482);function Te(ve={}){const{connector:xe=(()=>new F.x),resetOnError:Q=!0,resetOnComplete:Y=!0,resetOnRefCountZero:oe=!0}=ve;return nt=>{let He=null,Le=null,Je=null,Ee=0,Ae=!1,rt=!1;const et=()=>{Le?.unsubscribe(),Le=null},Be=()=>{et(),He=Je=null,Ae=rt=!1},Ve=()=>{const Pe=He;Be(),Pe?.unsubscribe()};return(0,me.e)((Pe,st)=>{Ee++,!rt&&!Ae&&et();const ce=Je=Je??xe();st.add(()=>{Ee--,0===Ee&&!rt&&!Ae&&(Le=le(Ve,oe))}),ce.subscribe(st),He||(He=new ge.Hp({next:we=>ce.next(we),error:we=>{rt=!0,et(),Le=le(Be,Q,we),ce.error(we)},complete:()=>{Ae=!0,et(),Le=le(Be,Y),ce.complete()}}),(0,s.D)(Pe).subscribe(He))})(nt)}}function le(ve,xe,...Q){return!0===xe?(ve(),null):!1===xe?null:xe(...Q).pipe((0,z.q)(1)).subscribe(()=>ve())}},9468:(Et,Oe,B)=>{B.d(Oe,{R:()=>z});var s=B(4482);function z(F,ge=0){return(0,s.e)((me,Te)=>{Te.add(F.schedule(()=>me.subscribe(Te),ge))})}},5698:(Et,Oe,B)=>{B.d(Oe,{q:()=>ge});var s=B(515),z=B(4482),F=B(5403);function ge(me){return me<=0?()=>s.E:(0,z.e)((Te,le)=>{let ve=0;Te.subscribe((0,F.x)(le,xe=>{++ve<=me&&(le.next(xe),me<=ve&&le.complete())}))})}},8505:(Et,Oe,B)=>{B.d(Oe,{b:()=>me});var s=B(576),z=B(4482),F=B(5403),ge=B(4671);function me(Te,le,ve){const xe=(0,s.m)(Te)||le||ve?{next:Te,error:le,complete:ve}:Te;return xe?(0,z.e)((Q,Y)=>{var oe;null===(oe=xe.subscribe)||void 0===oe||oe.call(xe);let nt=!0;Q.subscribe((0,F.x)(Y,He=>{var Le;null===(Le=xe.next)||void 0===Le||Le.call(xe,He),Y.next(He)},()=>{var He;nt=!1,null===(He=xe.complete)||void 0===He||He.call(xe),Y.complete()},He=>{var Le;nt=!1,null===(Le=xe.error)||void 0===Le||Le.call(xe,He),Y.error(He)},()=>{var He,Le;nt&&(null===(He=xe.unsubscribe)||void 0===He||He.call(xe)),null===(Le=xe.finalize)||void 0===Le||Le.call(xe)}))}):ge.y}},4408:(Et,Oe,B)=>{B.d(Oe,{o:()=>me});var s=B(727);class z extends s.w0{constructor(le,ve){super()}schedule(le,ve=0){return this}}const F={setInterval(Te,le,...ve){const{delegate:xe}=F;return xe?.setInterval?xe.setInterval(Te,le,...ve):setInterval(Te,le,...ve)},clearInterval(Te){const{delegate:le}=F;return(le?.clearInterval||clearInterval)(Te)},delegate:void 0};var ge=B(8737);class me extends z{constructor(le,ve){super(le,ve),this.scheduler=le,this.work=ve,this.pending=!1}schedule(le,ve=0){if(this.closed)return this;this.state=le;const xe=this.id,Q=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(Q,xe,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(Q,this.id,ve),this}requestAsyncId(le,ve,xe=0){return F.setInterval(le.flush.bind(le,this),xe)}recycleAsyncId(le,ve,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return ve;F.clearInterval(ve)}execute(le,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(le,ve);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ve){let Q,xe=!1;try{this.work(le)}catch(Y){xe=!0,Q=Y||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:le,scheduler:ve}=this,{actions:xe}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(xe,this),null!=le&&(this.id=this.recycleAsyncId(ve,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Oe,B)=>{B.d(Oe,{v:()=>F});var s=B(6063);class z{constructor(me,Te=z.now){this.schedulerActionCtor=me,this.now=Te}schedule(me,Te=0,le){return new this.schedulerActionCtor(this,me).schedule(le,Te)}}z.now=s.l.now;class F extends z{constructor(me,Te=z.now){super(me,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(me){const{actions:Te}=this;if(this._active)return void Te.push(me);let le;this._active=!0;do{if(le=me.execute(me.state,me.delay))break}while(me=Te.shift());if(this._active=!1,le){for(;me=Te.shift();)me.unsubscribe();throw le}}}},4986:(Et,Oe,B)=>{B.d(Oe,{P:()=>ge,z:()=>F});var s=B(4408);const F=new(B(7565).v)(s.o),ge=F},6063:(Et,Oe,B)=>{B.d(Oe,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Et,Oe,B)=>{B.d(Oe,{z:()=>s});const s={setTimeout(z,F,...ge){const{delegate:me}=s;return me?.setTimeout?me.setTimeout(z,F,...ge):setTimeout(z,F,...ge)},clearTimeout(z){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(Et,Oe,B)=>{B.d(Oe,{h:()=>z});const z=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Oe,B)=>{B.d(Oe,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Et,Oe,B)=>{B.d(Oe,{_6:()=>Te,jO:()=>ge,yG:()=>me});var s=B(576),z=B(3532);function F(le){return le[le.length-1]}function ge(le){return(0,s.m)(F(le))?le.pop():void 0}function me(le){return(0,z.K)(F(le))?le.pop():void 0}function Te(le,ve){return"number"==typeof F(le)?le.pop():ve}},8737:(Et,Oe,B)=>{function s(z,F){if(z){const ge=z.indexOf(F);0<=ge&&z.splice(ge,1)}}B.d(Oe,{P:()=>s})},3888:(Et,Oe,B)=>{function s(z){const ge=z(me=>{Error.call(me),me.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}B.d(Oe,{d:()=>s})},2806:(Et,Oe,B)=>{B.d(Oe,{O:()=>ge,x:()=>F});var s=B(2416);let z=null;function F(me){if(s.v.useDeprecatedSynchronousErrorHandling){const Te=!z;if(Te&&(z={errorThrown:!1,error:null}),me(),Te){const{errorThrown:le,error:ve}=z;if(z=null,le)throw ve}}else me()}function ge(me){s.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=me)}},9672:(Et,Oe,B)=>{function s(z,F,ge,me=0,Te=!1){const le=F.schedule(function(){ge(),Te?z.add(this.schedule(null,me)):this.unsubscribe()},me);if(z.add(le),!Te)return le}B.d(Oe,{f:()=>s})},4671:(Et,Oe,B)=>{function s(z){return z}B.d(Oe,{y:()=>s})},1144:(Et,Oe,B)=>{B.d(Oe,{z:()=>s});const s=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Et,Oe,B)=>{B.d(Oe,{D:()=>z});var s=B(576);function z(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(Et,Oe,B)=>{function s(z){return"function"==typeof z}B.d(Oe,{m:()=>s})},3670:(Et,Oe,B)=>{B.d(Oe,{c:()=>F});var s=B(8822),z=B(576);function F(ge){return(0,z.m)(ge[s.L])}},6495:(Et,Oe,B)=>{B.d(Oe,{T:()=>F});var s=B(2202),z=B(576);function F(ge){return(0,z.m)(ge?.[s.h])}},8239:(Et,Oe,B)=>{B.d(Oe,{t:()=>z});var s=B(576);function z(F){return(0,s.m)(F?.then)}},3260:(Et,Oe,B)=>{B.d(Oe,{L:()=>ge,Q:()=>F});var s=B(655),z=B(576);function F(me){return(0,s.FC)(this,arguments,function*(){const le=me.getReader();try{for(;;){const{value:ve,done:xe}=yield(0,s.qq)(le.read());if(xe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ve)}}finally{le.releaseLock()}})}function ge(me){return(0,z.m)(me?.getReader)}},3532:(Et,Oe,B)=>{B.d(Oe,{K:()=>z});var s=B(576);function z(F){return F&&(0,s.m)(F.schedule)}},4482:(Et,Oe,B)=>{B.d(Oe,{A:()=>z,e:()=>F});var s=B(576);function z(ge){return(0,s.m)(ge?.lift)}function F(ge){return me=>{if(z(me))return me.lift(function(Te){try{return ge(Te,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Et,Oe,B)=>{function s(){}B.d(Oe,{Z:()=>s})},7849:(Et,Oe,B)=>{B.d(Oe,{h:()=>F});var s=B(2416),z=B(3410);function F(ge){z.z.setTimeout(()=>{const{onUnhandledError:me}=s.v;if(!me)throw ge;me(ge)})}},4532:(Et,Oe,B)=>{function s(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Oe,{z:()=>s})},655:(Et,Oe,B)=>{function ge(ee,ue){var fe={};for(var Se in ee)Object.prototype.hasOwnProperty.call(ee,Se)&&ue.indexOf(Se)<0&&(fe[Se]=ee[Se]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(Se=Object.getOwnPropertySymbols(ee);_e<Se.length;_e++)ue.indexOf(Se[_e])<0&&Object.prototype.propertyIsEnumerable.call(ee,Se[_e])&&(fe[Se[_e]]=ee[Se[_e]])}return fe}function ve(ee,ue,fe,Se){return new(fe||(fe=Promise))(function(We,xt){function ln(Pn){try{tt(Se.next(Pn))}catch(hi){xt(hi)}}function en(Pn){try{tt(Se.throw(Pn))}catch(hi){xt(hi)}}function tt(Pn){Pn.done?We(Pn.value):function _e(We){return We instanceof fe?We:new fe(function(xt){xt(We)})}(Pn.value).then(ln,en)}tt((Se=Se.apply(ee,ue||[])).next())})}function Ee(ee){return this instanceof Ee?(this.v=ee,this):new Ee(ee)}function Ae(ee,ue,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,Se=fe.apply(ee,ue||[]),We=[];return _e={},xt("next"),xt("throw"),xt("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function xt(Rn){Se[Rn]&&(_e[Rn]=function(hn){return new Promise(function(tn,fn){We.push([Rn,hn,tn,fn])>1||ln(Rn,hn)})})}function ln(Rn,hn){try{!function en(Rn){Rn.value instanceof Ee?Promise.resolve(Rn.value.v).then(tt,Pn):hi(We[0][2],Rn)}(Se[Rn](hn))}catch(tn){hi(We[0][3],tn)}}function tt(Rn){ln("next",Rn)}function Pn(Rn){ln("throw",Rn)}function hi(Rn,hn){Rn(hn),We.shift(),We.length&&ln(We[0][0],We[0][1])}}function et(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ue=ee[Symbol.asyncIterator];return ue?ue.call(ee):(ee=function oe(ee){var ue="function"==typeof Symbol&&Symbol.iterator,fe=ue&&ee[ue],Se=0;if(fe)return fe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Se>=ee.length&&(ee=void 0),{value:ee&&ee[Se++],done:!ee}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),fe={},Se("next"),Se("throw"),Se("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Se(We){fe[We]=ee[We]&&function(xt){return new Promise(function(ln,en){!function _e(We,xt,ln,en){Promise.resolve(en).then(function(tt){We({value:tt,done:ln})},xt)}(ln,en,(xt=ee[We](xt)).done,xt.value)})}}}B.d(Oe,{FC:()=>Ae,KL:()=>et,_T:()=>ge,mG:()=>ve,qq:()=>Ee})},4650:(Et,Oe,B)=>{B.d(Oe,{$8M:()=>iu,$Z:()=>Tb,AFp:()=>uC,ALo:()=>wx,AaK:()=>ve,AsE:()=>em,BQk:()=>Su,CHM:()=>vd,CRH:()=>gh,CZH:()=>xv,CqO:()=>nh,D6c:()=>NR,DdM:()=>fh,EJc:()=>fp,EiD:()=>fc,EpF:()=>aw,F$t:()=>fw,F4k:()=>lw,FYo:()=>ux,FiY:()=>$r,G48:()=>AC,Gf:()=>Sx,GfV:()=>Zw,GkF:()=>Cl,Gpc:()=>Y,Hsn:()=>pw,JOm:()=>pl,JVY:()=>y,KtG:()=>ec,L6k:()=>b,LAX:()=>k,LFG:()=>ft,LSH:()=>q0,Lbi:()=>zx,MAs:()=>yT,MGl:()=>By,MMx:()=>Ra,NdJ:()=>cw,O4$:()=>rg,OlP:()=>Zt,Oqu:()=>Tw,PXZ:()=>vR,Q6J:()=>eh,QGY:()=>Fy,QP$:()=>lp,QbO:()=>Iv,Qsj:()=>qP,R0b:()=>Ao,RDi:()=>pd,Rgc:()=>mm,SBq:()=>Qf,Sil:()=>$x,Suo:()=>Dx,TTD:()=>co,TgZ:()=>$g,Udp:()=>Uf,VKq:()=>fv,W1O:()=>us,WFA:()=>uw,WLB:()=>yx,X6Q:()=>mp,XFs:()=>Tt,Xpm:()=>re,Xts:()=>y1,Y36:()=>_u,YKP:()=>cv,YNc:()=>Gg,Yjl:()=>pe,Yz7:()=>hn,ZZ4:()=>Pm,_Bn:()=>lv,_UZ:()=>ow,_Vd:()=>Kf,_c5:()=>RR,_uU:()=>ih,aQg:()=>Rm,c2e:()=>Sv,cJS:()=>fn,cg1:()=>Rw,d8E:()=>Mu,dDg:()=>mR,deG:()=>Ca,dqk:()=>at,eBb:()=>T,eFA:()=>Rv,ekj:()=>qy,eoX:()=>yC,f3M:()=>Fi,g9A:()=>hC,h0i:()=>wc,hGG:()=>OC,hM9:()=>dm,hij:()=>Wy,iGM:()=>Qw,ifc:()=>rn,ip1:()=>Am,kEZ:()=>rr,kL8:()=>lt,kcU:()=>Yc,l5B:()=>Cn,lG2:()=>nn,lqb:()=>Ef,lri:()=>mC,mCW:()=>xs,n5z:()=>nu,n_E:()=>gm,oAB:()=>Gt,oxw:()=>Uy,pB0:()=>V,q3G:()=>nr,q4F:()=>Bu,qLn:()=>fu,qOj:()=>Kr,qZA:()=>ky,qzn:()=>fl,rWj:()=>_C,s9C:()=>Wg,sBO:()=>iI,sIi:()=>wu,s_b:()=>mv,soG:()=>ka,tb:()=>Ps,tp0:()=>Ta,uIk:()=>Jd,vHH:()=>Le,vpe:()=>Il,wAp:()=>Pt,xi3:()=>hm,xp6:()=>gc,ynx:()=>Oy,z2F:()=>kv,z3N:()=>Ts,zSh:()=>vo,zs3:()=>ml});var s=B(7579),z=B(727),F=B(8306),ge=B(6451),me=B(3099);function Te(l){for(let c in l)if(l[c]===Te)return c;throw Error("Could not find renamed property on target object.")}function le(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function ve(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(ve).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function xe(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const Q=Te({__forward_ref__:Te});function Y(l){return l.__forward_ref__=Y,l.toString=function(){return ve(this())},l}function oe(l){return nt(l)?l():l}function nt(l){return"function"==typeof l&&l.hasOwnProperty(Q)&&l.__forward_ref__===Y}class Le extends Error{constructor(c,d){super(function Je(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function Ee(l){return"string"==typeof l?l:null==l?"":String(l)}function Ve(l,c){throw new Le(-201,!1)}function en(l,c){null==l&&function tt(l,c,d,f){throw new Error(`ASSERTION ERROR: ${l}`+(null==f?"":` [Expected=> ${d} ${f} ${c} <=Actual]`))}(c,l,null,"!=")}function hn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function fn(l){return{providers:l.providers||[],imports:l.imports||[]}}function Yn(l){return gs(l,es)||gs(l,fi)}function gs(l,c){return l.hasOwnProperty(c)?l[c]:null}function ks(l){return l&&(l.hasOwnProperty(ms)||l.hasOwnProperty(Os))?l[ms]:null}const es=Te({\u0275prov:Te}),ms=Te({\u0275inj:Te}),fi=Te({ngInjectableDef:Te}),Os=Te({ngInjectorDef:Te});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Sr;function cn(l){const c=Sr;return Sr=l,c}function or(l,c,d){const f=Yn(l);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&Tt.Optional?null:void 0!==c?c:void Ve(ve(l))}function Dr(l){return{toString:l}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),rn=(()=>{return(l=rn||(rn={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",rn;var l})();const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},Ut=[],mr=Te({\u0275cmp:Te}),ei=Te({\u0275dir:Te}),Gn=Te({\u0275pipe:Te}),wn=Te({\u0275mod:Te}),J=Te({\u0275fac:Te}),G=Te({__NG_ELEMENT_ID__:Te});let ie=0;function re(l){return Dr(()=>{const d=!0===l.standalone,f={},g={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||Ut,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||rn.Emulated,id:"c"+ie++,styles:l.styles||Ut,_:null,setInput:null,schemas:l.schemas||null,tView:null},_=l.dependencies,w=l.features;return g.inputs=Nn(l.inputs,f),g.outputs=Nn(l.outputs),w&&w.forEach(E=>E(g)),g.directiveDefs=_?()=>("function"==typeof _?_():_).map(De).filter(Ke):null,g.pipeDefs=_?()=>("function"==typeof _?_():_).map(Me).filter(Ke):null,g})}function De(l){return $(l)||W(l)}function Ke(l){return null!==l}const _t={};function Gt(l){return Dr(()=>{const c={type:l.type,bootstrap:l.bootstrap||Ut,declarations:l.declarations||Ut,imports:l.imports||Ut,exports:l.exports||Ut,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(_t[l.id]=l.type),c})}function Nn(l,c){if(null==l)return zi;const d={};for(const f in l)if(l.hasOwnProperty(f)){let g=l[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),d[g]=f,c&&(c[g]=_)}return d}const nn=re;function pe(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function $(l){return l[mr]||null}function W(l){return l[ei]||null}function Me(l){return l[Gn]||null}function Qe(l,c){const d=l[wn]||null;if(!d&&!0===c)throw new Error(`Type ${ve(l)} does not have '\u0275mod' property.`);return d}function xn(l){return Array.isArray(l)&&"object"==typeof l[1]}function _r(l){return Array.isArray(l)&&!0===l[1]}function ud(l){return 0!=(8&l.flags)}function la(l){return 2==(2&l.flags)}function zl(l){return 1==(1&l.flags)}function ts(l){return null!==l.template}function Uc(l){return 0!=(256&l[2])}function ys(l,c){return l.hasOwnProperty(J)?l[J]:null}class lo{constructor(c,d,f){this.previousValue=c,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function co(){return ca}function ca(l){return l.type.prototype.ngOnChanges&&(l.setInput=zh),Qp}function Qp(){const l=Vc(this),c=l?.current;if(c){const d=l.previous;if(d===zi)l.previous=c;else for(let f in c)d[f]=c[f];l.current=null,this.ngOnChanges(c)}}function zh(l,c,d,f){const g=Vc(l)||function za(l,c){return l[Bc]=c}(l,{previous:zi,current:null}),_=g.current||(g.current={}),w=g.previous,E=this.declaredInputs[d],x=w[E];_[E]=new lo(x&&x.currentValue,c,w===zi),l[f]=c}co.ngInherit=!0;const Bc="__ngSimpleChanges__";function Vc(l){return l[Bc]||null}let Ga;function pd(l){Ga=l}function kn(l){return!!l.listen}const Zc={createRenderer:(l,c)=>{throw new Error("Renderer3 disabled")}};function Kn(l){for(;Array.isArray(l);)l=l[0];return l}function ha(l,c){return Kn(c[l])}function Ni(l,c){return Kn(c[l.index])}function oi(l,c){return l.data[c]}function fa(l,c){return l[c]}function tr(l,c){const d=c[l];return xn(d)?d:d[0]}function md(l){return 4==(4&l[2])}function pa(l){return 64==(64&l[2])}function yr(l,c){return null==c?null:l[c]}function Ql(l){l[18]=0}function Lo(l,c){l[5]+=c;let d=l,f=l[3];for(;null!==f&&(1===c&&1===d[5]||-1===c&&0===d[5]);)f[5]+=c,d=f,f=f[3]}const St={lFrame:ig(null),bindingsEnabled:!0};function Qa(){return St.bindingsEnabled}function Ze(){return St.lFrame.lView}function Yt(){return St.lFrame.tView}function vd(l){return St.lFrame.contextLView=l,l[8]}function ec(l){return St.lFrame.contextLView=null,l}function ai(){let l=ga();for(;null!==l&&64===l.type;)l=l.parent;return l}function ga(){return St.lFrame.currentTNode}function vs(l,c){const d=St.lFrame;d.currentTNode=l,d.isParent=c}function Ja(){return St.lFrame.isParent}function bd(){St.lFrame.isParent=!1}function ar(){const l=St.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function Vs(){return St.lFrame.bindingIndex++}function uo(l){const c=St.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function jc(l,c){const d=St.lFrame;d.bindingIndex=d.bindingRootIndex=l,_a(c)}function _a(l){St.lFrame.currentDirectiveIndex=l}function Ed(l){const c=St.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function Ad(){return St.lFrame.currentQueryIndex}function el(l){St.lFrame.currentQueryIndex=l}function nc(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function zc(l,c,d){if(d&Tt.SkipSelf){let g=c,_=l;for(;!(g=g.parent,null!==g||d&Tt.Host||(g=nc(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;c=g,l=_}const f=St.lFrame=Gc();return f.currentTNode=c,f.lView=l,!0}function Hs(l){const c=Gc(),d=l[1];St.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Gc(){const l=St.lFrame,c=null===l?null:l.child;return null===c?ig(l):c}function ig(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function Td(){const l=St.lFrame;return St.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const xd=Td;function $c(){const l=Td();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function qr(){return St.lFrame.selectedIndex}function ic(l){St.lFrame.selectedIndex=l}function li(){const l=St.lFrame;return oi(l.tView,l.selectedIndex)}function rg(){St.lFrame.currentNamespace="svg"}function Yc(){!function R_(){St.lFrame.currentNamespace=null}()}function sc(l,c){for(let d=c.directiveStart,f=c.directiveEnd;d<f;d++){const _=l.data[d].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:P,ngOnDestroy:O}=_;w&&(l.contentHooks||(l.contentHooks=[])).push(-d,w),E&&((l.contentHooks||(l.contentHooks=[])).push(d,E),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,E)),x&&(l.viewHooks||(l.viewHooks=[])).push(-d,x),P&&((l.viewHooks||(l.viewHooks=[])).push(d,P),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,P)),null!=O&&(l.destroyHooks||(l.destroyHooks=[])).push(d,O)}}function Kc(l,c,d){sg(l,c,3,d)}function ki(l,c,d,f){(3&l[2])===d&&sg(l,c,d,f)}function Qc(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function sg(l,c,d,f){const _=f??-1,w=c.length-1;let E=0;for(let x=void 0!==f?65535&l[18]:0;x<w;x++)if("number"==typeof c[x+1]){if(E=c[x],null!=f&&E>=f)break}else c[x]<0&&(l[18]+=65536),(E<_||-1==_)&&(Id(l,d,c,x),l[18]=(4294901760&l[18])+x+2),x++}function Id(l,c,d,f){const g=d[f]<0,_=d[f+1],E=l[g?-d[f]:d[f]];if(g){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class nl{constructor(c,d,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Bo(l,c,d){const f=kn(l);let g=0;for(;g<d.length;){const _=d[g];if("number"==typeof _){if(0!==_)break;g++;const w=d[g++],E=d[g++],x=d[g++];f?l.setAttribute(c,E,x,w):c.setAttributeNS(w,E,x)}else{const w=_,E=d[++g];oc(w)?f&&l.setProperty(c,w,E):f?l.setAttribute(c,w,E):c.setAttribute(w,E),g++}}return g}function Kh(l){return 3===l||4===l||6===l}function oc(l){return 64===l.charCodeAt(0)}function ya(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let f=0;f<c.length;f++){const g=c[f];"number"==typeof g?d=g:0===d||On(l,d,g,null,-1===d||2===d?c[++f]:null)}}return l}function On(l,c,d,f,g){let _=0,w=l.length;if(-1===c)w=-1;else for(;_<l.length;){const E=l[_++];if("number"==typeof E){if(E===c){w=-1;break}if(E>c){w=_-1;break}}}for(;_<l.length;){const E=l[_];if("number"==typeof E)break;if(E===d){if(null===f)return void(null!==g&&(l[_+1]=g));if(f===l[_+1])return void(l[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==w&&(l.splice(w,0,c),_=w+1),l.splice(_++,0,d),null!==f&&l.splice(_++,0,f),null!==g&&l.splice(_++,0,g)}function Fn(l){return-1!==l}function yt(l){return 32767&l}function Oi(l,c){let d=function Bt(l){return l>>16}(l),f=c;for(;d>0;)f=f[15],d--;return f}let ti=!0;function eu(l){const c=ti;return ti=l,c}let va=0;const bs={};function gt(l,c){const d=il(l,c);if(-1!==d)return d;const f=c[1];f.firstCreatePass&&(l.injectorIndex=c.length,ws(f.data,l),ws(c,null),ws(f.blueprint,null));const g=Vo(l,c),_=l.injectorIndex;if(Fn(g)){const w=yt(g),E=Oi(g,c),x=E[1].data;for(let P=0;P<8;P++)c[_+P]=E[w+P]|x[w+P]}return c[_+8]=g,_}function ws(l,c){l.push(0,0,0,0,0,0,0,0,c)}function il(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Vo(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,f=null,g=c;for(;null!==g;){if(f=$n(g),null===f)return-1;if(d++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Zs(l,c,d){!function is(l,c,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(G)&&(f=d[G]),null==f&&(f=d[G]=va++);const g=255&f;c.data[l+(g>>5)]|=1<<g}(l,c,d)}function ac(l,c,d){if(d&Tt.Optional)return l;Ve()}function fo(l,c,d,f){if(d&Tt.Optional&&void 0===f&&(f=null),0==(d&(Tt.Self|Tt.Host))){const g=l[9],_=cn(void 0);try{return g?g.get(c,f,d&Tt.Optional):or(c,f,d&Tt.Optional)}finally{cn(_)}}return ac(f,0,d)}function tu(l,c,d,f=Tt.Default,g){if(null!==l){if(1024&c[2]){const w=function Es(l,c,d,f,g){let _=l,w=c;for(;null!==_&&null!==w&&1024&w[2]&&!(256&w[2]);){const E=Jh(_,w,d,f|Tt.Self,bs);if(E!==bs)return E;let x=_.parent;if(!x){const P=w[21];if(P){const O=P.get(d,bs,f);if(O!==bs)return O}x=$n(w),w=w[15]}_=x}return g}(l,c,d,f,bs);if(w!==bs)return w}const _=Jh(l,c,d,f,bs);if(_!==bs)return _}return fo(c,d,f,g)}function Jh(l,c,d,f,g){const _=function ba(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(G)?l[G]:void 0;return"number"==typeof c?c>=0?255&c:Cs:c}(d);if("function"==typeof _){if(!zc(c,l,f))return f&Tt.Host?ac(g,0,f):fo(c,d,f,g);try{const w=_(f);if(null!=w||f&Tt.Optional)return w;Ve()}finally{xd()}}else if("number"==typeof _){let w=null,E=il(l,c),x=-1,P=f&Tt.Host?c[16][6]:null;for((-1===E||f&Tt.SkipSelf)&&(x=-1===E?Vo(l,c):c[E+8],-1!==x&&sl(f,!1)?(w=c[1],E=yt(x),c=Oi(x,c)):E=-1);-1!==E;){const O=c[1];if(rl(_,E,O.data)){const H=po(E,c,d,w,f,P);if(H!==bs)return H}x=c[E+8],-1!==x&&sl(f,c[1].data[E+8]===P)&&rl(_,E,c)?(w=O,E=yt(x),c=Oi(x,c)):E=-1}}return g}function po(l,c,d,f,g,_){const w=c[1],E=w.data[l+8],O=qs(E,w,d,null==f?la(E)&&ti:f!=w&&0!=(3&E.type),g&Tt.Host&&_===E);return null!==O?lc(c,w,O,E):bs}function qs(l,c,d,f,g){const _=l.providerIndexes,w=c.data,E=1048575&_,x=l.directiveStart,O=_>>20,K=g?E+O:l.directiveEnd;for(let se=f?E:E+O;se<K;se++){const Ne=w[se];if(se<x&&d===Ne||se>=x&&Ne.type===d)return se}if(g){const se=w[x];if(se&&ts(se)&&se.type===d)return x}return null}function lc(l,c,d,f){let g=l[d];const _=c.data;if(function Sd(l){return l instanceof nl}(g)){const w=g;w.resolving&&function rt(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new Le(-200,`Circular dependency in DI detected for ${l}${d}`)}(function Ae(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Ee(l)}(_[d]));const E=eu(w.canSeeViewProviders);w.resolving=!0;const x=w.injectImpl?cn(w.injectImpl):null;zc(l,f,Tt.Default);try{g=l[d]=w.factory(void 0,_,l,f),c.firstCreatePass&&d>=f.directiveStart&&function Uo(l,c,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=c.type.prototype;if(f){const w=ca(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,w),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,w)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,g),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,_))}(d,_[d],c)}finally{null!==x&&cn(x),eu(E),w.resolving=!1,xd()}}return g}function rl(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function sl(l,c){return!(l&Tt.Self||l&Tt.Host&&c)}class js{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,f){return tu(this._tNode,this._lView,c,f,d)}}function Cs(){return new js(ai(),Ze())}function nu(l){return Dr(()=>{const c=l.prototype.constructor,d=c[J]||zs(c),f=Object.prototype;let g=Object.getPrototypeOf(l.prototype).constructor;for(;g&&g!==f;){const _=g[J]||zs(g);if(_&&_!==d)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function zs(l){return nt(l)?()=>{const c=zs(oe(l));return c&&c()}:ys(l)}function $n(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function iu(l){return function ni(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const _=d[g];if(Kh(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(_===c)return d[g+1];g+=2}}}return null}(ai(),l)}const Wn="__parameters__";function As(l,c,d){return Dr(()=>{const f=function Xh(l){return function(...d){if(l){const f=l(...d);for(const g in f)this[g]=f[g]}}}(c);function g(..._){if(this instanceof g)return f.apply(this,_),this;const w=new g(..._);return E.annotation=w,E;function E(x,P,O){const H=x.hasOwnProperty(Wn)?x[Wn]:Object.defineProperty(x,Wn,{value:[]})[Wn];for(;H.length<=O;)H.push(null);return(H[O]=H[O]||[]).push(w),x}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=l,g.annotationCls=g,g})}class Zt{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=hn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ca=new Zt("AnalyzeForEntryComponents");function gi(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let f=l[d];Array.isArray(f)?(c===l&&(c=l.slice(0,d)),gi(f,c)):c!==l&&c.push(f)}return c}function zr(l,c){l.forEach(d=>Array.isArray(d)?zr(d,c):c(d))}function ru(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function al(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function Aa(l,c){const d=[];for(let f=0;f<l;f++)d.push(c);return d}function mi(l,c,d){let f=Vt(l,c);return f>=0?l[1|f]=d:(f=~f,function O_(l,c,d,f){let g=l.length;if(g==c)l.push(d,f);else if(1===g)l.push(f,l[0]),l[0]=d;else{for(g--,l.push(l[g-1],l[g]);g>c;)l[g]=l[g-2],g--;l[c]=d,l[c+1]=f}}(l,f,c,d)),f}function su(l,c){const d=Vt(l,c);if(d>=0)return l[1|d]}function Vt(l,c){return function Gr(l,c,d){let f=0,g=l.length>>d;for(;g!==f;){const _=f+(g-f>>1),w=l[_<<d];if(c===w)return _<<d;w>c?g=_:f=_+1}return~(g<<d)}(l,c,1)}const D={},N="__NG_DI_FLAG__",Z="ngTempTokenPath",be=/\n/gm,it="__source";let Dt;function Ht(l){const c=Dt;return Dt=l,c}function Kt(l,c=Tt.Default){if(void 0===Dt)throw new Le(-203,!1);return null===Dt?or(l,void 0,c):Dt.get(l,c&Tt.Optional?null:void 0,c)}function ft(l,c=Tt.Default){return(function jn(){return Sr}()||Kt)(oe(l),c)}function Fi(l,c=Tt.Default){return ft(l,c)}function Nr(l){const c=[];for(let d=0;d<l.length;d++){const f=oe(l[d]);if(Array.isArray(f)){if(0===f.length)throw new Le(900,!1);let g,_=Tt.Default;for(let w=0;w<f.length;w++){const E=f[w],x=ss(E);"number"==typeof x?-1===x?g=E.token:_|=x:g=E}c.push(ft(g,_))}else c.push(ft(f))}return c}function qt(l,c){return l[N]=c,l.prototype[N]=c,l}function ss(l){return l[N]}const $r=qt(As("Optional"),8),Ta=qt(As("SkipSelf"),4);let hu;function vr(l){return function hg(){if(void 0===hu&&(hu=null,at.trustedTypes))try{hu=at.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return hu}()?.createHTML(l)||l}class xa{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ld extends xa{getTypeName(){return"HTML"}}class U_ extends xa{getTypeName(){return"Style"}}class B_ extends xa{getTypeName(){return"Script"}}class B0 extends xa{getTypeName(){return"URL"}}class _f extends xa{getTypeName(){return"ResourceURL"}}function Ts(l){return l instanceof xa?l.changingThisBreaksApplicationSecurity:l}function fl(l,c){const d=function C(l){return l instanceof xa&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function y(l){return new Ld(l)}function b(l){return new U_(l)}function T(l){return new B_(l)}function k(l){return new B0(l)}function V(l){return new _f(l)}class Fe{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(vr(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class dt{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=vr(c),d;const f=this.inertDocument.createElement("body");return f.innerHTML=vr(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(c){const d=c.attributes;for(let g=d.length-1;0<g;g--){const w=d.item(g).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&c.removeAttribute(w)}let f=c.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Jt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xs(l){return(l=String(l)).match(Jt)||l.match(_o)?l:"unsafe:"+l}function Wr(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function jo(...l){const c={};for(const d of l)for(const f in d)d.hasOwnProperty(f)&&(c[f]=!0);return c}const pg=Wr("area,br,col,hr,img,wbr"),gg=Wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bd=Wr("rp,rt"),mg=jo(pg,jo(gg,Wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jo(Bd,Wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jo(Bd,gg)),H_=Wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hc=Wr("srcset"),LA=jo(H_,hc,Wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),H0=Wr("script,style,template");class zo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!mg.hasOwnProperty(d))return this.sanitizedSomething=!0,!H0.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=c.attributes;for(let g=0;g<f.length;g++){const _=f.item(g),w=_.name,E=w.toLowerCase();if(!LA.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=_.value;H_[E]&&(x=xs(x)),hc[E]&&(l=x,x=(l=String(l)).split(",").map(c=>xs(c.trim())).join(", ")),this.buf.push(" ",w,'="',VA(x),'"')}var l;return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();mg.hasOwnProperty(d)&&!pg.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(VA(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const UA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BA=/([^\#-~ |!])/g;function VA(l){return l.replace(/&/g,"&amp;").replace(UA,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(BA,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Z_;function fc(l,c){let d=null;try{Z_=Z_||function ae(l){const c=new dt(l);return function Mt(){try{return!!(new window.DOMParser).parseFromString(vr(""),"text/html")}catch{return!1}}()?new Fe(c):c}(l);let f=c?String(c):"";d=Z_.getInertBodyElement(f);let g=5,_=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=_,_=d.innerHTML,d=Z_.getInertBodyElement(f)}while(f!==_);return vr((new zo).sanitizeChildren(Z0(d)||d))}finally{if(d){const f=Z0(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Z0(l){return"content"in l&&function Vd(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var nr=(()=>((nr=nr||{})[nr.NONE=0]="NONE",nr[nr.HTML=1]="HTML",nr[nr.STYLE=2]="STYLE",nr[nr.SCRIPT=3]="SCRIPT",nr[nr.URL=4]="URL",nr[nr.RESOURCE_URL=5]="RESOURCE_URL",nr))();function q0(l){const c=function yg(){const l=Ze();return l&&l[12]}();return c?c.sanitize(nr.URL,l)||"":fl(l,"URL")?Ts(l):xs(Ee(l))}function z_(l){return l.ngOriginalError}class fu{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&z_(c);for(;d&&z_(d);)d=z_(d);return d||null}}const bg=new Map;let tM=0;const Hd="__ngContext__";function os(l,c){xn(c)?(l[Hd]=c[20],function G_(l){bg.set(l[20],l)}(c)):l[Hd]=c}function wg(l){const c=l[Hd];return"number"==typeof c?function $A(l){return bg.get(l)||null}(c):c||null}function z0(l){const c=wg(l);return c?xn(c)?c:c.lView:null}const aM=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(at))();function pu(l){return l instanceof Function?l():l}var pl=(()=>((pl=pl||{})[pl.Important=1]="Important",pl[pl.DashCase=2]="DashCase",pl))();function $0(l,c){return undefined(l,c)}function Eg(l){const c=l[3];return _r(c)?c[3]:c}function Ag(l){return r1(l[13])}function Y0(l){return r1(l[4])}function r1(l){for(;null!==l&&!_r(l);)l=l[4];return l}function qd(l,c,d,f,g){if(null!=f){let _,w=!1;_r(f)?_=f:xn(f)&&(w=!0,f=f[0]);const E=Kn(f);0===l&&null!==d?null==g?CM(c,d,E):gu(c,d,E,g||null,!0):1===l&&null!==d?gu(c,d,E,g||null,!0):2===l?function d1(l,c,d){const f=Q_(l,c);f&&function l1(l,c,d,f){kn(l)?l.removeChild(c,d,f):c.removeChild(d)}(l,f,c,d)}(c,E,w):3===l&&c.destroyNode(E),null!=_&&function xM(l,c,d,f,g){const _=d[7];_!==Kn(d)&&qd(c,l,f,_,g);for(let E=10;E<d.length;E++){const x=d[E];Cf(x[1],x,l,c,f,_)}}(c,l,_,d,g)}}function K0(l,c,d){if(kn(l))return l.createElement(c,d);{const f=null!==d?function Gh(l){const c=l.toLowerCase();return"svg"===c?"http://www.w3.org/2000/svg":"math"===c?"http://www.w3.org/1998/MathML/":null}(d):null;return null===f?l.createElement(c):l.createElementNS(f,c)}}function s1(l,c){const d=l[9],f=d.indexOf(c),g=c[3];512&c[2]&&(c[2]&=-513,Lo(g,-1)),d.splice(f,1)}function Y_(l,c){if(l.length<=10)return;const d=10+c,f=l[d];if(f){const g=f[17];null!==g&&g!==l&&s1(g,f),c>0&&(l[d-1][4]=f[4]);const _=al(l,10+c);!function mM(l,c){Cf(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const w=_[19];null!==w&&w.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function K_(l,c){if(!(128&c[2])){const d=c[11];kn(d)&&d.destroyNode&&Cf(l,c,d,3,null,null),function vM(l){let c=l[13];if(!c)return bf(l[1],l);for(;c;){let d=null;if(xn(c))d=c[13];else{const f=c[10];f&&(d=f)}if(!d){for(;c&&!c[4]&&c!==l;)xn(c)&&bf(c[1],c),c=c[3];null===c&&(c=l),xn(c)&&bf(c[1],c),d=c&&c[4]}c=d}}(c)}}function bf(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function wM(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let f=0;f<d.length;f+=2){const g=c[d[f]];if(!(g instanceof nl)){const _=d[f+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const E=g[_[w]],x=_[w+1];try{x.call(E)}finally{}}else try{_.call(g)}finally{}}}}(l,c),function o1(l,c){const d=l.cleanup,f=c[7];let g=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const w=d[_+1],E="function"==typeof w?w(c):Kn(c[w]),x=f[g=d[_+2]],P=d[_+3];"boolean"==typeof P?E.removeEventListener(d[_],x,P):P>=0?f[g=P]():f[g=-P].unsubscribe(),_+=2}else{const w=f[g=d[_+1]];d[_].call(w)}if(null!==f){for(let _=g+1;_<f.length;_++)f[_]();c[7]=null}}(l,c),1===c[1].type&&kn(c[11])&&c[11].destroy();const d=c[17];if(null!==d&&_r(c[3])){d!==c[3]&&s1(d,c);const f=c[19];null!==f&&f.detachView(l)}!function nM(l){bg.delete(l[20])}(c)}}function Q0(l,c,d){return function a1(l,c,d){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return d[0];if(2&f.flags){const g=l.data[f.directiveStart].encapsulation;if(g===rn.None||g===rn.Emulated)return null}return Ni(f,d)}(l,c.parent,d)}function gu(l,c,d,f,g){kn(l)?l.insertBefore(c,d,f,g):(J0(c)?c.content:c).insertBefore(d,f,g)}function CM(l,c,d){kn(l)?l.appendChild(c,d):(J0(c)?c.content:c).appendChild(d)}function EM(l,c,d,f,g){null!==f?gu(l,c,d,f,g):CM(l,c,d)}function J0(l){return"TEMPLATE"===l.tagName&&void 0!==l.content}function Q_(l,c){return kn(l)?l.parentNode(c):c.parentNode}function AM(l,c,d){return X0(l,c,d)}let X0=function J_(l,c,d){return 40&l.type?Ni(l,d):null};function ey(l,c,d,f){const g=Q0(l,f,c),_=c[11],E=AM(f.parent||c[6],f,c);if(null!=g)if(Array.isArray(d))for(let x=0;x<d.length;x++)EM(_,g,d[x],E,!1);else EM(_,g,d,E,!1)}function wf(l,c){if(null!==c){const d=c.type;if(3&d)return Ni(c,l);if(4&d)return eb(-1,l[c.index]);if(8&d){const f=c.child;if(null!==f)return wf(l,f);{const g=l[c.index];return _r(g)?eb(-1,g):Kn(g)}}if(32&d)return $0(c,l)()||Kn(l[c.index]);{const f=u1(l,c);return null!==f?Array.isArray(f)?f[0]:wf(Eg(l[16]),f):wf(l,c.next)}}return null}function u1(l,c){return null!==c?l[16][6].projection[c.projection]:null}function eb(l,c){const d=10+l+1;if(d<c.length){const f=c[d],g=f[1].firstChild;if(null!==g)return wf(f,g)}return c[7]}function tb(l,c,d,f,g,_,w){for(;null!=d;){const E=f[d.index],x=d.type;if(w&&0===c&&(E&&os(Kn(E),f),d.flags|=4),64!=(64&d.flags))if(8&x)tb(l,c,d.child,f,g,_,!1),qd(c,l,g,E,_);else if(32&x){const P=$0(d,f);let O;for(;O=P();)qd(c,l,g,O,_);qd(c,l,g,E,_)}else 16&x?h1(l,c,f,d,g,_):qd(c,l,g,E,_);d=w?d.projectionNext:d.next}}function Cf(l,c,d,f,g,_){tb(d,f,l.firstChild,c,g,_,!1)}function h1(l,c,d,f,g,_){const w=d[16],x=w[6].projection[f.projection];if(Array.isArray(x))for(let P=0;P<x.length;P++)qd(c,l,g,x[P],_);else tb(l,c,x,w[3],g,_,!0)}function nb(l,c,d){kn(l)?l.setAttribute(c,"style",d):c.style.cssText=d}function ib(l,c,d){kn(l)?""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d):c.className=d}function f1(l,c,d){let f=l.length;for(;;){const g=l.indexOf(c,d);if(-1===g)return g;if(0===g||l.charCodeAt(g-1)<=32){const _=c.length;if(g+_===f||l.charCodeAt(g+_)<=32)return g}d=g+1}}const p1="ng-template";function rb(l,c,d){let f=0;for(;f<l.length;){let g=l[f++];if(d&&"class"===g){if(g=l[f],-1!==f1(g.toLowerCase(),c,0))return!0}else if(1===g){for(;f<l.length&&"string"==typeof(g=l[f++]);)if(g.toLowerCase()===c)return!0;return!1}}return!1}function g1(l){return 4===l.type&&l.value!==p1}function DM(l,c,d){return c===(4!==l.type||d?l.value:p1)}function MM(l,c,d){let f=4;const g=l.attrs||[],_=function PM(l){for(let c=0;c<l.length;c++)if(Kh(l[c]))return c;return l.length}(g);let w=!1;for(let E=0;E<c.length;E++){const x=c[E];if("number"!=typeof x){if(!w)if(4&f){if(f=2|1&f,""!==x&&!DM(l,x,d)||""===x&&1===c.length){if(gl(f))return!1;w=!0}}else{const P=8&f?x:c[++E];if(8&f&&null!==l.attrs){if(!rb(l.attrs,P,d)){if(gl(f))return!1;w=!0}continue}const H=Ie(8&f?"class":x,g,g1(l),d);if(-1===H){if(gl(f))return!1;w=!0;continue}if(""!==P){let K;K=H>_?"":g[H+1].toLowerCase();const se=8&f?K:null;if(se&&-1!==f1(se,P,0)||2&f&&P!==K){if(gl(f))return!1;w=!0}}}}else{if(!w&&!gl(f)&&!gl(x))return!1;if(w&&gl(x))continue;w=!1,f=x|1&f}}return gl(f)||w}function gl(l){return 0==(1&l)}function Ie(l,c,d,f){if(null===c)return-1;let g=0;if(f||!d){let _=!1;for(;g<c.length;){const w=c[g];if(w===l)return g;if(3===w||6===w)_=!0;else{if(1===w||2===w){let E=c[++g];for(;"string"==typeof E;)E=c[++g];continue}if(4===w)break;if(0===w){g+=4;continue}}g+=_?1:2}return-1}return function RM(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const f=l[d];if("number"==typeof f)return-1;if(f===c)return d;d++}return-1}(c,l)}function Go(l,c,d=!1){for(let f=0;f<c.length;f++)if(MM(l,c[f],d))return!0;return!1}function sb(l,c){e:for(let d=0;d<c.length;d++){const f=c[d];if(l.length===f.length){for(let g=0;g<l.length;g++)if(l[g]!==f[g])continue e;return!0}}return!1}function ob(l,c){return l?":not("+c.trim()+")":c}function m1(l){let c=l[0],d=1,f=2,g="",_=!1;for(;d<l.length;){let w=l[d];if("string"==typeof w)if(2&f){const E=l[++d];g+="["+w+(E.length>0?'="'+E+'"':"")+"]"}else 8&f?g+="."+w:4&f&&(g+=" "+w);else""!==g&&!gl(w)&&(c+=ob(_,g),g=""),f=w,_=_||!gl(f);d++}return""!==g&&(c+=ob(_,g)),c}const At={};function gc(l){jd(Yt(),Ze(),qr()+l,!1)}function jd(l,c,d,f){if(!f)if(3==(3&c[2])){const _=l.preOrderCheckHooks;null!==_&&Kc(c,_,d)}else{const _=l.preOrderHooks;null!==_&&ki(c,_,0,d)}ic(d)}const y1=new Zt("ENVIRONMENT_INITIALIZER"),LM=new Zt("INJECTOR_DEF_TYPES");function dF(...l){return{\u0275providers:v1(0,l)}}function v1(l,...c){const d=[],f=new Set;let g;return zr(c,_=>{const w=_;b1(w,d,[],f)&&(g||(g=[]),g.push(w))}),void 0!==g&&UM(g,d),d}function UM(l,c){for(let d=0;d<l.length;d++){const{providers:g}=l[d];zr(g,_=>{c.push(_)})}}function b1(l,c,d,f){if(!(l=oe(l)))return!1;let g=null,_=ks(l);const w=!_&&$(l);if(_||w){if(w&&!w.standalone)return!1;g=l}else{const x=l.ngModule;if(_=ks(x),!_)return!1;g=x}const E=f.has(g);if(w){if(E)return!1;if(f.add(g),w.dependencies){const x="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const P of x)b1(P,c,d,f)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let P;f.add(g);try{zr(_.imports,O=>{b1(O,c,d,f)&&(P||(P=[]),P.push(O))})}finally{}void 0!==P&&UM(P,c)}if(!E){const P=ys(g)||(()=>new g);c.push({provide:g,useFactory:P,deps:Ut},{provide:LM,useValue:g,multi:!0},{provide:y1,useValue:()=>ft(g),multi:!0})}const x=_.providers;null==x||E||zr(x,O=>{c.push(O)})}}return g!==l&&void 0!==l.providers}const Yr=Te({provide:String,useValue:Te});function yo(l){return null!==l&&"object"==typeof l&&Yr in l}function mu(l){return"function"==typeof l}const lb=new Zt("INJECTOR",-1);class wr{get(c,d=D){if(d===D){const f=new Error(`NullInjectorError: No provider for ${ve(c)}!`);throw f.name="NullInjectorError",f}return d}}const vo=new Zt("Set Injector scope."),zd={},cb={};let ub;function db(){return void 0===ub&&(ub=new wr),ub}class Ef{}class hb extends Ef{constructor(c,d,f,g){super(),this.parent=d,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xg(c,w=>this.processProvider(w)),this.records.set(lb,lr(void 0,this)),g.has("environment")&&this.records.set(Ef,lr(void 0,this));const _=this.records.get(vo);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(LM.multi,Ut,Tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}get(c,d=D,f=Tt.Default){this.assertNotDestroyed();const g=Ht(this),_=cn(void 0);try{if(!(f&Tt.SkipSelf)){let E=this.records.get(c);if(void 0===E){const x=function pb(l){return"function"==typeof l||"object"==typeof l&&l instanceof Zt}(c)&&Yn(c);E=x&&this.injectableDefInScope(x)?lr(fb(c),zd):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(f&Tt.Self?db():this.parent).get(c,d=f&Tt.Optional&&d===D?null:d)}catch(w){if("NullInjectorError"===w.name){if((w[Z]=w[Z]||[]).unshift(ve(c)),g)throw w;return function cg(l,c,d,f){const g=l[Z];throw c[it]&&g.unshift(c[it]),l.message=function $s(l,c,d,f=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let g=ve(c);if(Array.isArray(c))g=c.map(ve).join(" -> ");else if("object"==typeof c){let _=[];for(let w in c)if(c.hasOwnProperty(w)){let E=c[w];_.push(w+":"+("string"==typeof E?JSON.stringify(E):ve(E)))}g=`{${_.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${l.replace(be,"\n  ")}`}("\n"+l.message,g,d,f),l.ngTokenPath=g,l[Z]=null,l}(w,c,"R3InjectorError",this.source)}throw w}finally{cn(_),Ht(g)}}resolveInjectorInitializers(){const c=Ht(this),d=cn(void 0);try{const f=this.get(y1.multi,Ut,Tt.Self);for(const g of f)g()}finally{Ht(c),cn(d)}}toString(){const c=[],d=this.records;for(const f of d.keys())c.push(ve(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(c){let d=mu(c=oe(c))?c:oe(c&&c.provide);const f=function HM(l){return yo(l)?lr(void 0,l.useValue):lr(w1(l),zd)}(c);if(mu(c)||!0!==c.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=lr(void 0,zd,!0),g.factory=()=>Nr(g.multi),this.records.set(d,g)),d=c,g.multi.push(c)}this.records.set(d,f)}hydrate(c,d){return d.value===zd&&(d.value=cb,d.value=d.factory()),"object"==typeof d.value&&d.value&&function C1(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=oe(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function fb(l){const c=Yn(l),d=null!==c?c.factory:ys(l);if(null!==d)return d;if(l instanceof Zt)throw new Le(204,!1);if(l instanceof Function)return function VM(l){const c=l.length;if(c>0)throw Aa(c,"?"),new Le(204,!1);const d=function gr(l){const c=l&&(l[es]||l[fi]);if(c){const d=function Xn(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Le(204,!1)}function w1(l,c,d){let f;if(mu(l)){const g=oe(l);return ys(g)||fb(g)}if(yo(l))f=()=>oe(l.useValue);else if(function $o(l){return!(!l||!l.useFactory)}(l))f=()=>l.useFactory(...Nr(l.deps||[]));else if(function U(l){return!(!l||!l.useExisting)}(l))f=()=>ft(oe(l.useExisting));else{const g=oe(l&&(l.useClass||l.provide));if(!function ry(l){return!!l.deps}(l))return ys(g)||fb(g);f=()=>new g(...Nr(l.deps))}return f}function lr(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function sy(l){return!!l.\u0275providers}function xg(l,c){for(const d of l)Array.isArray(d)?xg(d,c):sy(d)?xg(d.\u0275providers,c):c(d)}function oy(l,c=null,d=null,f){const g=E1(l,c,d,f);return g.resolveInjectorInitializers(),g}function E1(l,c=null,d=null,f,g=new Set){const _=[d||Ut,dF(l)];return f=f||("object"==typeof l?void 0:ve(l)),new hb(_,c||db(),f||null,g)}let ml=(()=>{class l{static create(d,f){if(Array.isArray(d))return oy({name:""},f,d,"");{const g=d.name??"";return oy({name:g},d.parent,d.providers,g)}}}return l.THROW_IF_NOT_FOUND=D,l.NULL=new wr,l.\u0275prov=hn({token:l,providedIn:"any",factory:()=>ft(lb)}),l.__NG_ELEMENT_ID__=-1,l})();function _u(l,c=Tt.Default){const d=Ze();return null===d?ft(l,c):tu(ai(),d,oe(l),c)}function Tb(){throw new Error("invalid")}function cy(l,c){return l<<17|c<<2}function Ia(l){return l>>17&32767}function uy(l){return 2|l}function _l(l){return(131068&l)>>2}function dy(l,c){return-131069&l|c<<2}function O1(l){return 1|l}function Mf(l,c){const d=l.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const g=d[f],_=d[f+1];if(-1!==_){const w=l.data[_];el(g),w.contentQueries(2,c[_],_)}}}function Mg(l,c,d,f,g,_,w,E,x,P,O){const H=c.blueprint.slice();return H[0]=g,H[2]=76|f,(null!==O||l&&1024&l[2])&&(H[2]|=1024),Ql(H),H[3]=H[15]=l,H[8]=d,H[10]=w||l&&l[10],H[11]=E||l&&l[11],H[12]=x||l&&l[12]||null,H[9]=P||l&&l[9]||null,H[6]=_,H[20]=function GA(){return tM++}(),H[21]=O,H[16]=2==c.type?l[16]:H,H}function Pf(l,c,d,f,g){let _=l.data[c];if(null===_)_=function Vb(l,c,d,f,g){const _=ga(),w=Ja(),x=l.data[c]=function Is(l,c,d,f,g,_){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,d,c,f,g);return null===l.firstChild&&(l.firstChild=x),null!==_&&(w?null==_.child&&null!==x.parent&&(_.child=x):null===_.next&&(_.next=x)),x}(l,c,d,f,g),function ma(){return St.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=d,_.value=f,_.attrs=g;const w=function tc(){const l=St.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return vs(_,!0),_}function Wi(l,c,d,f){if(0===d)return-1;const g=c.length;for(let _=0;_<d;_++)c.push(f),l.blueprint.push(f),l.data.push(null);return g}function yu(l,c,d){Hs(c);try{const f=l.viewQuery;null!==f&&Ey(1,f,d);const g=l.template;null!==g&&H1(l,c,g,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Mf(l,c),l.staticViewQueries&&Ey(2,l.viewQuery,d);const _=l.components;null!==_&&function Bb(l,c){for(let d=0;d<c.length;d++)by(l,c[d])}(c,_)}catch(f){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),f}finally{c[2]&=-5,$c()}}function Yi(l,c,d,f){const g=c[2];if(128!=(128&g)){Hs(c);try{Ql(c),function $h(l){return St.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&H1(l,c,d,2,f);const w=3==(3&g);if(w){const P=l.preOrderCheckHooks;null!==P&&Kc(c,P,null)}else{const P=l.preOrderHooks;null!==P&&ki(c,P,0,null),Qc(c,0)}if(function kg(l){for(let c=Ag(l);null!==c;c=Y0(c)){if(!c[2])continue;const d=c[9];for(let f=0;f<d.length;f++){const g=d[f],_=g[3];0==(512&g[2])&&Lo(_,1),g[2]|=512}}}(c),function aP(l){for(let c=Ag(l);null!==c;c=Y0(c))for(let d=10;d<c.length;d++){const f=c[d],g=f[1];pa(f)&&Yi(g,f,g.template,f[8])}}(c),null!==l.contentQueries&&Mf(l,c),w){const P=l.contentCheckHooks;null!==P&&Kc(c,P)}else{const P=l.contentHooks;null!==P&&ki(c,P,1),Qc(c,1)}!function Ub(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)ic(~g);else{const _=g,w=d[++f],E=d[++f];jc(w,_),E(2,c[_])}}}finally{ic(-1)}}(l,c);const E=l.components;null!==E&&function tP(l,c){for(let d=0;d<c.length;d++)lP(l,c[d])}(c,E);const x=l.viewQuery;if(null!==x&&Ey(2,x,f),w){const P=l.viewCheckHooks;null!==P&&Kc(c,P)}else{const P=l.viewHooks;null!==P&&ki(c,P,2),Qc(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,Lo(c[3],-1))}finally{$c()}}}function vu(l,c,d,f){const g=c[10],w=md(c);try{!w&&g.begin&&g.begin(),w&&yu(l,c,f),Yi(l,c,d,f)}finally{!w&&g.end&&g.end()}}function H1(l,c,d,f,g){const _=qr(),w=2&f;try{ic(-1),w&&c.length>22&&jd(l,c,22,!1),d(f,g)}finally{ic(_)}}function Z1(l,c,d){if(ud(c)){const g=c.directiveEnd;for(let _=c.directiveStart;_<g;_++){const w=l.data[_];w.contentQueries&&w.contentQueries(1,d[_],_)}}}function gy(l,c,d){!Qa()||(function zb(l,c,d,f){const g=d.directiveStart,_=d.directiveEnd;l.firstCreatePass||gt(d,c),os(f,c);const w=d.initialInputs;for(let E=g;E<_;E++){const x=l.data[E],P=ts(x);P&&rP(c,d,x);const O=lc(c,l,E,d);os(O,c),null!==w&&sP(0,E-g,O,x,0,w),P&&(tr(d.index,c)[8]=O)}}(l,c,d,Ni(d,c)),128==(128&d.flags)&&function Y1(l,c,d){const f=d.directiveStart,g=d.directiveEnd,_=d.index,w=function ng(){return St.lFrame.currentDirectiveIndex}();try{ic(_);for(let E=f;E<g;E++){const x=l.data[E],P=c[E];_a(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&K1(x,P)}}finally{ic(-1),_a(w)}}(l,c,d))}function my(l,c,d=Ni){const f=c.localNames;if(null!==f){let g=c.index+1;for(let _=0;_<f.length;_+=2){const w=f[_+1],E=-1===w?d(c,l):l[w];l[g++]=E}}}function q1(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Pg(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Pg(l,c,d,f,g,_,w,E,x,P){const O=22+f,H=O+g,K=function Hb(l,c){const d=[];for(let f=0;f<c;f++)d.push(f<l?null:At);return d}(O,H),se="function"==typeof P?P():P;return K[1]={type:l,blueprint:K,template:d,queries:null,viewQuery:E,declTNode:c,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:se,incompleteFirstPass:!1}}function _y(l,c,d,f){const g=tT(c);null===d?g.push(f):(g.push(d),l.firstCreatePass&&Ay(l).push(f,g.length-1))}function Zb(l,c,d){for(let f in l)if(l.hasOwnProperty(f)){const g=l[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(c,g):d[f]=[c,g]}return d}function Ws(l,c,d,f,g,_,w,E){const x=Ni(c,d);let O,P=c.inputs;!E&&null!=P&&(O=P[f])?(Cr(l,d,O,f,g),la(c)&&function z1(l,c){const d=tr(c,l);16&d[2]||(d[2]|=32)}(d,c.index)):3&c.type&&(f=function qb(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(f),g=null!=w?w(g,c.value||"",f):g,kn(_)?_.setProperty(x,f,g):oc(f)||(x.setProperty?x.setProperty(f,g):x[f]=g))}function jb(l,c,d,f){let g=!1;if(Qa()){const _=function Q1(l,c,d){const f=l.directiveRegistry;let g=null;if(f)for(let _=0;_<f.length;_++){const w=f[_];Go(d,w.selectors,!1)&&(g||(g=[]),Zs(gt(d,c),l,w.type),ts(w)?(Ng(l,d),g.unshift(w)):g.push(w))}return g}(l,c,d),w=null===f?null:{"":-1};if(null!==_){g=!0,yy(d,l.data.length,_.length);for(let O=0;O<_.length;O++){const H=_[O];H.providersResolver&&H.providersResolver(H)}let E=!1,x=!1,P=Wi(l,c,_.length,null);for(let O=0;O<_.length;O++){const H=_[O];d.mergedAttrs=ya(d.mergedAttrs,H.hostAttrs),J1(l,d,c,P,H),$b(P,H,w),null!==H.contentQueries&&(d.flags|=8),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(d.flags|=128);const K=H.type.prototype;!E&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),E=!0),!x&&(K.ngOnChanges||K.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),x=!0),P++}!function j1(l,c){const f=c.directiveEnd,g=l.data,_=c.attrs,w=[];let E=null,x=null;for(let P=c.directiveStart;P<f;P++){const O=g[P],H=O.inputs,K=null===_||g1(c)?null:oP(H,_);w.push(K),E=Zb(H,P,E),x=Zb(O.outputs,P,x)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=16),E.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=w,c.inputs=E,c.outputs=x}(l,d)}w&&function Gb(l,c,d){if(c){const f=l.localNames=[];for(let g=0;g<c.length;g+=2){const _=d[c[g+1]];if(null==_)throw new Le(-301,!1);f.push(c[g],_)}}}(d,f,w)}return d.mergedAttrs=ya(d.mergedAttrs,d.attrs),g}function Wd(l,c,d,f,g,_){const w=_.hostBindings;if(w){let E=l.hostBindingOpCodes;null===E&&(E=l.hostBindingOpCodes=[]);const x=~c.index;(function W1(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(E)!=x&&E.push(x),E.push(f,g,w)}}function K1(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function Ng(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function $b(l,c,d){if(d){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)d[c.exportAs[f]]=l;ts(c)&&(d[""]=l)}}function yy(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function J1(l,c,d,f,g){l.data[f]=g;const _=g.factory||(g.factory=ys(g.type)),w=new nl(_,ts(g),_u);l.blueprint[f]=w,d[f]=w,Wd(l,c,0,f,Wi(l,d,g.hostVars,At),g)}function rP(l,c,d){const f=Ni(c,l),g=q1(d),_=l[10],w=Nf(l,Mg(l,g,null,d.onPush?32:16,f,c,_,_.createRenderer(f,d),null,null,null));l[c.index]=w}function Wo(l,c,d,f,g,_){const w=Ni(l,c);!function vy(l,c,d,f,g,_,w){if(null==_)kn(l)?l.removeAttribute(c,g,d):c.removeAttribute(g);else{const E=null==w?Ee(_):w(_,f||"",g);kn(l)?l.setAttribute(c,g,E,d):d?c.setAttributeNS(d,g,E):c.setAttribute(g,E)}}(c[11],w,_,l.value,d,f,g)}function sP(l,c,d,f,g,_){const w=_[c];if(null!==w){const E=f.setInput;for(let x=0;x<w.length;){const P=w[x++],O=w[x++],H=w[x++];null!==E?f.setInput(d,H,P,O):d[O]=H}}}function oP(l,c){let d=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;l.hasOwnProperty(g)&&(null===d&&(d=[]),d.push(g,l[g],c[f+1])),f+=2}else f+=2;else f+=4}return d}function Rf(l,c,d,f){return new Array(l,!0,!1,c,null,0,f,d,null,null)}function lP(l,c){const d=tr(c,l);if(pa(d)){const f=d[1];48&d[2]?Yi(f,d,f.template,d[8]):d[5]>0&&Wb(d)}}function Wb(l){for(let f=Ag(l);null!==f;f=Y0(f))for(let g=10;g<f.length;g++){const _=f[g];if(512&_[2]){const w=_[1];Yi(w,_,w.template,_[8])}else _[5]>0&&Wb(_)}const d=l[1].components;if(null!==d)for(let f=0;f<d.length;f++){const g=tr(d[f],l);pa(g)&&g[5]>0&&Wb(g)}}function by(l,c){const d=tr(c,l),f=d[1];(function wy(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(f,d),yu(f,d,d[8])}function Nf(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Og(l){for(;l;){l[2]|=32;const c=Eg(l);if(Uc(l)&&!c)return l;l=c}return null}function Kb(l){!function Fg(l){for(let c=0;c<l.components.length;c++){const d=l.components[c],f=z0(d);if(null!==f){const g=f[1];vu(g,f,g.template,d)}}}(l[8])}function Ey(l,c,d){el(0),c(l,d)}const eT=(()=>Promise.resolve(null))();function tT(l){return l[7]||(l[7]=[])}function Ay(l){return l.cleanup||(l.cleanup=[])}function Ty(l,c,d){return(null===l||ts(l))&&(d=function $a(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function xy(l,c){const d=l[9],f=d?d.get(fu,null):null;f&&f.handleError(c)}function Cr(l,c,d,f,g){for(let _=0;_<d.length;){const w=d[_++],E=d[_++],x=c[w],P=l.data[w];null!==P.setInput?P.setInput(x,g,f,E):x[E]=g}}function yi(l,c,d){const f=ha(c,l);!function W_(l,c,d){kn(l)?l.setValue(c,d):c.textContent=d}(l[11],f,d)}function Yd(l,c,d){let f=d?l.styles:null,g=d?l.classes:null,_=0;if(null!==c)for(let w=0;w<c.length;w++){const E=c[w];"number"==typeof E?_=E:1==_?g=xe(g,E):2==_&&(f=xe(f,E+": "+c[++w]+";"))}d?l.styles=f:l.stylesWithoutHost=f,d?l.classes=g:l.classesWithoutHost=g}function uT(){const l=ai();sc(Ze()[1],l)}function Kr(l){let c=function ew(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const f=[l];for(;c;){let g;if(ts(l))g=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Le(903,!1);g=c.\u0275dir}if(g){if(d){f.push(g);const w=l;w.inputs=Kd(l.inputs),w.declaredInputs=Kd(l.declaredInputs),w.outputs=Kd(l.outputs);const E=g.hostBindings;E&&tw(l,E);const x=g.viewQuery,P=g.contentQueries;if(x&&Ny(l,x),P&&hT(l,P),le(l.inputs,g.inputs),le(l.declaredInputs,g.declaredInputs),le(l.outputs,g.outputs),ts(g)&&g.data.animation){const O=l.data;O.animation=(O.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let w=0;w<_.length;w++){const E=_[w];E&&E.ngInherit&&E(l),E===Kr&&(d=!1)}}c=Object.getPrototypeOf(c)}!function dT(l){let c=0,d=null;for(let f=l.length-1;f>=0;f--){const g=l[f];g.hostVars=c+=g.hostVars,g.hostAttrs=ya(g.hostAttrs,d=ya(d,g.hostAttrs))}}(f)}function Kd(l){return l===zi?{}:l===Ut?[]:l}function Ny(l,c){const d=l.viewQuery;l.viewQuery=d?(f,g)=>{c(f,g),d(f,g)}:c}function hT(l,c){const d=l.contentQueries;l.contentQueries=d?(f,g,_)=>{c(f,g,_),d(f,g,_)}:c}function tw(l,c){const d=l.hostBindings;l.hostBindings=d?(f,g)=>{c(f,g),d(f,g)}:c}let kf=null;function _c(){if(!kf){const l=at.Symbol;if(l&&l.iterator)kf=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const f=c[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(kf=f)}}}return kf}function wu(l){return!!nw(l)&&(Array.isArray(l)||!(l instanceof Map)&&_c()in l)}function nw(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function bo(l,c,d){return l[c]=d}function Qr(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Cu(l,c,d,f){const g=Qr(l,c,d);return Qr(l,c+1,f)||g}function Jd(l,c,d,f){const g=Ze();return Qr(g,Vs(),c)&&(Yt(),Wo(li(),g,l,c,d,f)),Jd}function yc(l,c,d,f){return Qr(l,Vs(),d)?c+Ee(d)+f:At}function bl(l,c,d,f,g,_){const E=Cu(l,function Rr(){return St.lFrame.bindingIndex}(),d,g);return uo(2),E?c+Ee(d)+f+Ee(g)+_:At}function Gg(l,c,d,f,g,_,w,E){const x=Ze(),P=Yt(),O=l+22,H=P.firstCreatePass?function Ai(l,c,d,f,g,_,w,E,x){const P=c.consts,O=Pf(c,l,4,w||null,yr(P,E));jb(c,d,O,yr(P,x)),sc(c,O);const H=O.tViews=Pg(2,O,f,g,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,P);return null!==c.queries&&(c.queries.template(c,O),H.queries=c.queries.embeddedTView(O)),O}(O,P,x,c,d,f,g,_,w):P.data[O];vs(H,!1);const K=x[11].createComment("");ey(P,x,K,H),os(K,x),Nf(x,x[O]=Rf(K,x,K,H)),zl(H)&&gy(P,x,H),null!=w&&my(x,H,E)}function yT(l){return fa(function wd(){return St.lFrame.contextLView}(),22+l)}function eh(l,c,d){const f=Ze();return Qr(f,Vs(),c)&&Ws(Yt(),li(),f,l,c,f[11],d,!1),eh}function th(l,c,d,f,g){const w=g?"class":"style";Cr(l,d,c.inputs[w],w,f)}function $g(l,c,d,f){const g=Ze(),_=Yt(),w=22+l,E=g[11],x=g[w]=K0(E,c,function rc(){return St.lFrame.currentNamespace}()),P=_.firstCreatePass?function mP(l,c,d,f,g,_,w){const E=c.consts,P=Pf(c,l,2,g,yr(E,_));return jb(c,d,P,yr(E,w)),null!==P.attrs&&Yd(P,P.attrs,!1),null!==P.mergedAttrs&&Yd(P,P.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,P),P}(w,_,g,0,c,d,f):_.data[w];vs(P,!0);const O=P.mergedAttrs;null!==O&&Bo(E,x,O);const H=P.classes;null!==H&&ib(E,x,H);const K=P.styles;return null!==K&&nb(E,x,K),64!=(64&P.flags)&&ey(_,g,x,P),0===function _d(){return St.lFrame.elementDepthCount}()&&os(x,g),function Ka(){St.lFrame.elementDepthCount++}(),zl(P)&&(gy(_,g,P),Z1(_,P,g)),null!==f&&my(g,P),$g}function ky(){let l=ai();Ja()?bd():(l=l.parent,vs(l,!1));const c=l;!function yd(){St.lFrame.elementDepthCount--}();const d=Yt();return d.firstCreatePass&&(sc(d,l),ud(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function N_(l){return 0!=(16&l.flags)}(c)&&th(d,c,Ze(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function R0(l){return 0!=(32&l.flags)}(c)&&th(d,c,Ze(),c.stylesWithoutHost,!1),ky}function ow(l,c,d,f){return $g(l,c,d,f),ky(),ow}function Oy(l,c,d){const f=Ze(),g=Yt(),_=l+22,w=g.firstCreatePass?function _P(l,c,d,f,g){const _=c.consts,w=yr(_,f),E=Pf(c,l,8,"ng-container",w);return null!==w&&Yd(E,w,!0),jb(c,d,E,yr(_,g)),null!==c.queries&&c.queries.elementStart(c,E),E}(_,g,f,c,d):g.data[_];vs(w,!0);const E=f[_]=f[11].createComment("");return ey(g,f,E,w),os(E,f),zl(w)&&(gy(g,f,w),Z1(g,w,f)),null!=d&&my(f,w),Oy}function Su(){let l=ai();const c=Yt();return Ja()?bd():(l=l.parent,vs(l,!1)),c.firstCreatePass&&(sc(c,l),ud(l)&&c.queries.elementEnd(l)),Su}function Cl(l,c,d){return Oy(l,c,d),Su(),Cl}function aw(){return Ze()}function Fy(l){return!!l&&"function"==typeof l.then}function lw(l){return!!l&&"function"==typeof l.subscribe}const nh=lw;function cw(l,c,d,f){const g=Ze(),_=Yt(),w=ai();return bT(_,g,g[11],w,l,c,!!d,f),cw}function uw(l,c){const d=ai(),f=Ze(),g=Yt();return bT(g,f,Ty(Ed(g.data),d,f),d,l,c,!1),uw}function bT(l,c,d,f,g,_,w,E){const x=zl(f),O=l.firstCreatePass&&Ay(l),H=c[8],K=tT(c);let se=!0;if(3&f.type||E){const ot=Ni(f,c),vt=E?E(ot):ot,Rt=K.length,je=E?Nt=>E(Kn(Nt[f.index])):f.index;if(kn(d)){let Nt=null;if(!E&&x&&(Nt=function vT(l,c,d,f){const g=l.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const w=g[_];if(w===d&&g[_+1]===f){const E=c[7],x=g[_+2];return E.length>x?E[x]:null}"string"==typeof w&&(_+=2)}return null}(l,c,g,f.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=_,Nt.__ngLastListenerFn__=_,se=!1;else{_=Ly(f,c,H,_,!1);const vn=d.listen(vt,g,_);K.push(_,vn),O&&O.push(g,je,Rt,Rt+1)}}else _=Ly(f,c,H,_,!0),vt.addEventListener(g,_,w),K.push(_),O&&O.push(g,je,Rt,w)}else _=Ly(f,c,H,_,!1);const Ne=f.outputs;let $e;if(se&&null!==Ne&&($e=Ne[g])){const ot=$e.length;if(ot)for(let vt=0;vt<ot;vt+=2){const ii=c[$e[vt]][$e[vt+1]].subscribe(_),Tc=K.length;K.push(_,ii),O&&O.push(g,f.index,Tc,-(Tc+1))}}}function dw(l,c,d,f){try{return!1!==d(f)}catch(g){return xy(l,g),!1}}function Ly(l,c,d,f,g){return function _(w){if(w===Function)return f;Og(2&l.flags?tr(l.index,c):c);let x=dw(c,0,f,w),P=_.__ngNextListenerFn__;for(;P;)x=dw(c,0,P,w)&&x,P=P.__ngNextListenerFn__;return g&&!1===x&&(w.preventDefault(),w.returnValue=!1),x}}function Uy(l=1){return function Wc(l){return(St.lFrame.contextLView=function P_(l,c){for(;l>0;)c=c[15],l--;return c}(l,St.lFrame.contextLView))[8]}(l)}function hw(l,c){let d=null;const f=function ty(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let g=0;g<c.length;g++){const _=c[g];if("*"!==_){if(null===f?Go(l,_,!0):sb(f,_))return g}else d=g}return d}function fw(l){const c=Ze()[16][6];if(!c.projection){const f=c.projection=Aa(l?l.length:1,null),g=f.slice();let _=c.child;for(;null!==_;){const w=l?hw(_,l):0;null!==w&&(g[w]?g[w].projectionNext=_:f[w]=_,g[w]=_),_=_.next}}}function pw(l,c=0,d){const f=Ze(),g=Yt(),_=Pf(g,22+l,16,null,d||null);null===_.projection&&(_.projection=c),bd(),64!=(64&_.flags)&&function TM(l,c,d){h1(c[11],0,c,d,Q0(l,d,c),AM(d.parent||c[6],d,c))}(g,f,_)}function Wg(l,c,d){return By(l,"",c,"",d),Wg}function By(l,c,d,f,g){const _=Ze(),w=yc(_,c,d,f);return w!==At&&Ws(Yt(),li(),_,l,w,_[11],g,!1),By}function mw(l,c,d,f,g){const _=l[d+1],w=null===c;let E=f?Ia(_):_l(_),x=!1;for(;0!==E&&(!1===x||w);){const O=l[E+1];vP(l[E],c)&&(x=!0,l[E+1]=f?O1(O):uy(O)),E=f?Ia(O):_l(O)}x&&(l[d+1]=f?uy(_):O1(_))}function vP(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&Vt(l,c)>=0}function Uf(l,c,d){return Ds(l,c,d,!1),Uf}function qy(l,c){return Ds(l,c,null,!0),qy}function Ds(l,c,d,f){const g=Ze(),_=Yt(),w=uo(2);_.firstUpdatePass&&function zy(l,c,d,f){const g=l.data;if(null===g[d+1]){const _=g[qr()],w=function bw(l,c){return c>=l.expandoStartIndex}(l,d);(function Aw(l,c){return 0!=(l.flags&(c?16:32))})(_,f)&&null===c&&!w&&(c=!1),c=function ww(l,c,d,f){const g=Ed(l);let _=f?c.residualClasses:c.residualStyles;if(null===g)0===(f?c.classBindings:c.styleBindings)&&(d=Ma(d=$y(null,l,c,d,f),c.attrs,f),_=null);else{const w=c.directiveStylingLast;if(-1===w||l[w]!==g)if(d=$y(g,l,c,d,f),null===_){let x=function ST(l,c,d){const f=d?c.classBindings:c.styleBindings;if(0!==_l(f))return l[Ia(f)]}(l,c,f);void 0!==x&&Array.isArray(x)&&(x=$y(null,l,c,x[1],f),x=Ma(x,c.attrs,f),function Gy(l,c,d,f){l[Ia(d?c.classBindings:c.styleBindings)]=f}(l,c,f,x))}else _=function DT(l,c,d){let f;const g=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<g;_++)f=Ma(f,l[_].hostAttrs,d);return Ma(f,c.attrs,d)}(l,c,f)}return void 0!==_&&(f?c.residualClasses=_:c.residualStyles=_),d}(g,_,c,f),function yP(l,c,d,f,g,_){let w=_?c.classBindings:c.styleBindings,E=Ia(w),x=_l(w);l[f]=d;let O,P=!1;if(Array.isArray(d)){const H=d;O=H[1],(null===O||Vt(H,O)>0)&&(P=!0)}else O=d;if(g)if(0!==x){const K=Ia(l[E+1]);l[f+1]=cy(K,E),0!==K&&(l[K+1]=dy(l[K+1],f)),l[E+1]=function k1(l,c){return 131071&l|c<<17}(l[E+1],f)}else l[f+1]=cy(E,0),0!==E&&(l[E+1]=dy(l[E+1],f)),E=f;else l[f+1]=cy(x,0),0===E?E=f:l[x+1]=dy(l[x+1],f),x=f;P&&(l[f+1]=uy(l[f+1])),mw(l,O,f,!0),mw(l,O,f,!1),function cr(l,c,d,f,g){const _=g?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof c&&Vt(_,c)>=0&&(d[f+1]=O1(d[f+1]))}(c,O,l,f,_),w=cy(E,x),_?c.classBindings=w:c.styleBindings=w}(g,_,c,d,w,f)}}(_,l,w,f),c!==At&&Qr(g,w,c)&&function Ew(l,c,d,f,g,_,w,E){if(!(3&c.type))return;const x=l.data,P=x[E+1];cs(function Db(l){return 1==(1&l)}(P)?Xg(x,c,d,g,_l(P),w):void 0)||(cs(_)||function N1(l){return 2==(2&l)}(P)&&(_=Xg(x,null,d,g,E,w)),function IM(l,c,d,f,g){const _=kn(l);if(c)g?_?l.addClass(d,f):d.classList.add(f):_?l.removeClass(d,f):d.classList.remove(f);else{let w=-1===f.indexOf("-")?void 0:pl.DashCase;if(null==g)_?l.removeStyle(d,f,w):d.style.removeProperty(f);else{const E="string"==typeof g&&g.endsWith("!important");E&&(g=g.slice(0,-10),w|=pl.Important),_?l.setStyle(d,f,g,w):d.style.setProperty(f,g,E?"important":"")}}}(f,w,ha(qr(),d),g,_))}(_,_.data[qr()],g,g[11],l,g[w+1]=function RT(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=ve(Ts(l)))),l}(c,d),f,w)}function $y(l,c,d,f,g){let _=null;const w=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<w&&(_=c[E],f=Ma(f,_.hostAttrs,g),_!==l);)E++;return null!==l&&(d.directiveStylingLast=E),f}function Ma(l,c,d){const f=d?1:2;let g=-1;if(null!==c)for(let _=0;_<c.length;_++){const w=c[_];"number"==typeof w?g=w:g===f&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),mi(l,w,!!d||c[++_]))}return void 0===l?null:l}function Xg(l,c,d,f,g,_){const w=null===c;let E;for(;g>0;){const x=l[g],P=Array.isArray(x),O=P?x[1]:x,H=null===O;let K=d[g+1];K===At&&(K=H?Ut:void 0);let se=H?su(K,f):O===f?K:void 0;if(P&&!cs(se)&&(se=su(x,f)),cs(se)&&(E=se,w))return E;const Ne=l[g+1];g=w?Ia(Ne):_l(Ne)}if(null!==c){let x=_?c.residualClasses:c.residualStyles;null!=x&&(E=su(x,f))}return E}function cs(l){return void 0!==l}function ih(l,c=""){const d=Ze(),f=Yt(),g=l+22,_=f.firstCreatePass?Pf(f,g,1,c,null):f.data[g],w=d[g]=function Tg(l,c){return kn(l)?l.createText(c):l.createTextNode(c)}(d[11],c);ey(f,d,w,_),vs(_,!1)}function Tw(l){return Wy("",l,""),Tw}function Wy(l,c,d){const f=Ze(),g=yc(f,l,c,d);return g!==At&&yi(f,qr(),g),Wy}function em(l,c,d,f,g){const _=Ze(),w=bl(_,l,c,d,f,g);return w!==At&&yi(_,qr(),w),em}function Mu(l,c,d){const f=Ze();if(Qr(f,Vs(),c)){const _=Yt(),w=li();Ws(_,w,f,l,c,Ty(Ed(_.data),w,f),d,!0)}return Mu}const Pu=void 0;var jt=["en",[["a","p"],["AM","PM"],Pu],[["AM","PM"],Pu,Pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pu,"{1} 'at' {0}",Pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ti(l){const d=Math.floor(Math.abs(l)),f=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let El={};function Rw(l){const c=function Yy(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=im(c);if(d)return d;const f=c.split("-")[0];if(d=im(f),d)return d;if("en"===f)return jt;throw new Le(701,!1)}function lt(l){return Rw(l)[Pt.PluralCase]}function im(l){return l in El||(El[l]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[l]),El[l]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const rh="en-US";let Ky=rh;function sv(l,c,d,f,g){if(l=oe(l),Array.isArray(l))for(let _=0;_<l.length;_++)sv(l[_],c,d,f,g);else{const _=Yt(),w=Ze();let E=mu(l)?l:oe(l.provide),x=w1(l);const P=ai(),O=1048575&P.providerIndexes,H=P.directiveStart,K=P.providerIndexes>>20;if(mu(l)||!l.multi){const se=new nl(x,g,_u),Ne=av(E,c,g?O:O+K,H);-1===Ne?(Zs(gt(P,w),_,E),ov(_,l,c.length),c.push(E),P.directiveStart++,P.directiveEnd++,g&&(P.providerIndexes+=1048576),d.push(se),w.push(se)):(d[Ne]=se,w[Ne]=se)}else{const se=av(E,c,O+K,H),Ne=av(E,c,O,O+K),$e=se>=0&&d[se],ot=Ne>=0&&d[Ne];if(g&&!ot||!g&&!$e){Zs(gt(P,w),_,E);const vt=function Bw(l,c,d,f,g){const _=new nl(l,d,_u);return _.multi=[],_.index=c,_.componentProviders=0,xl(_,g,f&&!d),_}(g?VP:Wf,d.length,g,f,x);!g&&ot&&(d[Ne].providerFactory=vt),ov(_,l,c.length,0),c.push(E),P.directiveStart++,P.directiveEnd++,g&&(P.providerIndexes+=1048576),d.push(vt),w.push(vt)}else ov(_,l,se>-1?se:Ne,xl(d[g?Ne:se],x,!g&&f));!g&&f&&ot&&d[Ne].componentProviders++}}}function ov(l,c,d,f){const g=mu(c),_=function BM(l){return!!l.useClass}(c);if(g||_){const x=(_?oe(c.useClass):c).prototype.ngOnDestroy;if(x){const P=l.destroyHooks||(l.destroyHooks=[]);if(!g&&c.multi){const O=P.indexOf(d);-1===O?P.push(d,[f,x]):P[O+1].push(f,x)}else P.push(d,x)}}}function xl(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function av(l,c,d,f){for(let g=d;g<f;g++)if(c[g]===l)return g;return-1}function Wf(l,c,d,f){return cm(this.multi,[])}function VP(l,c,d,f){const g=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,E=lc(d,d[1],this.providerFactory.index,f);_=E.slice(0,w),cm(g,_);for(let x=w;x<E.length;x++)_.push(E[x])}else _=[],cm(g,_);return _}function cm(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function lv(l,c=[]){return d=>{d.providersResolver=(f,g)=>function BP(l,c,d){const f=Yt();if(f.firstCreatePass){const g=ts(l);sv(d,f.data,f.blueprint,g,!0),sv(c,f.data,f.blueprint,g,!1)}}(f,g?g(l):l,c)}}class um{resolveComponentFactory(c){throw function Yf(l){const c=Error(`No component factory found for ${ve(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Kf=(()=>{class l{}return l.NULL=new um,l})();class wc{}class cv{}class Vw{}function ZP(){return uh(ai(),Ze())}function uh(l,c){return new Qf(Ni(l,c))}let Qf=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=ZP,l})();function cx(l){return l instanceof Qf?l.nativeElement:l}class ux{}let qP=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Jf(){const l=Ze(),d=tr(ai().index,l);return function dx(l){return l[11]}(xn(d)?d:l)}(),l})(),dh=(()=>{class l{}return l.\u0275prov=hn({token:l,providedIn:"root",factory:()=>null}),l})();class Zw{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Bu=new Zw("14.0.4"),uv={};function Cc(l,c,d,f,g=!1){for(;null!==d;){const _=c[d.index];if(null!==_&&f.push(Kn(_)),_r(_))for(let E=10;E<_.length;E++){const x=_[E],P=x[1].firstChild;null!==P&&Cc(x[1],x,P,f)}const w=d.type;if(8&w)Cc(l,c,d.child,f);else if(32&w){const E=$0(d,c);let x;for(;x=E();)f.push(x)}else if(16&w){const E=u1(c,d);if(Array.isArray(E))f.push(...E);else{const x=Eg(c[16]);Cc(x[1],x,E,f,!0)}}d=g?d.projectionNext:d.next}return f}class Xf{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return Cc(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(_r(c)){const d=c[8],f=d?d.indexOf(this):-1;f>-1&&(Y_(c,f),al(d,f))}this._attachedToViewContainer=!1}K_(this._lView[1],this._lView)}onDestroy(c){_y(this._lView[1],this._lView,null,c)}markForCheck(){Og(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Cy(l,c,d){const f=c[10];f.begin&&f.begin();try{Yi(l,c,l.template,d)}catch(g){throw xy(c,g),g}finally{f.end&&f.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yM(l,c){Cf(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=c}}class hx extends Xf{constructor(c){super(c),this._view=c}detectChanges(){Kb(this._view)}checkNoChanges(){}get context(){return null}}class hh extends Kf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=$(c);return new ep(d,this.ngModule)}}function fx(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class Vi{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,f){const g=this.injector.get(c,uv,f);return g!==uv||d===uv?g:this.parentInjector.get(c,d,f)}}class ep extends Vw{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function ab(l){return l.map(m1).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return fx(this.componentDef.inputs)}get outputs(){return fx(this.componentDef.outputs)}create(c,d,f,g){let _=(g=g||this.ngModule)instanceof Ef?g:g?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new Vi(c,_):c,E=w.get(ux,Zc),x=w.get(dh,null),P=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",H=f?function as(l,c,d){if(kn(l))return l.selectRootElement(c,d===rn.ShadowDom);let f="string"==typeof c?l.querySelector(c):c;return f.textContent="",f}(P,f,this.componentDef.encapsulation):K0(E.createRenderer(null,this.componentDef),O,function jP(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(O)),K=this.componentDef.onPush?288:272,se=function Bg(l,c){return{components:[],scheduler:l||aM,clean:eT,playerHandler:c||null,flags:0}}(),Ne=Pg(0,null,null,1,0,null,null,null,null,null),$e=Mg(null,Ne,se,K,null,null,E,P,x,w,null);let ot,vt;Hs($e);try{const Rt=function bu(l,c,d,f,g,_){const w=d[1];d[22]=l;const x=Pf(w,22,2,"#host",null),P=x.mergedAttrs=c.hostAttrs;null!==P&&(Yd(x,P,!0),null!==l&&(Bo(g,l,P),null!==x.classes&&ib(g,l,x.classes),null!==x.styles&&nb(g,l,x.styles)));const O=f.createRenderer(l,c),H=Mg(d,q1(c),null,c.onPush?32:16,d[22],x,f,O,_||null,null,null);return w.firstCreatePass&&(Zs(gt(x,d),w,c.type),Ng(w,x),yy(x,d.length,1)),Nf(d,H),d[22]=H}(H,this.componentDef,$e,E,P);if(H)if(f)Bo(P,H,["ng-version",Bu.full]);else{const{attrs:je,classes:Nt}=function Wt(l){const c=[],d=[];let f=1,g=2;for(;f<l.length;){let _=l[f];if("string"==typeof _)2===g?""!==_&&c.push(_,l[++f]):8===g&&d.push(_);else{if(!gl(g))break;g=_}f++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);je&&Bo(P,H,je),Nt&&Nt.length>0&&ib(P,H,Nt.join(" "))}if(vt=oi(Ne,22),void 0!==d){const je=vt.projection=[];for(let Nt=0;Nt<this.ngContentSelectors.length;Nt++){const vn=d[Nt];je.push(null!=vn?Array.from(vn):null)}}ot=function Xb(l,c,d,f,g){const _=d[1],w=function iP(l,c,d){const f=ai();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),J1(l,f,c,Wi(l,c,1,null),d));const g=lc(c,l,f.directiveStart,f);os(g,c);const _=Ni(f,c);return _&&os(_,c),g}(_,d,c);if(f.components.push(w),l[8]=w,null!==g)for(const x of g)x(w,c);if(c.contentQueries){const x=ai();c.contentQueries(1,w,x.directiveStart)}const E=ai();return!_.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(ic(E.index),Wd(d[1],E,0,E.directiveStart,E.directiveEnd,c),K1(c,w)),w}(Rt,this.componentDef,$e,se,[uT]),yu(Ne,$e,null)}finally{$c()}return new GP(this.componentType,ot,uh(vt,$e),$e,vt)}}class GP extends class lx{}{constructor(c,d,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new hx(g),this.componentType=c}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function dm(l,c){return new px(l,c??null)}class px extends wc{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hh(this);const f=Qe(c);this._bootstrapComponents=pu(f.bootstrap),this._r3Injector=E1(c,d,[{provide:wc,useValue:this},{provide:Kf,useValue:this.componentFactoryResolver}],ve(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(c)}get(c,d=ml.THROW_IF_NOT_FOUND,f=Tt.Default){return c===ml||c===wc||c===lb?this:this._r3Injector.get(c,d,f)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class hv extends cv{constructor(c){super(),this.moduleType=c}create(c){return new px(this.moduleType,c)}}class tp extends wc{constructor(c,d,f){super(),this.componentFactoryResolver=new hh(this),this.instance=null;const g=new hb([...c,{provide:wc,useValue:this},{provide:Kf,useValue:this.componentFactoryResolver}],d||db(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Ra(l,c=null,d=null){return new tp(l,c,d).injector}function fh(l,c,d){const f=ar()+l,g=Ze();return g[f]===At?bo(g,f,d?c.call(d):c()):function Qd(l,c){return l[c]}(g,f)}function fv(l,c,d,f){return function ip(l,c,d,f,g,_){const w=c+d;return Qr(l,w,g)?bo(l,w+1,_?f.call(_,g):f(g)):np(l,w+1)}(Ze(),ar(),l,c,d,f)}function yx(l,c,d,f,g){return qw(Ze(),ar(),l,c,d,f,g)}function rr(l,c,d,f,g,_){return function Na(l,c,d,f,g,_,w,E){const x=c+d;return function Zg(l,c,d,f,g){const _=Cu(l,c,d,f);return Qr(l,c+2,g)||_}(l,x,g,_,w)?bo(l,x+3,E?f.call(E,g,_,w):f(g,_,w)):np(l,x+3)}(Ze(),ar(),l,c,d,f,g,_)}function Cn(l,c,d,f,g,_,w){return function jw(l,c,d,f,g,_,w,E,x){const P=c+d;return function Yo(l,c,d,f,g,_){const w=Cu(l,c,d,f);return Cu(l,c+2,g,_)||w}(l,P,g,_,w,E)?bo(l,P+4,x?f.call(x,g,_,w,E):f(g,_,w,E)):np(l,P+4)}(Ze(),ar(),l,c,d,f,g,_,w)}function np(l,c){const d=l[c];return d===At?void 0:d}function qw(l,c,d,f,g,_,w){const E=c+d;return Cu(l,E,g,_)?bo(l,E+2,w?f.call(w,g,_):f(g,_)):np(l,E+2)}function wx(l,c){const d=Yt();let f;const g=l+22;d.firstCreatePass?(f=function WP(l,c){if(c)for(let d=c.length-1;d>=0;d--){const f=c[d];if(l===f.name)return f}}(c,d.pipeRegistry),d.data[g]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(g,f.onDestroy)):f=d.data[g];const _=f.factory||(f.factory=ys(f.type)),w=cn(_u);try{const E=eu(!1),x=_();return eu(E),function gP(l,c,d,f){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=f}(d,Ze(),g,x),x}finally{cn(w)}}function hm(l,c,d,f){const g=l+22,_=Ze(),w=fa(_,g);return function sp(l,c){return l[1].data[c].pure}(_,g)?qw(_,ar(),c,w.transform,d,f,w):w.transform(d,f)}function gv(l){return c=>{setTimeout(l,void 0,c)}}const Il=class Cx extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,f){let g=c,_=d||(()=>null),w=f;if(c&&"object"==typeof c){const x=c;g=x.next?.bind(x),_=x.error?.bind(x),w=x.complete?.bind(x)}this.__isAsync&&(_=gv(_),g&&(g=gv(g)),w&&(w=gv(w)));const E=super.subscribe({next:g,error:_,complete:w});return c instanceof z.w0&&c.add(E),E}};function Ex(){return this._results[_c()]()}class gm{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=_c(),f=gm.prototype;f[d]||(f[d]=Ex)}get changes(){return this._changes||(this._changes=new Il)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const f=this;f.dirty=!1;const g=gi(c);(this._changesDetected=!function Rd(l,c,d){if(l.length!==c.length)return!1;for(let f=0;f<l.length;f++){let g=l[f],_=c[f];if(d&&(g=d(g),_=d(_)),_!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mm=(()=>{class l{}return l.__NG_ELEMENT_ID__=_m,l})();const KP=mm,QP=class extends KP{constructor(c,d,f){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(c,d){const f=this._declarationTContainer.tViews,g=Mg(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,d||null);g[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(g[19]=w.createEmbeddedView(f)),yu(f,g,c),new Xf(g)}};function _m(){return ym(ai(),Ze())}function ym(l,c){return 4&l.type?new QP(c,l,uh(l,c)):null}let mv=(()=>{class l{}return l.__NG_ELEMENT_ID__=Lr,l})();function Lr(){return _v(ai(),Ze())}const zw=mv,Gw=class extends zw{constructor(c,d,f){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=f}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const c=Vo(this._hostTNode,this._hostLView);if(Fn(c)){const d=Oi(c,this._hostLView),f=yt(c);return new js(d[1].data[f+8],d)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=op(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,f){let g,_;"number"==typeof f?g=f:null!=f&&(g=f.index,_=f.injector);const w=c.createEmbeddedView(d||{},_);return this.insert(w,g),w}createComponent(c,d,f,g,_){const w=c&&!function Gs(l){return"function"==typeof l}(c);let E;if(w)E=d;else{const H=d||{};E=H.index,f=H.injector,g=H.projectableNodes,_=H.environmentInjector||H.ngModuleRef}const x=w?c:new ep($(c)),P=f||this.parentInjector;if(!_&&null==x.ngModule){const K=(w?P:this.parentInjector).get(Ef,null);K&&(_=K)}const O=x.create(P,g,void 0,_);return this.insert(O.hostView,E),O}insert(c,d){const f=c._lView,g=f[1];if(function Kl(l){return _r(l[3])}(f)){const O=this.indexOf(c);if(-1!==O)this.detach(O);else{const H=f[3],K=new Gw(H,H[6],H[3]);K.detach(K.indexOf(c))}}const _=this._adjustIndex(d),w=this._lContainer;!function bM(l,c,d,f){const g=10+f,_=d.length;f>0&&(d[g-1][4]=c),f<_-10?(c[4]=d[g],ru(d,10+f,c)):(d.push(c),c[4]=null),c[3]=d;const w=c[17];null!==w&&d!==w&&function Hn(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(w,c);const E=c[19];null!==E&&E.insertView(l),c[2]|=64}(g,f,w,_);const E=eb(_,w),x=f[11],P=Q_(x,w[7]);return null!==P&&function _M(l,c,d,f,g,_){f[0]=g,f[6]=c,Cf(l,f,d,1,g,_)}(g,w[6],x,f,P,E),c.attachToViewContainerRef(),ru(ea(w),_,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=op(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),f=Y_(this._lContainer,d);f&&(al(ea(this._lContainer),d),K_(f[1],f))}detach(c){const d=this._adjustIndex(c,-1),f=Y_(this._lContainer,d);return f&&null!=al(ea(this._lContainer),d)?new Xf(f):null}_adjustIndex(c,d=0){return c??this.length+d}};function op(l){return l[8]}function ea(l){return l[8]||(l[8]=[])}function _v(l,c){let d;const f=c[l.index];if(_r(f))d=f;else{let g;if(8&l.type)g=Kn(f);else{const _=c[11];g=_.createComment("");const w=Ni(l,c);gu(_,Q_(_,w),g,function pc(l,c){return kn(l)?l.nextSibling(c):c.nextSibling}(_,w),!1)}c[l.index]=d=Rf(f,c,g,l),Nf(c,d)}return new Gw(d,l,c)}class yv{constructor(c){this.queryList=c,this.matches=null}clone(){return new yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class vv{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const f=null!==c.contentQueries?c.contentQueries[0]:d.length,g=[];for(let _=0;_<f;_++){const w=d.getByIndex(_);g.push(this.queries[w.indexInDeclarationView].clone())}return new vv(g)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==Jw(c,d).matches&&this.queries[d].setDirty()}}class Tx{constructor(c,d,f=null){this.predicate=c,this.flags=d,this.read=f}}class $w{constructor(c=[]){this.queries=c}elementStart(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,_=this.getByIndex(f).embeddedTView(c,g);_&&(_.indexInDeclarationView=f,null!==d?d.push(_):d=[_])}return null!==d?new $w(d):null}template(c,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class ph{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new ph(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(c,d,Ww(d,_)),this.matchTNodeWithReadOption(c,d,qs(d,c,_,!1,!1))}else f===mm?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,qs(d,c,f,!1,!1))}matchTNodeWithReadOption(c,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Qf||g===mv||g===mm&&4&d.type)this.addMatch(d.index,-2);else{const _=qs(d,c,g,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,f)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function Ww(l,c){const d=l.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===c)return d[f+1];return null}function xx(l,c,d,f){return-1===d?function XP(l,c){return 11&l.type?uh(l,c):4&l.type?ym(l,c):null}(c,l):-2===d?function Ix(l,c,d){return d===Qf?uh(c,l):d===mm?ym(c,l):d===mv?_v(c,l):void 0}(l,c,f):lc(l,l[1],d,c)}function Yw(l,c,d,f){const g=c[19].queries[f];if(null===g.matches){const _=l.data,w=d.matches,E=[];for(let x=0;x<w.length;x+=2){const P=w[x];E.push(P<0?null:xx(c,_[P],w[x+1],d.metadata.read))}g.matches=E}return g.matches}function Kw(l,c,d,f){const g=l.queries.getByIndex(d),_=g.matches;if(null!==_){const w=Yw(l,c,g,d);for(let E=0;E<_.length;E+=2){const x=_[E];if(x>0)f.push(w[E/2]);else{const P=_[E+1],O=c[-x];for(let H=10;H<O.length;H++){const K=O[H];K[17]===K[3]&&Kw(K[1],K,P,f)}if(null!==O[9]){const H=O[9];for(let K=0;K<H.length;K++){const se=H[K];Kw(se[1],se,P,f)}}}}}return f}function Qw(l){const c=Ze(),d=Yt(),f=Ad();el(f+1);const g=Jw(d,f);if(l.dirty&&md(c)===(2==(2&g.metadata.flags))){if(null===g.matches)l.reset([]);else{const _=g.crossesNgTemplate?Kw(d,c,f,[]):Yw(d,c,g,f);l.reset(_,cx),l.notifyOnChanges()}return!0}return!1}function Sx(l,c,d){const f=Yt();f.firstCreatePass&&(Px(f,new Tx(l,c,d),-1),2==(2&c)&&(f.staticViewQueries=!0)),Mx(f,Ze(),c)}function Dx(l,c,d,f){const g=Yt();if(g.firstCreatePass){const _=ai();Px(g,new Tx(c,d,f),_.index),function eR(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(g,l),2==(2&d)&&(g.staticContentQueries=!0)}Mx(g,Ze(),d)}function gh(){return function ap(l,c){return l[19].queries[c].queryList}(Ze(),Ad())}function Mx(l,c,d){const f=new gm(4==(4&d));_y(l,c,f,f.destroy),null===c[19]&&(c[19]=new vv),c[19].queries.push(new yv(f))}function Px(l,c,d){null===l.queries&&(l.queries=new $w),l.queries.track(new ph(c,d))}function Jw(l,c){return l.queries.getByIndex(c)}function us(l,c){return ym(l,c)}function lp(l){const c=$(l)||W(l)||Me(l);return null!==c&&c.standalone}function Tv(...l){}const Am=new Zt("Application Initializer");let xv=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Tv,this.reject=Tv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(Fy(_))d.push(_);else if(nh(_)){const w=new Promise((E,x)=>{_.subscribe({complete:E,error:x})});d.push(w)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(ft(Am,8))},l.\u0275prov=hn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const uC=new Zt("AppId",{providedIn:"root",factory:function hp(){return`${vh()}${vh()}${vh()}`}});function vh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hC=new Zt("Platform Initializer"),zx=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ps=new Zt("appBootstrapListener"),Iv=new Zt("AnimationModuleType");let Sv=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=hn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const ka=new Zt("LocaleId",{providedIn:"root",factory:()=>Fi(ka,Tt.Optional|Tt.SkipSelf)||function Gx(){return typeof $localize<"u"&&$localize.locale||rh}()}),fp=new Zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gp{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let $x=(()=>{class l{compileModuleSync(d){return new hv(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),_=pu(Qe(d).declarations).reduce((w,E)=>{const x=$(E);return x&&w.push(new ep(x)),w},[]);return new gp(f,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=hn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const fR=(()=>Promise.resolve(0))();function fC(l){typeof Zone>"u"?fR.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Ao{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function pR(){let l=at.requestAnimationFrame,c=at.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Wx(l){const c=()=>{!function gR(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(at,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,pC(l),l.isCheckStableRunning=!0,Mv(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),pC(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,_,w,E)=>{try{return gC(l),d.invokeTask(g,_,w,E)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&c(),Gu(l)}},onInvoke:(d,f,g,_,w,E,x)=>{try{return gC(l),d.invoke(g,_,w,E,x)}finally{l.shouldCoalesceRunChangeDetection&&c(),Gu(l)}},onHasTask:(d,f,g,_)=>{d.hasTask(g,_),f===g&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,pC(l),Mv(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,f,g,_)=>(d.handleError(g,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new Le(909,!1)}run(c,d,f){return this._inner.run(c,d,f)}runTask(c,d,f,g){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+g,c,Dv,Tv,Tv);try{return _.runTask(w,d,f)}finally{_.cancelTask(w)}}runGuarded(c,d,f){return this._inner.runGuarded(c,d,f)}runOutsideAngular(c){return this._outer.run(c)}}const Dv={};function Mv(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function pC(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function gC(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Gu(l){l._nesting--,Mv(l)}class Tm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(c,d,f){return c.apply(d,f)}runGuarded(c,d,f){return c.apply(d,f)}runOutsideAngular(c){return c()}runTask(c,d,f,g){return c.apply(d,f)}}const mC=new Zt(""),_C=new Zt("");let vC,mR=(()=>{class l{constructor(d,f,g){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vC||(function _R(l){vC=l}(g),g.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),fC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fC(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,g){return[]}}return l.\u0275fac=function(d){return new(d||l)(ft(Ao),ft(yC),ft(_C))},l.\u0275prov=hn({token:l,factory:l.\u0275fac}),l})(),yC=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return vC?.findTestabilityInTree(this,d,f)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=hn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Dl=null;const Ar=new Zt("AllowMultipleToken"),bC=new Zt("PlatformDestroyListeners");class vR{constructor(c,d){this.name=c,this.token=d}}function Rv(l,c,d=[]){const f=`Platform: ${c}`,g=new Zt(f);return(_=[])=>{let w=Sm();if(!w||w.injector.get(Ar,!1)){const E=[...d,..._,{provide:g,useValue:!0}];l?l(E):function Pv(l){if(Dl&&!Dl.get(Ar,!1))throw new Le(400,!1);Dl=l;const c=l.get(CC);(function wC(l){const c=l.get(hC,null);c&&c.forEach(d=>d())})(l)}(function Im(l=[],c){return ml.create({name:c,providers:[{provide:vo,useValue:"platform"},{provide:bC,useValue:new Set([()=>Dl=null])},...l]})}(E,f))}return function xm(l){const c=Sm();if(!c)throw new Le(401,!1);return c}()}}function Sm(){return Dl?.get(CC)??null}let CC=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const g=function Xx(l,c){let d;return d="noop"===l?new Tm:("zone.js"===l?void 0:l)||new Ao(c),d}(f?.ngZone,function Jx(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:Ao,useValue:g}];return g.run(()=>{const w=ml.create({providers:_,parent:this.injector,name:d.moduleType.name}),E=d.create(w),x=E.injector.get(fu,null);if(!x)throw new Le(402,!1);return g.runOutsideAngular(()=>{const P=g.onError.subscribe({next:O=>{x.handleError(O)}});E.onDestroy(()=>{Dm(this._modules,E),P.unsubscribe()})}),function EC(l,c,d){try{const f=d();return Fy(f)?f.catch(g=>{throw c.runOutsideAngular(()=>l.handleError(g)),g}):f}catch(f){throw c.runOutsideAngular(()=>l.handleError(f)),f}}(x,g,()=>{const P=E.injector.get(xv);return P.runInitializers(),P.donePromise.then(()=>(function ye(l){en(l,"Expected localeId to be defined"),"string"==typeof l&&(Ky=l.toLowerCase().replace(/_/g,"-"))}(E.injector.get(ka,rh)||rh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,f=[]){const g=Nv({},f);return function yR(l,c,d){const f=new hv(d);return Promise.resolve(f)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(d){const f=d.injector.get(kv);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new Le(403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(bC,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(ft(ml))},l.\u0275prov=hn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function Nv(l,c){return Array.isArray(c)?c.reduce(Nv,l):{...l,...c}}let kv=(()=>{class l{constructor(d,f,g){this._zone=d,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new F.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),fC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ge.T)(_,w.pipe((0,me.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const g=d instanceof Vw;if(!this._injector.get(xv).done)throw!g&&lp(d),new Le(405,false);let w;w=g?d:this._injector.get(Kf).resolveComponentFactory(d),this.componentTypes.push(w.componentType);const E=function Yx(l){return l.isBoundToModule}(w)?void 0:this._injector.get(wc),P=w.create(ml.NULL,[],f||w.selector,E),O=P.location.nativeElement,H=P.injector.get(mC,null);return H?.registerApplication(O),P.onDestroy(()=>{this.detachView(P.hostView),Dm(this.components,P),H?.unregisterApplication(O)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Dm(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Ps,[]).concat(this._bootstrapListeners).forEach(g=>g(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Dm(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Le(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(ft(Ao),ft(ml),ft(fu))},l.\u0275prov=hn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function Dm(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}let nI=!0,bh=!1;function mp(){return bh=!0,nI}function AC(){if(bh)throw new Error("Cannot enable prod mode after platform setup.");nI=!1}let iI=(()=>{class l{}return l.__NG_ELEMENT_ID__=CR,l})();function CR(l){return function IC(l,c,d){if(la(l)&&!d){const f=tr(l.index,c);return new Xf(f,f)}return 47&l.type?new Xf(c[16],c):null}(ai(),Ze(),16==(16&l))}class aI{constructor(){}supports(c){return wu(c)}create(c){return new SR(c)}}const IR=(l,c)=>c;class SR{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||IR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,f=this._removalsHead,g=0,_=null;for(;d||f;){const w=!f||d&&d.currentIndex<Vv(f,g,_)?d:f,E=Vv(w,g,_),x=w.currentIndex;if(w===f)g--,f=f._nextRemoved;else if(d=d._next,null==w.previousIndex)g++;else{_||(_=[]);const P=E-g,O=x-g;if(P!=O){for(let K=0;K<P;K++){const se=K<_.length?_[K]:_[K]=0,Ne=se+K;O<=Ne&&Ne<P&&(_[K]=se+1)}_[w.previousIndex]=O-P}}E!==x&&c(w,E,x)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!wu(c))throw new Le(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g,_,w,d=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)_=c[E],w=this._trackByFn(E,_),null!==d&&Object.is(d.trackById,w)?(f&&(d=this._verifyReinsertion(d,_,w,E)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,w,E),f=!0),d=d._next}else g=0,function mT(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[_c()]();let f;for(;!(f=d.next()).done;)c(f.value)}}(c,E=>{w=this._trackByFn(g,E),null!==d&&Object.is(d.trackById,w)?(f&&(d=this._verifyReinsertion(d,E,w,g)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,w,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,f,g){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,_,g)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,_,g)):c=this._addAfter(new DR(d,f),_,g),c}_verifyReinsertion(c,d,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?c=this._reinsertAfter(_,c._prev,g):c.currentIndex!=g&&(c.currentIndex=g,this._addToMoves(c,g)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const g=c._prevRemoved,_=c._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(c,d,f),this._addToMoves(c,f),c}_moveAfter(c,d,f){return this._unlink(c),this._insertAfter(c,d,f),this._addToMoves(c,f),c}_addAfter(c,d,f){return this._insertAfter(c,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,f){const g=null===d?this._itHead:d._next;return c._next=g,c._prev=d,null===g?this._itTail=c:g._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new _p),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,f=c._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _p),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class DR{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MR{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const d=c._prevDup,f=c._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class _p{constructor(){this.map=new Map}put(c){const d=c.trackById;let f=this.map.get(d);f||(f=new MR,this.map.set(d,f)),f.add(c)}get(c,d){const g=this.map.get(c);return g?g.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vv(l,c,d){const f=l.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+c+g}class wh{constructor(){}supports(c){return c instanceof Map||nw(c)}create(){return new kC}}class kC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||nw(c)))throw new Le(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const f=c._prev;return d._next=c,d._prev=f,c._prev=d,f&&(f._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const g=this._records.get(c);this._maybeAddToChanges(g,d);const _=g._prev,w=g._next;return _&&(_._next=w),w&&(w._prev=_),g._next=null,g._prev=null,g}const f=new Hv(c);return this._records.set(c,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(f=>d(c[f],f))}}class Hv{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yp(){return new Pm([new aI])}let Pm=(()=>{class l{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||yp()),deps:[[l,new Ta,new $r]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new Le(901,!1)}}return l.\u0275prov=hn({token:l,providedIn:"root",factory:yp}),l})();function Zv(){return new Rm([new wh])}let Rm=(()=>{class l{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||Zv()),deps:[[l,new Ta,new $r]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new Le(901,!1)}}return l.\u0275prov=hn({token:l,providedIn:"root",factory:Zv}),l})();const RR=Rv(null,"core",[]);let OC=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(ft(kv))},l.\u0275mod=Gt({type:l}),l.\u0275inj=fn({}),l})();function NR(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(Et,Oe,B)=>{B.d(Oe,{Z:()=>Le});var s=B(2090),z=B(4859),F=B(9681),ge=B(1877);class me{constructor(Ee,Ae){this._delegate=Ee,this.firebase=Ae,(0,F._addComponent)(Ee,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Ee,Ae=F._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(Ee);return!et.isInitialized()&&"EXPLICIT"===(null===(rt=et.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Ae})}_removeServiceInstance(Ee,Ae=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(Ae)}_addComponent(Ee){(0,F._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,F._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function xe(){const Je=function ve(Je){const Ee={},Ae={__esModule:!0,initializeApp:function Be(ce,we={}){const Re=F.initializeApp(ce,we);if((0,s.r3)(Ee,Re.name))return Ee[Re.name];const ee=new Je(Re,Ae);return Ee[Re.name]=ee,ee},app:et,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Pe(ce){const we=ce.name,Re=we.replace("-compat","");if(F._registerComponent(ce)&&"PUBLIC"===ce.type){const ee=(ue=et())=>{if("function"!=typeof ue[Re])throw le.create("invalid-app-argument",{appName:we});return ue[Re]()};void 0!==ce.serviceProps&&(0,s.ZB)(ee,ce.serviceProps),Ae[Re]=ee,Je.prototype[Re]=function(...ue){return this._getService.bind(this,we).apply(this,ce.multipleInstances?ue:[])}}return"PUBLIC"===ce.type?Ae[Re]:null},removeApp:function rt(ce){delete Ee[ce]},useAsService:function st(ce,we){return"serverAuth"===we?null:we},modularAPIs:F}};function et(ce){if(!(0,s.r3)(Ee,ce=ce||F._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:ce});return Ee[ce]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Ve(){return Object.keys(Ee).map(ce=>Ee[ce])}}),et.App=Je,Ae}(me);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Ee(Ae){(0,s.ZB)(Je,Ae)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Je}(),Y=new ge.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=Q;!function He(Je){(0,F.registerVersion)("@firebase/app-compat","0.1.28",Je)}()},9681:(Et,Oe,B)=>{B.r(Oe),B.d(Oe,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>hn,_apps:()=>Pn,_clearComponents:()=>gs,_components:()=>hi,_getProvider:()=>fn,_registerComponent:()=>tn,_removeServiceInstance:()=>Yn,deleteApp:()=>Tt,getApp:()=>fi,getApps:()=>Os,initializeApp:()=>ms,onLog:()=>cn,registerVersion:()=>jn,setLogLevel:()=>or});var s=B(5861),z=B(4859),F=B(1877),ge=B(2090),me=B(8766);class Te{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function le(re){return"VERSION"===re.getComponent()?.type}(De)){const Ke=De.getImmediate();return`${Ke.library}/${Ke.version}`}return null}).filter(De=>De).join(" ")}}const ve="@firebase/app",Q=new F.Yd("@firebase/app"),en="[DEFAULT]",tt={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pn=new Map,hi=new Map;function Rn(re,j){try{re.container.addComponent(j)}catch(De){Q.debug(`Component ${j.name} failed to register with FirebaseApp ${re.name}`,De)}}function hn(re,j){re.container.addOrOverwriteComponent(j)}function tn(re){const j=re.name;if(hi.has(j))return Q.debug(`There were multiple attempts to register component ${j}.`),!1;hi.set(j,re);for(const De of Pn.values())Rn(De,re);return!0}function fn(re,j){const De=re.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),re.container.getProvider(j)}function Yn(re,j,De=en){fn(re,j).clearInstance(De)}function gs(){hi.clear()}const Xn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ks{constructor(j,De,Ke){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=Ke,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const es="9.8.4";function ms(re,j={}){"object"!=typeof j&&(j={name:j});const De=Object.assign({name:en,automaticDataCollectionEnabled:!1},j),Ke=De.name;if("string"!=typeof Ke||!Ke)throw Xn.create("bad-app-name",{appName:String(Ke)});const _t=Pn.get(Ke);if(_t){if((0,ge.vZ)(re,_t.options)&&(0,ge.vZ)(De,_t.config))return _t;throw Xn.create("duplicate-app",{appName:Ke})}const Gt=new z.H0(Ke);for(const Nn of hi.values())Gt.addComponent(Nn);const pn=new ks(re,De,Gt);return Pn.set(Ke,pn),pn}function fi(re=en){const j=Pn.get(re);if(!j)throw Xn.create("no-app",{appName:re});return j}function Os(){return Array.from(Pn.values())}function Tt(re){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(re){const j=re.name;Pn.has(j)&&(Pn.delete(j),yield Promise.all(re.container.getProviders().map(De=>De.delete())),re.isDeleted=!0)})).apply(this,arguments)}function jn(re,j,De){var Ke;let _t=null!==(Ke=tt[re])&&void 0!==Ke?Ke:re;De&&(_t+=`-${De}`);const Gt=_t.match(/\s|\//),pn=j.match(/\s|\//);if(Gt||pn){const Nn=[`Unable to register library "${_t}" with version "${j}":`];return Gt&&Nn.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Gt&&pn&&Nn.push("and"),pn&&Nn.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void Q.warn(Nn.join(" "))}tn(new z.wA(`${_t}-version`,()=>({library:_t,version:j}),"VERSION"))}function cn(re,j){if(null!==re&&"function"!=typeof re)throw Xn.create("invalid-log-argument");(0,F.Am)(re,j)}function or(re){(0,F.Ub)(re)}const zn="firebase-heartbeat-store";let ji=null;function oo(){return ji||(ji=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(re,j)=>{0===j&&re.createObjectStore(zn)}}).catch(re=>{throw Xn.create("storage-open",{originalErrorMessage:re.message})})),ji}function at(){return(at=(0,s.Z)(function*(re){var j;try{return(yield oo()).transaction(zn).objectStore(zn).get(zi(re))}catch(De){throw Xn.create("storage-get",{originalErrorMessage:null===(j=De)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function wt(re,j){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(re,j){var De;try{const _t=(yield oo()).transaction(zn,"readwrite");return yield _t.objectStore(zn).put(j,zi(re)),_t.done}catch(Ke){throw Xn.create("storage-set",{originalErrorMessage:null===(De=Ke)||void 0===De?void 0:De.message})}})).apply(this,arguments)}function zi(re){return`${re.name}!${re.options.appId}`}class ei{constructor(j){this.container=j,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new J(De),this._heartbeatsCachePromise=this._storage.read().then(Ke=>(this._heartbeatsCache=Ke,Ke))}triggerHeartbeat(){var j=this;return(0,s.Z)(function*(){const Ke=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Gn();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==_t&&!j._heartbeatsCache.heartbeats.some(Gt=>Gt.date===_t))return j._heartbeatsCache.heartbeats.push({date:_t,agent:Ke}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(Gt=>{const pn=new Date(Gt.date).valueOf();return Date.now()-pn<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,s.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const De=Gn(),{heartbeatsToSend:Ke,unsentEntries:_t}=function wn(re,j=1024){const De=[];let Ke=re.slice();for(const _t of re){const Gt=De.find(pn=>pn.agent===_t.agent);if(Gt){if(Gt.dates.push(_t.date),G(De)>j){Gt.dates.pop();break}}else if(De.push({agent:_t.agent,dates:[_t.date]}),G(De)>j){De.pop();break}Ke=Ke.slice(1)}return{heartbeatsToSend:De,unsentEntries:Ke}}(j._heartbeatsCache.heartbeats),Gt=(0,ge.L)(JSON.stringify({version:2,heartbeats:Ke}));return j._heartbeatsCache.lastSentHeartbeatDate=De,_t.length>0?(j._heartbeatsCache.heartbeats=_t,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),Gt})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class J{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,s.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function rn(re){return at.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var De=this;return(0,s.Z)(function*(){var Ke;if(yield De._canUseIndexedDBPromise){const Gt=yield De.read();return wt(De.app,{lastSentHeartbeatDate:null!==(Ke=j.lastSentHeartbeatDate)&&void 0!==Ke?Ke:Gt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var De=this;return(0,s.Z)(function*(){var Ke;if(yield De._canUseIndexedDBPromise){const Gt=yield De.read();return wt(De.app,{lastSentHeartbeatDate:null!==(Ke=j.lastSentHeartbeatDate)&&void 0!==Ke?Ke:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...j.heartbeats]})}})()}}function G(re){return(0,ge.L)(JSON.stringify({version:2,heartbeats:re})).length}!function ie(re){tn(new z.wA("platform-logger",j=>new Te(j),"PRIVATE")),tn(new z.wA("heartbeat",j=>new ei(j),"PRIVATE")),jn(ve,"0.7.27",re),jn(ve,"0.7.27","esm2017"),jn("fire-js","")}("")},4859:(Et,Oe,B)=>{B.d(Oe,{H0:()=>ve,wA:()=>F,zt:()=>me});var s=B(5861),z=B(2090);class F{constructor(Q,Y,oe){this.name=Q,this.instanceFactory=Y,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ge="[DEFAULT]";class me{constructor(Q,Y){this.name=Q,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const Y=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(Y)){const oe=new z.BH;if(this.instancesDeferred.set(Y,oe),this.isInitialized(Y)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:Y});nt&&oe.resolve(nt)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(Q){var Y;const oe=this.normalizeInstanceIdentifier(Q?.identifier),nt=null!==(Y=Q?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(He){if(nt)return null;throw He}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function le(xe){return"EAGER"===xe.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[Y,oe]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(Y);try{const He=this.getOrInitializeService({instanceIdentifier:nt});oe.resolve(He)}catch{}}}}clearInstance(Q=ge){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,s.Z)(function*(){const Y=Array.from(Q.instances.values());yield Promise.all([...Y.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Y.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ge){return this.instances.has(Q)}getOptions(Q=ge){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:Y={}}=Q,oe=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:oe,options:Y});for(const[He,Le]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(He)&&Le.resolve(nt);return nt}onInit(Q,Y){var oe;const nt=this.normalizeInstanceIdentifier(Y),He=null!==(oe=this.onInitCallbacks.get(nt))&&void 0!==oe?oe:new Set;He.add(Q),this.onInitCallbacks.set(nt,He);const Le=this.instances.get(nt);return Le&&Q(Le,nt),()=>{He.delete(Q)}}invokeOnInitCallbacks(Q,Y){const oe=this.onInitCallbacks.get(Y);if(oe)for(const nt of oe)try{nt(Q,Y)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:Y={}}){let oe=this.instances.get(Q);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=Q,xe===ge?void 0:xe),options:Y}),this.instances.set(Q,oe),this.instancesOptions.set(Q,Y),this.invokeOnInitCallbacks(oe,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,oe)}catch{}var xe;return oe||null}normalizeInstanceIdentifier(Q=ge){return this.component?this.component.multipleInstances?Q:ge:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const Y=this.getProvider(Q.name);if(Y.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);Y.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const Y=new me(Q,this);return this.providers.set(Q,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Oe,B)=>{B.d(Oe,{Am:()=>xe,Ub:()=>ve,Yd:()=>le,in:()=>z});const s=[];var z=(()=>{return(Q=z||(z={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",z;var Q})();const F={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ge=z.INFO,me={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Te=(Q,Y,...oe)=>{if(Y<Q.logLevel)return;const nt=(new Date).toISOString(),He=me[Y];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[He](`[${nt}]  ${Q.name}:`,...oe)};class le{constructor(Y){this.name=Y,this._logLevel=ge,this._logHandler=Te,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in z))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?F[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Y),this._logHandler(this,z.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Y),this._logHandler(this,z.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Y),this._logHandler(this,z.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Y),this._logHandler(this,z.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Y),this._logHandler(this,z.ERROR,...Y)}}function ve(Q){s.forEach(Y=>{Y.setLogLevel(Q)})}function xe(Q,Y){for(const oe of s){let nt=null;Y&&Y.level&&(nt=F[Y.level]),oe.userLogHandler=null===Q?null:(He,Le,...Je)=>{const Ee=Je.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Le>=(nt??He.logLevel)&&Q({level:z[Le].toLowerCase(),message:Ee,args:Je,type:He.name})}}}},8766:(Et,Oe,B)=>{B.d(Oe,{Lj:()=>Be,X3:()=>et});var s=B(5861);let F,ge;const le=new WeakMap,ve=new WeakMap,xe=new WeakMap,Q=new WeakMap,Y=new WeakMap;let He={get(we,Re,ee){if(we instanceof IDBTransaction){if("done"===Re)return ve.get(we);if("objectStoreNames"===Re)return we.objectStoreNames||xe.get(we);if("store"===Re)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ae(we[Re])},set:(we,Re,ee)=>(we[Re]=ee,!0),has:(we,Re)=>we instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in we};function Ee(we){return"function"==typeof we?function Je(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...Re){return we.apply(rt(this),Re),Ae(le.get(this))}:function(...Re){return Ae(we.apply(rt(this),Re))}:function(Re,...ee){const ue=we.call(rt(this),Re,...ee);return xe.set(ue,Re.sort?Re.sort():[Re]),Ae(ue)}}(we):(we instanceof IDBTransaction&&function nt(we){if(ve.has(we))return;const Re=new Promise((ee,ue)=>{const fe=()=>{we.removeEventListener("complete",Se),we.removeEventListener("error",_e),we.removeEventListener("abort",_e)},Se=()=>{ee(),fe()},_e=()=>{ue(we.error||new DOMException("AbortError","AbortError")),fe()};we.addEventListener("complete",Se),we.addEventListener("error",_e),we.addEventListener("abort",_e)});ve.set(we,Re)}(we),((we,Re)=>Re.some(ee=>we instanceof ee))(we,function me(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,He):we)}function Ae(we){if(we instanceof IDBRequest)return function oe(we){const Re=new Promise((ee,ue)=>{const fe=()=>{we.removeEventListener("success",Se),we.removeEventListener("error",_e)},Se=()=>{ee(Ae(we.result)),fe()},_e=()=>{ue(we.error),fe()};we.addEventListener("success",Se),we.addEventListener("error",_e)});return Re.then(ee=>{ee instanceof IDBCursor&&le.set(ee,we)}).catch(()=>{}),Y.set(Re,we),Re}(we);if(Q.has(we))return Q.get(we);const Re=Ee(we);return Re!==we&&(Q.set(we,Re),Y.set(Re,we)),Re}const rt=we=>Y.get(we);function et(we,Re,{blocked:ee,upgrade:ue,blocking:fe,terminated:Se}={}){const _e=indexedDB.open(we,Re),We=Ae(_e);return ue&&_e.addEventListener("upgradeneeded",xt=>{ue(Ae(_e.result),xt.oldVersion,xt.newVersion,Ae(_e.transaction))}),ee&&_e.addEventListener("blocked",()=>ee()),We.then(xt=>{Se&&xt.addEventListener("close",()=>Se()),fe&&xt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),We}function Be(we,{blocked:Re}={}){const ee=indexedDB.deleteDatabase(we);return Re&&ee.addEventListener("blocked",()=>Re()),Ae(ee).then(()=>{})}const Ve=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],st=new Map;function ce(we,Re){if(!(we instanceof IDBDatabase)||Re in we||"string"!=typeof Re)return;if(st.get(Re))return st.get(Re);const ee=Re.replace(/FromIndex$/,""),ue=Re!==ee,fe=Pe.includes(ee);if(!(ee in(ue?IDBIndex:IDBObjectStore).prototype)||!fe&&!Ve.includes(ee))return;const Se=function(){var _e=(0,s.Z)(function*(We,...xt){const ln=this.transaction(We,fe?"readwrite":"readonly");let en=ln.store;return ue&&(en=en.index(xt.shift())),(yield Promise.all([en[ee](...xt),fe&&ln.done]))[0]});return function(xt){return _e.apply(this,arguments)}}();return st.set(Re,Se),Se}!function Le(we){He=we(He)}(we=>({...we,get:(Re,ee,ue)=>ce(Re,ee)||we.get(Re,ee,ue),has:(Re,ee)=>!!ce(Re,ee)||we.has(Re,ee)}))},5861:(Et,Oe,B)=>{function s(F,ge,me,Te,le,ve,xe){try{var Q=F[ve](xe),Y=Q.value}catch(oe){return void me(oe)}Q.done?ge(Y):Promise.resolve(Y).then(Te,le)}function z(F){return function(){var ge=this,me=arguments;return new Promise(function(Te,le){var ve=F.apply(ge,me);function xe(Y){s(ve,Te,le,xe,Q,"next",Y)}function Q(Y){s(ve,Te,le,xe,Q,"throw",Y)}xe(void 0)})}}B.d(Oe,{Z:()=>z})}},Et=>{Et(Et.s=1297)}]);